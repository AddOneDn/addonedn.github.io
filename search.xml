<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[express, koa, reduxä¸‰è€…ä¸­é—´ä»¶å¯¹æ¯”]]></title>
    <url>%2F2018%2F09%2F14%2Fexpress-koa-redux%E4%B8%89%E8%80%85%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%AF%B9%E6%AF%94%2F</url>
    <content type="text"><![CDATA[è¿™ä¸‰è€…å¯¹å„è‡ªçš„ä¸­é—´ä»¶æœ‰ç€ä¸åŒçš„å®žçŽ°ï¼Œä½œè€…æœ¬äººå¯¹æ­¤ä¹Ÿæ¯”è¾ƒå¥½å¥‡ï¼Œåœ¨è¿™é‡Œå°å°çš„ç ”ç©¶ä¸€ä¸‹æºç ï¼ŒæŽ¢ç©¶ä¸‰è€…ä¹‹é—´çš„å¼‚åŒ ä»€ä¹ˆæ˜¯ä¸­é—´ä»¶åœ¨æˆ‘çœ‹æ¥ï¼Œä¸­é—´ä»¶å°±æ˜¯åœ¨ä½ çš„ä»£ç è¿è¡Œä¸­è¿›è¡Œä¸€äº›ä¿®æ”¹çš„å·¥å…·ã€‚æ¯”å¦‚ä½ æƒ³å–æ°´ï¼Œé‚£ä¹ˆå–æ°´ä¹‹å‰ä½ å°†æ°´å‡€åŒ–å°±å¯ä»¥ç†è§£ä¸ºæ˜¯ä¸€æ¬¡ä¸­é—´ä»¶çš„æ‰§è¡Œã€‚ä»–ä¸æ˜¯æ’ä»¶ï¼Œç‹¬ç«‹äºŽç¨‹åºä¹‹å¤–ï¼Œè€Œæ›´åƒæ˜¯åœ¨ä½ çš„ä»£ç ä¸­è¡¨çŽ°ä¸€ç§ç±»ä¼¼è¿žæŽ¥çš„åŠŸèƒ½ Koa ä¸Ž Express ä¸­é—´ä»¶æ¦‚è¿°è¿™ä¸¤è€…éƒ½æ˜¯Nodeå±‚é¢çš„ï¼Œè¿™é‡Œæˆ‘ä»¬æ ¹æ®å®˜æ–¹æ–‡æ¡£æ¥å¯¹æ¯” Express123456789101112131415161718var app = express();// æ²¡æœ‰æŒ‚è½½è·¯å¾„çš„ä¸­é—´ä»¶ï¼Œåº”ç”¨çš„æ¯ä¸ªè¯·æ±‚éƒ½ä¼šæ‰§è¡Œè¯¥ä¸­é—´ä»¶app.use(function (req, res, next) &#123; console.log('Time:', Date.now()); next();&#125;);// æŒ‚è½½è‡³ /user/:id çš„ä¸­é—´ä»¶ï¼Œä»»ä½•æŒ‡å‘ /user/:id çš„è¯·æ±‚éƒ½ä¼šæ‰§è¡Œå®ƒapp.use('/user/:id', function (req, res, next) &#123; console.log('Request Type:', req.method); next();&#125;);// è·¯ç”±å’Œå¥æŸ„å‡½æ•°(ä¸­é—´ä»¶ç³»ç»Ÿ)ï¼Œå¤„ç†æŒ‡å‘ /user/:id çš„ GET è¯·æ±‚app.get('/user/:id', function (req, res, next) &#123; res.send('USER');&#125;); å¯ä»¥çœ‹åˆ°expressçš„ä¸­é—´ä»¶æ˜¯ä½¿ç”¨nextè¿›è¡Œçº¿æ€§è°ƒç”¨çš„ï¼Œä¸€ä¸ªæŽ¥ç€ä¸€ä¸ªçš„æ‰§è¡Œï¼Œæ˜¯ä¸€ç§å°¾é€’å½’çš„è°ƒç”¨(åŽæ–‡ä¼šè®²)ã€‚ç„¶åŽåœ¨æœ€åŽä¸€ä¸ªä¸­é—´ä»¶ä¸­è¿›è¡Œå¯¹responseçš„å¤„ç†(ä¹ æƒ¯) Koa12345678910111213141516171819202122232425262728const Koa = require('koa');const app = new Koa();// x-response-timeapp.use(async (ctx, next) =&gt; &#123; const start = Date.now(); await next(); const ms = Date.now() - start; ctx.set('X-Response-Time', `$&#123;ms&#125;ms`);&#125;);// loggerapp.use(async (ctx, next) =&gt; &#123; const start = Date.now(); await next(); const ms = Date.now() - start; console.log(`$&#123;ctx.method&#125; $&#123;ctx.url&#125; - $&#123;ms&#125;`);&#125;);// responseapp.use(async ctx =&gt; &#123; ctx.body = 'Hello World';&#125;);app.listen(3000); ä»Žä»£ç ä¸­çš„awaitå¯ä»¥çœ‹å‡ºï¼Œkoaçš„ä¸­é—´ä»¶ç»å¯¹ä¸æ˜¯çº¿æ€§çš„ï¼Œå› ä¸ºä¸€æ—¦ä½¿ç”¨äº†awaitï¼Œä»£ç å°±ä¼šåœæ­¢å½“å‰ä¸­é—´ä»¶çš„æ‰§è¡Œè½¬è€ŒåŽ»æ‰§è¡ŒawaitåŽé¢çš„ä»£ç ï¼Œè¿™é‡Œnextè¡¨ç¤ºä¸‹ä¸€ä¸ªä¸­é—´ä»¶ã€‚æ‰€ä»¥è¿™æ˜¯ä¸€ä¸ªæ”¯æŒgeneratorçš„æ´‹è‘±åœˆæ¨¡åž‹(åŽæ–‡ä¼šè®²) Koa ä¸Ž Express ä¸­é—´ä»¶æºç è¿›ä¸€æ­¥è§£æžä¸Šé¢æåˆ°ï¼Œexpressçš„ä¸­é—´ä»¶æ˜¯å°¾é€’å½’è°ƒç”¨ï¼Œè€Œkoaçš„ä¸­é—´ä»¶å› ä¸ºä½¿ç”¨äº†awaitæ‰€ä»¥æ˜¯æ”¯æŒgeneratorçš„æ´‹è‘±åœˆæ¨¡åž‹ï¼Œè¿™é‡Œä»¥æ­¤å±•å¼€æ¥åˆ†æžä»£ç  Expressæˆ‘ä»¬ç›´æŽ¥è¿›å…¥application.jsä¸­è§‚å¯Ÿä¸­é—´ä»¶å¤„ç† 12345678910111213141516app.handle = function(req, res, callback) &#123; var stack = this.stack; var idx = 0; function next(err) &#123; if (idx &gt;= stack.length) &#123; callback('err') return; &#125; var mid; while(idx &lt; stack.length) &#123; mid = stack[idx++]; mid(req, res, next); &#125; &#125; next()&#125; è¿™é‡Œnextæ–¹æ³•ä¸æ–­å–å‡ºstackä¸­çš„ä¸­é—´ä»¶å¹¶ä¸”å°†è‡ªå·±ä¼ é€’ç»™ä¸­é—´ä»¶ä½œä¸ºå‚æ•°ï¼Œè¿™æ ·ä¸­é—´ä»¶åªéœ€è¦è°ƒç”¨nextæ–¹æ³•å°±èƒ½ä¸æ–­ä¼ é€’åˆ°ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ã€‚åœ¨å‡½æ•°çš„æœ«å°¾é€’å½’è°ƒç”¨äº†nextæ–¹æ³•ï¼Œæ‰€ä»¥ç§°ä¸ºå°¾é€’å½’è°ƒç”¨ KoaKoaå¯¹ä¸­é—´ä»¶çš„å¤„ç†æ˜¯åœ¨ä¸€ä¸ªç‹¬ç«‹çš„åŒ…koa-composeä¸­ 12345678910111213141516171819202122'use strict'module.exports = composefunction compose (middleware) &#123; return function (context, next) &#123; let index = -1 return dispatch(0) function dispatch (i) &#123; index = i let fn = middleware[i] if (i === middleware.length) fn = next if (!fn) return Promise.resolve() try &#123; return Promise.resolve(fn(context, dispatch.bind(null, i + 1))); &#125; catch (err) &#123; return Promise.reject(err) &#125; &#125; &#125;&#125; Koaä¸­ä½¿ç”¨äº†Promiseæ¥æ”¯æŒå¼‚æ­¥ï¼Œè¿™é‡Œä¸åœè°ƒç”¨dispatch.bind(null, i + 1)ä¼ é€’ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ï¼Œä¸€ä¸ªä¸€ä¸ªä¸­é—´ä»¶å‘é‡Œæ‰§è¡Œï¼Œç›´åˆ°æœ€åŽä¸€ä¸ªä¸­é—´ä»¶æ‰§è¡Œå®ŒresolveæŽ‰ï¼Œç„¶åŽä¸æ–­å‘å‰resolveä¸­é—´ä»¶ï¼Œç›´åˆ°ç¬¬ä¸€ä¸ªä¸­é—´ä»¶è¢«resolveã€‚æˆ‘ä»¬å¯ä»¥å‘çŽ°ï¼Œç›¸åº”çš„å¤„ç†å¹¶ä¸åœ¨ä¸­é—´ä»¶ä¸­è€Œæ˜¯åœ¨å…¶resolveåŽ Reduxå¯¹äºŽreduxçš„åŸºç¡€createStoreï¼Œreducerï¼Œdispatchç­‰å°±ä¸è§£é‡Šäº†ï¼Œè¿™é‡Œç›´æŽ¥çœ‹applyMiddlewareçš„ä»£ç  12345678910111213141516171819202122232425import compose from './compose'export default function applyMiddleware(...middlewares) &#123; return createStore =&gt; (...args) =&gt; &#123; const store = createStore(...args) let dispatch = () =&gt; &#123; throw new Error( `Dispatching while constructing your middleware is not allowed. ` + `Other middleware would not be applied to this dispatch.` ) &#125; const middlewareAPI = &#123; getState: store.getState, dispatch: (...args) =&gt; dispatch(...args) &#125; const chain = middlewares.map(middleware =&gt; middleware(middlewareAPI)) dispatch = compose(...chain)(store.dispatch) return &#123; ...store, dispatch &#125; &#125;&#125; è¿™é‡Œè¿˜æ˜¯æ¯”è¾ƒå¥½ç†è§£çš„ï¼ŒmiddlewareAPIä¸­åŒ…å«ä¸¤ä¸ªapiï¼Œä¸€ä¸ªæ˜¯storeçš„getStateï¼›å¦ä¸€ä¸ªæ˜¯è¦†å†™çš„dispathï¼Œè¿™æ˜¯ä¸€ä¸ªå¤–éƒ¨å˜é‡ï¼Œæœ€ç»ˆæŒ‡å‘è¦†å†™åŽçš„dispachï¼Œå¯¹äºŽcomposeçš„ä½œç”¨æ˜¯compose(f, g, h) è¿”å›ž () =&gt; f(g(h(..args))) é‚£ä¹ˆ dispatch = compose(...chain)(store.dispatch)å³åŽŸç”Ÿçš„ store.dispatch ä¼ å…¥æœ€åŽä¸€ä¸ªâ€œä¸­é—´ä»¶â€ï¼Œè¿”å›žä¸€ä¸ªæ–°çš„ dispatch , å†å‘å¤–ä¼ é€’åˆ°å‰ä¸€ä¸ªä¸­é—´ä»¶ï¼Œç›´è‡³è¿”å›žæœ€ç»ˆçš„ dispatch, å½“è¦†å†™åŽçš„dispatch è°ƒç”¨æ—¶ï¼Œæ¯ä¸ªâ€œä¸­é—´ä»¶â€œçš„æ‰§è¡Œåˆæ˜¯ä»Žå¤–å‘å†…çš„â€æ´‹è‘±åœˆâ€œæ¨¡åž‹]]></content>
      <categories>
        <category>Javascript</category>
      </categories>
      <tags>
        <tag>Javascript</tag>
        <tag>React</tag>
        <tag>Nodejs</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è‡ªå†™npmåŒ…æ±‡æ€»]]></title>
    <url>%2F2018%2F09%2F10%2F%E8%87%AA%E5%86%99npm%E5%8C%85%E6%B1%87%E6%80%BB%2F</url>
    <content type="text"><![CDATA[pareact-cliA lightweight quickly build simple react cli which is based on parcel If you just want to quickly build a project which support react and sass and without any configurationsï¼Œyou can use this cli. Prepare12345npm install -g parcel-bundleroryarn global add parcel-bundler Install12345npm install pareact-cli -goryarn add pareact-cli -g Usage1pareact init &lt;project-name&gt; Develop1234567&quot;chalk&quot;: &quot;^2.4.1&quot;,&quot;commander&quot;: &quot;^2.15.1&quot;,&quot;download-git-repo&quot;: &quot;^1.0.2&quot;,&quot;handlebars&quot;: &quot;^4.0.11&quot;,&quot;inquirer&quot;: &quot;^6.0.0&quot;,&quot;log-symbols&quot;: &quot;^2.2.0&quot;,&quot;ora&quot;: &quot;^2.1.0&quot; astro-classnameA small and powerful package which can help you change or add classnames quickly and easily Installnpm: 1npm install astro-classname yarn: 1yarn add astro-classname UsageYou can set anything to the classnameï¼Œbut the value that was associated with a given key is falsyï¼Œ it will not be effectiveã€‚Object has the highest priority Before you useï¼Œyou should require or import the package You can also add classname to dom directly Usage with react! Usage with jquery! You can use all the methods in anywhere DevelopInitåˆå§‹åŒ–æ‰€éœ€å˜é‡ï¼ŒåŽæ ¹æ®ä¼ å…¥å‚æ•°ä½¿ç”¨ä¸åŒå¤„ç†å‡½æ•°ã€‚ 12345678910111213141516function classname() &#123; var res = &#123;&#125;; var str = ''; var _arg = Array.from(arguments); var toString = Object.prototype.toString; if (getType(arguments[0]) === 'nodelist' || (getType(arguments[0]) !== 'string' &amp;&amp; arguments[0][0]))&#123; handleMulElement(arguments); return ; &#125; else if (getType(arguments[0]) === 'htmldivelement') &#123; handleSinElement(arguments); return ; &#125; else &#123; return getClassName(_arg); &#125;&#125; getTypeæˆªå–å­—ç¬¦ä¸²8ä½åŽçš„å­—ç¬¦å¹¶åŽ»æŽ‰]ï¼Œè½¬æˆå°å†™è¿”å›ž 1234function getType(el) &#123; var _type = toString.call(el).slice(8, -1).toLowerCase(); return _type;&#125; ç±»åž‹åˆ¤åˆ«NodeList or jQuerygetTypeæ–¹æ³•åˆ¤æ–­æ˜¯å¦ä¸ºnodelistï¼›arguments[0][0]åˆ¤æ–­å…¶æ˜¯å¦ä¸ºjQueryå¯¹è±¡ï¼ŒåŒæ—¶æŽ’é™¤å…¶ä¸ºstringçš„æƒ…å†µ 1234if (getType(arguments[0]) === 'nodelist' || (getType(arguments[0]) !== 'string' &amp;&amp; arguments[0][0]))&#123; handleMulElement(arguments); return ;&#125; å•ç‹¬DomdocumentèŽ·å–çš„å•ç‹¬domç±»åž‹ä¸ºhtmldivelement 1234if (getType(arguments[0]) === 'htmldivelement') &#123; handleSinElement(arguments); return ;&#125; å…¶ä»–1return getClassName(_arg); å‰©ä½™æ‡’å¾—å†™äº† j2urlInstallnpm: 1npm install j2url yarn: 1yarn add j2url UsageYou can get every params 123j2url.getParam('https://www.google.com/?a=1', 'a') // =&gt; 1j2url.getParam('https://www.google.com/?a[]=1&amp;a[]=2', 'a') // =&gt; [1, 2]j2url.getParam('https://www.google.com/?a=&#123;'b': 1&#125;', 'a') // =&gt; &#123;b: 1&#125; You can also set the param of the url , the last argument defaults to false, if you set it to true, you will get a encoding url 123j2url.setParam('https://www.google.com/?a=1', 'a', 2) // =&gt; https://www.google.com/?a=2j2url.setParam('https://www.google.com/?a=1&amp;b=2', 'c', 3) // =&gt; https://www.google.com/?a=1&amp;b=2&amp;c=3j2url.setParam('https://www.google.com/?a=1', 'a', 2, true) // =&gt; https%3A%2F%2Fwww.google.com%2F%3Fa%3D2 You can get the urlâ€™s params to json 12j2url.toJson('https://www.google.com/?a=1&amp;b=2') // =&gt; &#123;a: 1,b: 2&#125;j2url.toJson('https://www.google.com/?a=&#123;'name': 'bob'&#125;&amp;b[]=1&amp;b[]=2') // =&gt; &#123;a: &#123;name: bob&#125;,b:[1, 2]&#125; You can add the json to url 1j2url.toUrl('https://www.google.com/','a','&#123;'name': 'Tom'&#125;') // =&gt; https://www.google.com/?a=&#123;'name': 'Tom'&#125; DevelopInitåˆå§‹åŒ–j2urlå¯¹è±¡ 123var j2url = &#123;&#125; getParamArrèŽ·å–urlå‚æ•°æ•°ç»„ï¼Œé»˜è®¤ä½¿ç”¨decodeURIComponentè§£ç åŽï¼Œä½¿ç”¨splitåˆ†å‰²æˆæ•°ç»„åŽèŽ·å–å‚æ•°å­—ç¬¦ä¸²ï¼Œå†æ¬¡splitåˆ†å‰²&amp;èŽ·å–å‚æ•°æ•°ç»„å¹¶è¿”å›ž 1234567j2url.getParamArr = function(url) &#123; var url = decodeURIComponent(url); var paramString = (url.split('?')[1] ? url.split('?')[1] : ''); var paramArr = paramString.split('&amp;'); return paramArr;&#125; getParamå…ˆèŽ·å–urlå‚æ•°æ•°ç»„ï¼ŒéåŽ†èŽ·å–å…¶keyå’Œvalueï¼Œåˆ¤æ–­keyå’ŒparamNameæ˜¯å¦ç›¸ç­‰ï¼Œè‹¥ç›¸ç­‰å†åˆ¤æ–­valueæ˜¯å¦ä¸ºJsonç„¶åŽåˆ†åˆ«å¤„ç†ï¼›è‹¥ä¸ç›¸ç­‰åˆ™åˆ¤æ–­å…¶æ˜¯å¦ä¸ºæ•°ç»„ï¼Œè‹¥ä¸ºæ•°ç»„åˆ™åˆ¤æ–­æ˜¯å¦å·²ç»æœ‰è¯¥å…ƒç´ (æ ¹æ®æ•°ç»„é•¿åº¦æ˜¯å¦å¤§äºŽ0)åˆ†åˆ«å¤„ç† 12345678910111213141516j2url.getParam = function(url, paramName) &#123; var paramArr = j2url.getParamArr(url); var obj = []; var res = []; paramArr.forEach(function(item) &#123; obj = item.split('='); if(obj[0] === paramName) &#123; j2url.isObj(obj[1]) ? res = JSON.parse(obj[1]) : res = obj[1]; &#125; else if (obj[0].slice(0, obj[0].length - 2) === paramName) &#123; res.length &gt; 0 ? res.push(obj[1]) : res = [obj[1]]; &#125; &#125;) return res.length === 0 ? '' : res;&#125; setParamåŒæ ·å…ˆèŽ·å–å‚æ•°æ•°ç»„ï¼Œåˆ†å‰²èŽ·å–å‚æ•°ï¼Œè®¾ç½®æ—¶éœ€è¦ç¡®å®šè®¾ç½®çš„ä¼˜å…ˆçº§ï¼Œå…¶ä¸­objectä¸ºæœ€é«˜ä¼˜å…ˆçº§ï¼Œæœ€åŽå°†å‚æ•°æ‹¼æŽ¥æˆå­—ç¬¦ä¸²ï¼Œæ ¹æ®ä¼ å…¥å‚æ•°è¿”å›žæ˜¯å¦ç¼–ç çš„ç»“æžœ 1234567891011121314151617181920212223242526272829j2url.setParam = function(url, paramName, value, encode = false) &#123; var paramArr = j2url.getParamArr(url); var isSetted = false; var obj = []; var res = ''; paramArr = paramArr.map(function(item) &#123; obj = item.split('='); if(obj[0] === paramName) &#123; obj[1] ? obj[1] = value : obj.push(value); isSetted = true; return obj[0] + '=' + obj[1]; &#125; return item; &#125;) if(!isSetted) &#123; var str = paramName + '=' + value; paramArr.push(str); &#125; paramArr.forEach(function(item) &#123; res += (item + '&amp;'); &#125;) if(encode) return encodeURIComponent(j2url.getUrlOp(url) + '?' + res.substring(0, res.length - 1)); else return j2url.getUrlOp(url) + '?' + res.substring(0, res.length - 1);&#125; toJsonåŒæ ·èŽ·å–å‚æ•°æ•°ç»„ï¼ŒéåŽ†å‚æ•°ï¼Œå¯¹å‚æ•°åˆ†æˆæ•°ç»„ï¼Œå¯¹è±¡ï¼Œå…¶ä»–ä¸‰ç§æƒ…å†µåˆ†åˆ«å¤„ç†ã€‚è‹¥ä¸ºæ•°ç»„ï¼Œåˆ™èŽ·å–è¯¥æ•°ç»„åä¹‹åŽåˆ¤æ–­å…¶æ˜¯å¦å­˜åœ¨åœ¨å½“å‰æ•°ç»„ä¸­è¿›è¡Œç›¸åº”çš„åˆå§‹åŒ–æˆ–è€…pushæ“ä½œï¼›è‹¥ä¸ºå¯¹è±¡ï¼Œåˆ™ç›´æŽ¥parseå°†å­—ç¬¦ä¸²è½¬æˆå¯¹è±¡åŽèµ‹å€¼ï¼›å…¶ä»–åˆ™ç›´æŽ¥èµ‹å€¼ 123456789101112131415161718j2url.toJson = function(url) &#123; var obj = &#123;&#125;; var temp; var paramArr = j2url.getParamArr(url); paramArr.forEach(function(item) &#123; temp = item.split('='); if(j2url.isArr(temp[0]))&#123; var key = temp[0].slice(0, temp[0].length - 2); Object.keys(obj).indexOf(key) &gt; -1 ? obj[key].push(temp[1]) : obj[key] = [temp[1]]; &#125; else if (j2url.isObj(temp[1])) &#123; obj[temp[0]] = JSON.parse(temp[1]); &#125; else &#123; obj[temp[0]] = (temp[1] ? temp[1] : ''); &#125; &#125;) return obj;&#125; toUrlæ‹¼æŽ¥urlï¼Œkeyä»¥åŠjsonæˆå­—ç¬¦ä¸²è¿”å›žå³å¯ 123j2url.toUrl = function(url, key, json) &#123; return url + '?' + key + '=' + JSON.stringify(json);&#125; getUrlOpèŽ·å–?å‰åœ°å€ 123j2url.getUrlOp = function(url) &#123; return url.split('?')[0];&#125; isArråˆ¤æ–­å‚æ•°æ˜¯å¦ä¸ºæ•°ç»„ 123j2url.isArr = function(value) &#123; return (value.slice(value.length - 2) === '[]');&#125; isObjåˆ¤æ–­å‚æ•°æ˜¯å¦ä¸ºå¯¹è±¡ 123j2url.isObj = function(value) &#123; return (value.indexOf('&#123;') === 0 &amp;&amp; value.indexOf('&#125;') === value.length -1)&#125;]]></content>
      <categories>
        <category>npm</category>
      </categories>
      <tags>
        <tag>Javascript</tag>
        <tag>npm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é¡¹ç›®å‘ç‚¹]]></title>
    <url>%2F2018%2F07%2F25%2F%E9%A1%B9%E7%9B%AE%E5%9D%91%E7%82%B9%2F</url>
    <content type="text"><![CDATA[Node MVCé‡å®šå‘ä½¿ç”¨Node Mvcæ—¶é‡å®šå‘ä¸å†™åœ¨é¡µé¢çš„jsé‡Œï¼Œè€Œæ˜¯åº”è¯¥åœ¨routerå¯¹åº”çš„controlleré‡Œè¿›è¡Œctx.redirectï¼Œé˜»æ­¢å¤šä½™çš„å¤„ç†å‘ç”Ÿ Koa routerä½¿ç”¨Routeræ—¶åŒ¹é…è§„åˆ™ä¼šé‡ä¸Šå¾€ä¸‹åŒ¹é…ï¼Œå¦‚æžœä¸Šé¢æœ‰index/test/:idåˆ™ä¸ä¼šè¿›å…¥ä¸‹é¢çš„index/test/next Classnamesreactä¸­è¿›è¡ŒåŠ¨æ€çš„classnameæ·»åŠ æ—¶å¯ä»¥ä½¿ç”¨classnamesåº“ pureComponenté€‚å½“ä½¿ç”¨pureComponentå‡å°‘renderæ“ä½œæ¬¡æ•° ç»„ä»¶ä¸­bindå¦‚æžœæ¯æ¬¡éƒ½åœ¨ render é‡Œé¢çš„ jsx åŽ» bind è¿™ä¸ªæ–¹æ³•ï¼Œä¼šæ¶ˆè€—æ€§èƒ½ï¼Œå› ä¸ºæ¯æ¬¡bindéƒ½ä¼šè¿”å›žä¸€ä¸ªæ–°å‡½æ•°ï¼Œé‡å¤åˆ›å»ºé™æ€å‡½æ•°è‚¯å®šæ˜¯ä¸åˆé€‚çš„ï¼ˆé—­åŒ…ä¹Ÿæ˜¯è¿™æ ·ï¼Œä½†bindå†…éƒ¨æœ‰ä¸€ç³»åˆ—çš„ç®—æ³•ï¼Œæ¯”é—­åŒ…å¤æ‚å¤šäº†ï¼‰ setIntervalé—´éš”ä¸å¯¹ä½¿ç”¨setTimeouté€’å½’æ¨¡æ‹ŸsetInterval é¡µé¢é—´åˆ‡æ¢å¯¼è‡´å®šæ—¶å™¨å‡ºçŽ°å»¶æ—¶åˆ¤æ–­æ˜¯å¦åœç•™åœ¨å½“å‰é¡µé¢ 123let hiddenProperty = 'hidden' in document ? 'hidden' : 'webkitHidden' in document ? 'webkitHidden' : null; inline-blockhtmlä¸­ä»£ç ä¹‹é—´çš„ç©ºæ ¼å’Œå›žè½¦ï¼Œå¯¼è‡´ä½¿ç”¨nline-blockçš„ä¸¤ä¸ªå…ƒç´ ä¼šå‡ºçŽ°èŽ«åçš„ç©ºç™½ï¼Œä»¥åŠç§»åŠ¨ç«¯è¡Œè·èŽ«åæ‰©å¤§é—®é¢˜ ä¸ç”¨inline-blockæˆ–è€…è´Ÿmarginï¼Œfont-sizeç­‰ç­‰ floatä¸Žborderfloutå…ƒç´ åŠ äº†borderä¹‹åŽï¼Œä¼šå¯¼è‡´é«˜åº¦å˜é«˜ï¼Œæ¢è¡Œçš„floatå…ƒç´ ä¼šä¸Žå¤šå‡ºæ¥çš„borderå¯¹é½ ç”¨box-shadowæˆ–è€…æŠŠborderåŠ åœ¨å…¶ä»–ä½ç½® renderä¸ŽsetStateä¸è¦åœ¨renderä¸­è¿›è¡ŒsetStateæ“ä½œï¼ŒåŒ…æ‹¬å¦‚æžœä½ åœ¨renderä¸­è°ƒç”¨äº†æ¸²æŸ“å…ƒç´ çš„æ–¹æ³•ï¼Œåœ¨è¯¥æ–¹æ³•ä¸­ä¹Ÿä¸è¦ä½¿ç”¨setStateã€‚å› ä¸ºsetStateä¼šè§¦å‘renderï¼Œå¯¼è‡´æ­»å¾ªçŽ¯ iosçš„hoveriosè®¾å¤‡ä¸Šåªæœ‰å¯ç‚¹å‡»å…ƒç´ æ‰æœ‰ç‚¹å‡»äº‹ä»¶ï¼Œå½“ä½ ä½¿ç”¨hoveræ—¶ï¼Œä½ çš„ç¬¬ä¸€æ¬¡ç‚¹å‡»å³è§¦å‘hoveræ˜¯å¯ä»¥æˆåŠŸçš„ï¼Œä½†æ˜¯å¦‚æžœä½ ç‚¹å‡»äº†ä¸€ä¸ªæ²¡æœ‰ç‚¹å‡»äº‹ä»¶çš„å…ƒç´ ï¼Œé‚£ä¹ˆä½ çš„hoveräº‹ä»¶å°†ä¼šç»§ç»­ä¿ç•™ã€‚ä¸€ä¸ªæ¯”è¾ƒæš´åŠ›çš„è§£å†³æ–¹æ¡ˆæ˜¯ç»™å…¶ä»–å…ƒç´ åŠ ä¸€ä¸ªonclick=&quot;void(0)&quot; domå¯¹è±¡æ˜¯åŽŸç”Ÿçš„è¿˜æ˜¯jqinstanceof jQuery æˆ–è€… Object[0]ï¼Œä½†æ˜¯å‰è€…åœ¨æ²¡æœ‰jqçš„æ—¶å€™ä¼šæŠ¥jQuery undefinedï¼ŒåŽè€…arrayæˆ–stringç­‰ä¹Ÿç¬¦åˆæ¡ä»¶ï¼Œä¸è¿‡ä»…ä»…æ˜¯ç”¨æ¥å•çº¯çš„åŒºåˆ†è¿™ä¸¤è€…çš„è¯è¶³å¤Ÿäº†]]></content>
      <categories>
        <category>å·¥ä½œ</category>
      </categories>
      <tags>
        <tag>å·¥ä½œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ¨å…¬å¸ä½ åº”è¯¥ä¼šçš„gitæ“ä½œ]]></title>
    <url>%2F2018%2F07%2F24%2F%E5%9C%A8%E5%85%AC%E5%8F%B8%E4%BD%A0%E5%BA%94%E8%AF%A5%E4%BC%9A%E7%9A%84git%E6%93%8D%E4%BD%9C%2F</url>
    <content type="text"><![CDATA[åŸºç¡€ git clone git pull git push git push -u origin master , è¿™é‡Œå°±æ˜¯æŠŠ master ï¼ˆé»˜è®¤ git åˆ†æ”¯ï¼‰æŽ¨é€åˆ° originï¼Œ -uä¹Ÿå°±æ˜¯â€“set-upstream, ä»£è¡¨çš„æ˜¯æ›´æ–° é»˜è®¤æŽ¨é€çš„åœ°æ–¹ï¼Œè¿™é‡Œå°±æ˜¯é»˜è®¤ä»¥åŽgit pullå’Œgit pushæ—¶ï¼Œéƒ½æ˜¯æŽ¨é€å’Œæ‹‰è‡ª origin â€“force å¼ºæŽ¨ git status git add git commit git checkout å¦‚æžœå½“å‰åˆ†æ”¯æœ‰æœªcommitä»£ç ï¼Œä¸”checkout -båˆ°å…¶ä»–åˆ†æ”¯ï¼Œä¿®æ”¹çš„ä»£ç ä¼šå¸¦è¿‡åŽ» git merge git merge aaa â€“ master // åˆå¹¶aaaåˆ°masteråˆ†æ”¯ git log git diff è¿™äº›ä¸ä¼šçš„å°±é€€å‡ºå…¬å¸å§ è¿›é˜¶git reset git reset [â€“soft | â€“mixed [-N] | â€“hard | â€“merge | â€“keep] [-q] ___ [ commitç‰ˆæœ¬å· ] || HEAD^n åˆ†æ”¯è¢«åˆå¹¶åŽï¼Œä½¿ç”¨resetä¸ç•™ç—•è¿¹çš„å›žé€€ï¼Œä½†æ˜¯ä¼šä¿®æ”¹åŽ†å²ç‰ˆæœ¬ 12345--soft å›žé€€åŽaåˆ†æ”¯ä¿®æ”¹çš„ä»£ç è¢«ä¿ç•™å¹¶æ ‡è®°ä¸ºaddçš„çŠ¶æ€ï¼ˆgit status æ˜¯ç»¿è‰²çš„çŠ¶æ€ï¼‰--mixed é‡ç½®ç´¢å¼•ï¼Œä½†ä¸é‡ç½®å·¥ä½œæ ‘ï¼Œæ›´æ”¹åŽçš„æ–‡ä»¶æ ‡è®°ä¸ºæœªæäº¤ï¼ˆaddï¼‰çš„çŠ¶æ€ã€‚é»˜è®¤æ“ä½œã€‚--hard é‡ç½®ç´¢å¼•å’Œå·¥ä½œæ ‘ï¼Œå¹¶ä¸”aåˆ†æ”¯ä¿®æ”¹çš„æ‰€æœ‰æ–‡ä»¶å’Œä¸­é—´çš„æäº¤ï¼Œæ²¡æäº¤çš„ä»£ç éƒ½è¢«ä¸¢å¼ƒäº†ã€‚--merge å’Œ--hardç±»ä¼¼ï¼Œåªä¸è¿‡å¦‚æžœåœ¨æ‰§è¡Œresetå‘½ä»¤ä¹‹å‰ä½ æœ‰æ”¹åŠ¨ä¸€äº›æ–‡ä»¶å¹¶ä¸”æœªæäº¤ï¼Œmergeä¼šä¿ç•™ä½ çš„è¿™äº›ä¿®æ”¹ï¼Œhardåˆ™ä¸ä¼šã€‚ã€æ³¨ï¼šå¦‚æžœä½ çš„è¿™äº›ä¿®æ”¹addè¿‡æˆ–commitè¿‡ï¼Œmergeå’Œhardéƒ½å°†åˆ é™¤ä½ çš„æäº¤ã€‘--keep å’Œ--hardç±»ä¼¼ï¼Œæ‰§è¡Œresetä¹‹å‰æ”¹åŠ¨æ–‡ä»¶å¦‚æžœæ˜¯aåˆ†æ”¯ä¿®æ”¹äº†çš„ï¼Œä¼šæç¤ºä½ ä¿®æ”¹äº†ç›¸åŒçš„æ–‡ä»¶ï¼Œä¸èƒ½åˆå¹¶ã€‚å¦‚æžœä¸æ˜¯aåˆ†æ”¯ä¿®æ”¹çš„æ–‡ä»¶ï¼Œä¼šç§»é™¤ç¼“å­˜åŒºã€‚git statusè¿˜æ˜¯å¯ä»¥çœ‹åˆ°ä¿æŒäº†è¿™äº›ä¿®æ”¹ã€‚ å¦‚æžœæ²¡æœ‰ç»™å‡ºæäº¤ç‚¹çš„ç‰ˆæœ¬å·ï¼Œé‚£ä¹ˆé»˜è®¤ç”¨HEADã€‚è¿™æ ·ï¼Œåˆ†æ”¯æŒ‡å‘ä¸å˜ï¼Œä½†æ˜¯ç´¢å¼•ä¼šå›žæ»šåˆ°æœ€åŽä¸€æ¬¡æäº¤ resetä¼šæ¸…é™¤commitï¼Œå¦‚æžœä»£ç å·²ç»è¢«pushåˆ°è¿œç¨‹ï¼Œå¦‚æžœè¿›è¡Œresetä¼šä½¿åŸºäºŽè¿™ä¸ªcommitçš„æ‰€æœ‰commitæ¶ˆå¤±ï¼Œæ‰€ä»¥è¿™ç§æƒ…å†µä¸å…è®¸reset git revert git revert [ commitç‰ˆæœ¬å· ] || HEAD^n git revertæ˜¯ç”¨ä¸€æ¬¡æ–°çš„commitæ¥å›žæ»šä¹‹å‰çš„commitï¼Œgit resetæ˜¯ç›´æŽ¥åˆ é™¤æŒ‡å®šçš„commit git reset æ˜¯æŠŠHEADå‘åŽç§»åŠ¨äº†ä¸€ä¸‹ï¼Œè€Œgit revertæ˜¯HEADç»§ç»­å‰è¿›ï¼Œåªæ˜¯æ–°çš„commitçš„å†…å®¹å’Œè¦revertçš„å†…å®¹æ­£å¥½ç›¸åï¼Œèƒ½å¤ŸæŠµæ¶ˆè¦è¢«revertçš„å†…å®¹ å¦‚æžœå›žé€€åˆ†æ”¯çš„ä»£ç ä»¥åŽè¿˜éœ€è¦çš„è¯ç”¨git revertï¼Œå¦‚æžœåˆ†æ”¯å½»åº•æ²¡ç”¨äº†å°±ç”¨git reset git stashçœŸå¯¹ä½ æœ‰æœªcommitä»£ç å´è¦åˆ‡æ¢åˆ†æ”¯æ—¶ï¼Œç”¨ git stashä¿å­˜å½“å‰å·¥ä½œè¿›åº¦ï¼Œä¼šæŠŠæš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„æ”¹åŠ¨ä¿å­˜èµ·æ¥ã€‚æ‰§è¡Œå®Œè¿™ä¸ªå‘½ä»¤åŽï¼Œåœ¨è¿è¡Œgit statuså‘½ä»¤ï¼Œå°±ä¼šå‘çŽ°å½“å‰æ˜¯ä¸€ä¸ªå¹²å‡€çš„å·¥ä½œåŒº git stash list æ˜¾ç¤ºä¿å­˜è¿›åº¦çš„åˆ—è¡¨ git stash drop [stash_id] åˆ é™¤ä¸€ä¸ªå­˜å‚¨çš„è¿›åº¦ã€‚å¦‚æžœä¸æŒ‡å®šstash_idï¼Œåˆ™é»˜è®¤åˆ é™¤æœ€æ–°çš„å­˜å‚¨è¿›åº¦ git stash clear åˆ é™¤æ‰€æœ‰å­˜å‚¨çš„è¿›åº¦ git stash pop [â€“index] [stash_id] git stash pop æ¢å¤æœ€æ–°çš„è¿›åº¦åˆ°å·¥ä½œåŒºã€‚gité»˜è®¤ä¼šæŠŠå·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„æ”¹åŠ¨éƒ½æ¢å¤åˆ°å·¥ä½œåŒº git stash pop â€“index æ¢å¤æœ€æ–°çš„è¿›åº¦åˆ°å·¥ä½œåŒºå’Œæš‚å­˜åŒºã€‚ï¼ˆå°è¯•å°†åŽŸæ¥æš‚å­˜åŒºçš„æ”¹åŠ¨è¿˜æ¢å¤åˆ°æš‚å­˜åŒºï¼‰ git stash pop stash@{1}æ¢å¤æŒ‡å®šçš„è¿›åº¦åˆ°å·¥ä½œåŒºã€‚stash_idæ˜¯é€šè¿‡git stash listå‘½ä»¤å¾—åˆ°çš„ é€šè¿‡git stash popå‘½ä»¤æ¢å¤è¿›åº¦åŽï¼Œä¼šåˆ é™¤å½“å‰è¿›åº¦ git rebase1234git rebase A BReapply commits from one branch on top of another branch.Commonly used to &quot;move&quot; an entire branch to another base, creating copies of the commits in the new location. æŠŠ A åˆ†æ”¯ rebase åˆ° B åˆ†æ”¯ï¼Œä¹Ÿå°±æ˜¯æŠŠ A çš„ commit ä¸Ž B çš„åˆå¹¶ï¼Œå¹¶ä¸”ä¿ç•™ B ç‹¬æœ‰çš„ commit æ¯”å¦‚git pull addone master(å°†addoneä»“åº“çš„masteråˆ†æ”¯ä¸Žæœ¬åœ°åˆ†æ”¯åˆå¹¶)ç›¸å½“äºŽ 12git fetch origin //æŠŠ origin ä»“åº“çš„ä¸œè¥¿éƒ½æ‹‰ä¸‹æ¥æœ¬åœ°git rebase addone/master //æŠŠ addone çš„ master åˆ†æ”¯ rebase åˆ°å½“å‰åˆ†æ”¯ pull çš„æ—¶å€™ï¼Œ å½“å‡ºçŽ°å†²çªè€Œä½ è§£å†³æŽ‰åŽï¼Œä¼šæœ‰å¤šä½™çš„mergeä¿¡æ¯ï¼ˆ commit message ï¼‰ï¼ŒæŽ¨èåœ¨è‡ªå·±çš„åˆ†æ”¯å¼€å‘æ—¶ï¼Œæ°¸è¿œä½¿ç”¨ fetchï¼Œrebase git rebase -i HEAD^n å°†æœ€è¿‘3æ¬¡æäº¤åˆå¹¶ï¼Œè¿›å…¥äº¤äº’å¼ç•Œé¢ï¼š1234567891011121314151617181920212223pick 0194373 skill-third-party: Change PKG_CONFIG_PATH and LD_LIBRARY_PATH.pick 4eb9b97 skill-third-party: Add default include library.pick 37f37e4 mind: Add comments for understanding.pick 84c413a install skill: Fix skill pkg relative path.# Rebase 986e234..84c413a onto 986e234 (4 commands)## Commands:# p, pick = use commit# r, reword = use commit, but edit the commit message# e, edit = use commit, but stop for amending# s, squash = use commit, but meld into previous commit# f, fixup = like &quot;squash&quot;, but discard this commit&apos;s log message# x, exec = run command (the rest of the line) using shell# d, drop = remove commit## These lines can be re-ordered; they are executed from top to bottom.## If you remove a line here THAT COMMIT WILL BE LOST.## However, if you remove everything, the rebase will be aborted.## Note that empty commits are commented out pickï¼šä¿ç•™è¯¥commitï¼ˆç¼©å†™:pï¼‰ rewordï¼šä¿ç•™è¯¥commitï¼Œä½†æˆ‘éœ€è¦ä¿®æ”¹è¯¥commitçš„æ³¨é‡Šï¼ˆç¼©å†™:rï¼‰ editï¼šä¿ç•™è¯¥commit, ä½†æˆ‘è¦åœä¸‹æ¥ä¿®æ”¹è¯¥æäº¤(ä¸ä»…ä»…ä¿®æ”¹æ³¨é‡Š)ï¼ˆç¼©å†™:eï¼‰ squashï¼šå°†è¯¥commitå’Œå‰ä¸€ä¸ªcommitåˆå¹¶ï¼ˆç¼©å†™:sï¼‰ fixupï¼šå°†è¯¥commitå’Œå‰ä¸€ä¸ªcommitåˆå¹¶ï¼Œä½†æˆ‘ä¸è¦ä¿ç•™è¯¥æäº¤çš„æ³¨é‡Šä¿¡æ¯ï¼ˆç¼©å†™:fï¼‰ execï¼šæ‰§è¡Œshellå‘½ä»¤ï¼ˆç¼©å†™:xï¼‰ dropï¼šæˆ‘è¦ä¸¢å¼ƒè¯¥commitï¼ˆç¼©å†™:d) éœ€è¦ä¿®æ”¹æ—¶ï¼ŒæŠŠä¸Šé¢å››ä¸ªè¡¥ä¸æœ€å‰é¢çš„ pick æ”¹æˆå¯¹åº”æ“ä½œï¼ˆå¦‚ rewordï¼Œfixup ï¼‰ï¼Œç„¶åŽä¿å­˜é€€å‡ºå³å¯]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Promiseç²¾è¯»]]></title>
    <url>%2F2018%2F07%2F19%2FPromise%E7%B2%BE%E8%AF%BB%2F</url>
    <content type="text"><![CDATA[è¯­æ³• new Promise( function(resolve, reject) {â€¦} / executor / ); executor executoræ˜¯å¸¦æœ‰ resolve å’Œ reject ä¸¤ä¸ªå‚æ•°çš„å‡½æ•° ã€‚Promiseæž„é€ å‡½æ•°æ‰§è¡Œæ—¶ç«‹å³è°ƒç”¨executor å‡½æ•°ï¼Œ resolve å’Œ reject ä¸¤ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ç»™executorï¼ˆexecutor å‡½æ•°åœ¨Promiseæž„é€ å‡½æ•°è¿”å›žæ–°å»ºå¯¹è±¡å‰è¢«è°ƒç”¨ï¼‰ã€‚resolve å’Œ reject å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œåˆ†åˆ«å°†promiseçš„çŠ¶æ€æ”¹ä¸ºfulfilledï¼ˆå®Œæˆï¼‰æˆ–rejectedï¼ˆå¤±è´¥ï¼‰ã€‚executor å†…éƒ¨é€šå¸¸ä¼šæ‰§è¡Œä¸€äº›å¼‚æ­¥æ“ä½œï¼Œä¸€æ—¦å®Œæˆï¼Œå¯ä»¥è°ƒç”¨resolveå‡½æ•°æ¥å°†promiseçŠ¶æ€æ”¹æˆfulfilledï¼Œæˆ–è€…åœ¨å‘ç”Ÿé”™è¯¯æ—¶å°†å®ƒçš„çŠ¶æ€æ”¹ä¸ºrejectedã€‚ å¦‚æžœåœ¨executorå‡½æ•°ä¸­æŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œé‚£ä¹ˆè¯¥promise çŠ¶æ€ä¸ºrejectedã€‚executorå‡½æ•°çš„è¿”å›žå€¼è¢«å¿½ç•¥ æè¿°Promise å¯¹è±¡æ˜¯ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼ˆä»£ç†ä¸€ä¸ªå€¼ï¼‰ï¼Œè¢«ä»£ç†çš„å€¼åœ¨Promiseå¯¹è±¡åˆ›å»ºæ—¶å¯èƒ½æ˜¯æœªçŸ¥çš„ã€‚å®ƒå…è®¸ä½ ä¸ºå¼‚æ­¥æ“ä½œçš„æˆåŠŸå’Œå¤±è´¥åˆ†åˆ«ç»‘å®šç›¸åº”çš„å¤„ç†æ–¹æ³•ï¼ˆhandlersï¼‰ã€‚ è¿™è®©å¼‚æ­¥æ–¹æ³•å¯ä»¥åƒåŒæ­¥æ–¹æ³•é‚£æ ·è¿”å›žå€¼ï¼Œä½†å¹¶ä¸æ˜¯ç«‹å³è¿”å›žæœ€ç»ˆæ‰§è¡Œç»“æžœï¼Œè€Œæ˜¯ä¸€ä¸ªèƒ½ä»£è¡¨æœªæ¥å‡ºçŽ°çš„ç»“æžœçš„promiseå¯¹è±¡ ä¸€ä¸ª Promiseæœ‰ä»¥ä¸‹å‡ ç§çŠ¶æ€: pending: åˆå§‹çŠ¶æ€ï¼Œæ—¢ä¸æ˜¯æˆåŠŸï¼Œä¹Ÿä¸æ˜¯å¤±è´¥çŠ¶æ€ fulfilled: æ„å‘³ç€æ“ä½œæˆåŠŸå®Œæˆ rejected: æ„å‘³ç€æ“ä½œå¤±è´¥ pending çŠ¶æ€çš„ Promise å¯¹è±¡å¯èƒ½è§¦å‘fulfilled çŠ¶æ€å¹¶ä¼ é€’ä¸€ä¸ªå€¼ç»™ç›¸åº”çš„çŠ¶æ€å¤„ç†æ–¹æ³•ï¼Œä¹Ÿå¯èƒ½è§¦å‘å¤±è´¥çŠ¶æ€ï¼ˆrejectedï¼‰å¹¶ä¼ é€’å¤±è´¥ä¿¡æ¯ã€‚å½“å…¶ä¸­ä»»ä¸€ç§æƒ…å†µå‡ºçŽ°æ—¶ï¼ŒPromise å¯¹è±¡çš„ then æ–¹æ³•ç»‘å®šçš„å¤„ç†æ–¹æ³•ï¼ˆhandlersï¼‰å°±ä¼šè¢«è°ƒç”¨ï¼ˆthenæ–¹æ³•åŒ…å«ä¸¤ä¸ªå‚æ•°ï¼šonfulfilled å’Œ onrejectedï¼Œå®ƒä»¬éƒ½æ˜¯ Function ç±»åž‹ã€‚å½“PromiseçŠ¶æ€ä¸ºfulfilledæ—¶ï¼Œè°ƒç”¨ then çš„ onfulfilled æ–¹æ³•ï¼Œå½“PromiseçŠ¶æ€ä¸ºrejectedæ—¶ï¼Œè°ƒç”¨ then çš„ onrejected æ–¹æ³•ï¼Œ æ‰€ä»¥åœ¨å¼‚æ­¥æ“ä½œçš„å®Œæˆå’Œç»‘å®šå¤„ç†æ–¹æ³•ä¹‹é—´ä¸å­˜åœ¨ç«žäº‰ï¼‰ å› ä¸º Promise.prototype.then å’Œ Promise.prototype.catch æ–¹æ³•è¿”å›žpromise å¯¹è±¡ï¼Œ æ‰€ä»¥å®ƒä»¬å¯ä»¥è¢«é“¾å¼è°ƒç”¨ å¦‚æžœä¸€ä¸ªpromiseå¯¹è±¡å¤„åœ¨fulfilledæˆ–rejectedçŠ¶æ€è€Œä¸æ˜¯pendingçŠ¶æ€ï¼Œé‚£ä¹ˆå®ƒä¹Ÿå¯ä»¥è¢«ç§°ä¸ºsettledçŠ¶æ€ã€‚ä½ å¯èƒ½ä¹Ÿä¼šå¬åˆ°ä¸€ä¸ªæœ¯è¯­resolved ï¼Œå®ƒè¡¨ç¤ºpromiseå¯¹è±¡å¤„äºŽfulfilledçŠ¶æ€ã€‚ æ–¹æ³•Promise.all(iterable) è¿™ä¸ªæ–¹æ³•è¿”å›žä¸€ä¸ªæ–°çš„promiseå¯¹è±¡ï¼Œè¯¥promiseå¯¹è±¡åœ¨iterableå‚æ•°å¯¹è±¡é‡Œæ‰€æœ‰çš„promiseå¯¹è±¡éƒ½æˆåŠŸçš„æ—¶å€™æ‰ä¼šè§¦å‘æˆåŠŸ,ä¸€æ—¦æœ‰ä»»ä½•ä¸€ä¸ªiterableé‡Œé¢çš„promiseå¯¹è±¡å¤±è´¥åˆ™ç«‹å³è§¦å‘è¯¥promiseå¯¹è±¡çš„å¤±è´¥ã€‚è§¦å‘æˆåŠŸçŠ¶æ€ä»¥åŽï¼Œä¼šæŠŠä¸€ä¸ªåŒ…å«iterableé‡Œæ‰€æœ‰promiseè¿”å›žå€¼çš„æ•°ç»„ä½œä¸ºæˆåŠŸå›žè°ƒçš„è¿”å›žå€¼ï¼Œé¡ºåºè·Ÿiterableçš„é¡ºåºä¿æŒä¸€è‡´ï¼›å¦‚æžœè¿™ä¸ªæ–°çš„promiseå¯¹è±¡è§¦å‘äº†å¤±è´¥çŠ¶æ€ï¼Œå®ƒä¼šæŠŠiterableé‡Œç¬¬ä¸€ä¸ªè§¦å‘å¤±è´¥çš„promiseå¯¹è±¡çš„é”™è¯¯ä¿¡æ¯ä½œä¸ºå®ƒçš„å¤±è´¥é”™è¯¯ä¿¡æ¯ã€‚Promise.allæ–¹æ³•å¸¸è¢«ç”¨äºŽå¤„ç†å¤šä¸ªpromiseå¯¹è±¡çš„çŠ¶æ€é›†åˆã€‚ Promise.race(iterable) å½“iterableå‚æ•°é‡Œçš„ä»»æ„ä¸€ä¸ªå­promiseè¢«æˆåŠŸæˆ–å¤±è´¥åŽï¼Œçˆ¶promiseé©¬ä¸Šä¹Ÿä¼šç”¨å­promiseçš„æˆåŠŸè¿”å›žå€¼æˆ–å¤±è´¥è¯¦æƒ…ä½œä¸ºå‚æ•°è°ƒç”¨çˆ¶promiseç»‘å®šçš„ç›¸åº”å¥æŸ„ï¼Œå¹¶è¿”å›žè¯¥promiseå¯¹è±¡ å³iterableæ•°ç»„ä¸­å“ªä¸ªPromiseæœ€å…ˆè¢«resolveï¼Œå°±æŠŠå“ªä¸ªç»“æžœè¿”å›žåˆ°Promise.race(iterable).then()ä¸­ï¼Œä¸ç®¡å…¶ç»“æžœæ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥ Promise.reject(reason)è¿”å›žä¸€ä¸ªçŠ¶æ€ä¸ºå¤±è´¥çš„Promiseå¯¹è±¡ï¼Œå¹¶å°†ç»™å®šçš„å¤±è´¥ä¿¡æ¯ä¼ é€’ç»™å¯¹åº”çš„å¤„ç†æ–¹æ³• Promise.resolve(value)è¿”å›žä¸€ä¸ªä»¥ç»™å®šå€¼è§£æžåŽçš„Promiseå¯¹è±¡ã€‚ä½†å¦‚æžœè¿™ä¸ªå€¼æ˜¯ä¸ªthenableï¼ˆå³å¸¦æœ‰thenæ–¹æ³•ï¼‰ï¼Œè¿”å›žçš„promiseä¼šâ€œè·Ÿéšâ€è¿™ä¸ªthenableçš„å¯¹è±¡ï¼Œé‡‡ç”¨å®ƒçš„æœ€ç»ˆçŠ¶æ€ï¼ˆæŒ‡resolved/rejected/pending/settledï¼‰ï¼›å¦‚æžœä¼ å…¥çš„valueæœ¬èº«å°±æ˜¯promiseå¯¹è±¡ï¼Œåˆ™è¯¥å¯¹è±¡ä½œä¸ºPromise.resolveæ–¹æ³•çš„è¿”å›žå€¼è¿”å›žï¼›å¦åˆ™ä»¥è¯¥å€¼ä¸ºæˆåŠŸçŠ¶æ€è¿”å›žpromiseå¯¹è±¡ ä¾‹å­ï¼š123456789101112131415let myFirstPromise = new Promise(function(resolve, reject)&#123; //å½“å¼‚æ­¥ä»£ç æ‰§è¡ŒæˆåŠŸæ—¶ï¼Œæˆ‘ä»¬æ‰ä¼šè°ƒç”¨resolve(...), å½“å¼‚æ­¥ä»£ç å¤±è´¥æ—¶å°±ä¼šè°ƒç”¨reject(...) //åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨setTimeout(...)æ¥æ¨¡æ‹Ÿå¼‚æ­¥ä»£ç ï¼Œå®žé™…ç¼–ç æ—¶å¯èƒ½æ˜¯XHRè¯·æ±‚æˆ–æ˜¯HTML5çš„ä¸€äº›APIæ–¹æ³•. setTimeout(function()&#123; resolve("æˆåŠŸ!"); //ä»£ç æ­£å¸¸æ‰§è¡Œï¼ &#125;, 250);&#125;);myFirstPromise.then(function(successMessage)&#123; //successMessageçš„å€¼æ˜¯ä¸Šé¢è°ƒç”¨resolve(...)æ–¹æ³•ä¼ å…¥çš„å€¼. //successMessageå‚æ•°ä¸ä¸€å®šéžè¦æ˜¯å­—ç¬¦ä¸²ç±»åž‹ï¼Œè¿™é‡Œåªæ˜¯ä¸¾ä¸ªä¾‹å­ console.log("Yay! " + successMessage);&#125;);// 250msåŽè¾“å‡º"Yay! æˆåŠŸ" Promiseæ‰§è¡ŒåŽŸç†å…ˆæ”¾ä¸€ä¸ªä¾‹å­ï¼š 12345678910new Promise(resolve =&gt; &#123; console.log(1); resolve(3); Promise.resolve().then(()=&gt; console.log(4))&#125;).then(num =&gt; &#123; console.log(num)&#125;);console.log(2);// 1 2 4 3 å½“ä½ æ‰§è¡Œresolveæ—¶ï¼Œå¦‚æžœå‚æ•°ä¸ºthenable(è§ä¸Šæ–‡Promise.resolveæ–¹æ³•)ï¼Œåˆ™ä¼šè¿›å…¥ä¸€ä¸ªPromiseé“¾å¤„ç†(è¿™é‡Œè·³è¿‡)ï¼›å¦åˆ™è¿›å…¥ä¸‹ä¸€æ­¥ æ ¹æ®Promiseçš„æž„é€ å‡½æ•°å¯ä»¥çœ‹åˆ°ï¼ŒstateçŠ¶æ€åˆå§‹åŒ–ä¸ºpending 1234567891011function Promise(resolver) &#123; if (typeof resolver !== 'function') &#123; throw new TypeError('resolver must be a function'); &#125; this.state = PENDING; this.queue = []; this.outcome = void 0; if (resolver !== INTERNAL) &#123; safelyResolveThenable(this, resolver); &#125;&#125; å¯ä»¥å‘çŽ°å½“ä½ new Promiseçš„æ—¶å€™è¿™ä¸ªresolverå°±ä¼šè¢«è°ƒç”¨ï¼Œä¼ è¿›æ¥çš„å‡½æ•°æ”¯æŒä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯resolveå’Œrejectå›žè°ƒï¼š 123456let resolver = function(resolve, reject) &#123; if (success) resolve(); else reject();&#125;;new Promise(resolver); thenableå‡½æ•°å°±æ˜¯æˆ‘ä»¬ä¼ ç»™å®ƒçš„resolverï¼Œç„¶åŽä¼ é€’onSuccesså’ŒonErrorï¼Œåˆ†åˆ«æ˜¯æˆ‘ä»¬åœ¨resolveré‡Œé¢å†™çš„resolveå’Œrejectè¿™ä¸¤ä¸ªå‚æ•°ï¼Œå¦‚æžœæˆ‘ä»¬è°ƒäº†å®ƒçš„resolveå³onSuccess(æˆ–è€…onError)å‡½æ•°ï¼Œå°±åŽ»è®¾ç½®å½“å‰Promiseå¯¹è±¡çš„stateï¼Œoutcome(resolveçš„å€¼)ç­‰å±žæ€§ ä¸Šé¢çš„åˆ°æ­¤ä¸ºæ­¢ä¸ºåŒæ­¥æ“ä½œï¼ŒæŽ¥ä¸‹æ¥æˆ‘ä»¬çœ‹çœ‹thené‡Œå‘ç”Ÿäº†ä»€ä¹ˆ thenæŽ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«ä¸ºæˆåŠŸå›žè°ƒå’Œå¤±è´¥å›žè°ƒã€‚æˆ‘ä»¬åœ¨resolverä¸­å·²ç»è®¾ç½®å¥½äº†stateï¼Œåœ¨è¿™é‡Œå°±ä¼šé€šè¿‡Ifè¯­å¥è¿›å…¥ä¸åŒçš„å‡½æ•°ï¼Œå‡è®¾æˆ‘ä»¬è¿™é‡Œä¼ å…¥äº†æˆåŠŸå›žè°ƒï¼ŒäºŽæ˜¯æ‰§è¡Œunwrapå‡½æ•° åœ¨167è¡Œæ‰§è¡Œthené‡Œä¼ ç»™Promiseçš„æˆåŠŸå›žè°ƒï¼Œå¹¶ä¼ é€’ç»“æžœoutcom è¿™æ®µä»£ç æ˜¯åŒ…åœ¨ä¸€ä¸ªimmediateå‡½æ•°é‡Œçš„ï¼Œå®ƒå¯ä»¥å®žçŽ°ä¸€ä¸ªnextTickçš„åŠŸèƒ½ï¼Œå³åœ¨å½“å‰ä»£ç é€»è¾‘å•å…ƒåŒæ­¥æ‰§è¡Œå®Œäº†ä¹‹åŽç«‹åˆ»æ‰§è¡Œï¼Œç›¸å½“äºŽsetTimeout 0ã€‚immediateé‡Œé¢ä¼šè°ƒä¸€ä¸ªscheduleDrainï¼ˆdrainæ˜¯æŽ’æ°´çš„æ„æ€ï¼‰ï¼š 12345function immediate(task) &#123; if (queue.push(task) === 1 &amp;&amp; !draining) &#123; scheduleDrain(); &#125;&#125; 12345678910111213141516171819202122var Mutation = global.MutationObserver || global.WebKitMutationObserver;var scheduleDrain = null;&#123; // æµè§ˆå™¨çŽ¯å¢ƒï¼ŒIE11ä»¥ä¸Šæ”¯æŒ if (Mutation) &#123; // ... &#125; // Node.jsçŽ¯å¢ƒ else if (!global.setImmediate &amp;&amp; typeof global.MessageChannel !== 'undefined') &#125; // ä½Žæµè§ˆå™¨ç‰ˆæœ¬è§£å†³æ–¹æ¡ˆ else if ('document' in global &amp;&amp; 'onreadystatechange' in global.document.createElement('script')) &#123; &#125; // æœ€åŽå®žåœ¨æ²¡åŠžæ³•äº†ï¼Œç”¨æœ€æ¬¡çš„setTimeout else &#123; scheduleDrain = function () &#123; setTimeout(nextTick, 0); &#125;; &#125;&#125; è¿™é‡Œä¼šå¯¹å…¼å®¹æ€§è¿›è¡Œåˆ¤æ–­ï¼Œä¼˜å…ˆä½¿ç”¨MutationObserverï¼Œç„¶åŽæ˜¯ä½¿ç”¨scriptæ ‡ç­¾çš„æ–¹å¼ï¼Œè¿™ç§åˆ°IE6éƒ½æ”¯æŒï¼Œæœ€åŽç”¨setTimeout 0ã€‚ å…³äºŽMutationå¯ä»¥æŸ¥çœ‹MDNï¼Œå¯ä»¥ç”¨å®ƒæ¥ç›‘å¬DOMç»“ç‚¹çš„å˜åŒ–ï¼Œå¦‚å¢žåˆ ã€å±žæ€§å˜åŒ–ç­‰ã€‚Immediateæ˜¯è¿™ä¹ˆå®žçŽ°çš„ï¼š 1234567891011121314if (Mutation) &#123; var called = 0; var observer = new Mutation(nextTick); var element = global.document.createTextNode(''); // ç›‘å¬èŠ‚ç‚¹çš„dataå±žæ€§çš„å˜åŒ– observer.observe(element, &#123; characterData: true &#125;); scheduleDrain = function () &#123; // è®©dataå±žæ€§å‘ç”Ÿå˜åŒ–ï¼Œåœ¨0/1ä¹‹é—´ä¸æ–­åˆ‡æ¢ï¼Œ // è¿›è€Œè§¦å‘observeræ‰§è¡ŒnextTickå‡½æ•° element.data = (called = ++called % 2); &#125;;&#125; ä½¿ç”¨nextTickå›žè°ƒæ³¨å†Œä¸€ä¸ªobserverè§‚å¯Ÿè€…ï¼Œç„¶åŽåˆ›å»ºä¸€ä¸ªDOMèŠ‚ç‚¹elementï¼Œæˆä¸ºobserverçš„è§‚å¯Ÿå¯¹è±¡ï¼Œè§‚å¯Ÿå®ƒçš„dataå±žæ€§ã€‚å½“éœ€è¦æ‰§è¡ŒnextTickå‡½æ•°çš„æ—¶å€™ï¼Œå°±è°ƒä¸€ä¸‹scheduleDrainæ”¹å˜dataå±žæ€§ï¼Œå°±ä¼šè§¦å‘è§‚å¯Ÿè€…çš„å›žè°ƒnextTickã€‚å®ƒæ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œåœ¨å½“å‰ä»£ç å•å…ƒæ‰§è¡Œå®Œä¹‹åŽç«‹åˆ»ä¹‹è¡Œï¼Œä½†åˆæ˜¯åœ¨setTimeout 0ä¹‹å‰æ‰§è¡Œçš„ã€‚ 1234567891011setTimeout(()=&gt; console.log(5), 0);new Promise(resolve =&gt; &#123; console.log(1); resolve(3); // Promise.resolve().then(()=&gt; console.log(4))&#125;).then(num =&gt; &#123; console.log(num)&#125;);console.log(2);// 1 2 3 5 æ‰§è¡Œimmediateçš„æ—¶å€™æŠŠæˆåŠŸå›žè°ƒpushåˆ°ä¸€ä¸ªå…¨å±€çš„æ•°ç»„queueé‡Œé¢ï¼Œè€ŒnextTickæ˜¯æŠŠè¿™äº›å›žè°ƒæŒ‰é¡ºåºæ‰§è¡Œ 1234567891011121314151617function nextTick() &#123; draining = true; var i, oldQueue; var len = queue.length; while (len) &#123; oldQueue = queue; // æŠŠqueueæ¸…ç©º queue = []; i = -1; // æ‰§è¡Œå½“å‰æ‰€æœ‰å›žè°ƒ while (++i &lt; len) &#123; oldQueue[i](); &#125; len = queue.length; &#125; draining = false;&#125; å®ƒä¼šå…ˆæŠŠæŽ’æ°´çš„å˜é‡drainingè®¾ç½®æˆtrueï¼Œç„¶åŽå¤„ç†å®Œæˆä¹‹åŽå†è®¾ç½®æˆfalseï¼Œæˆ‘ä»¬å†å›žé¡¾ä¸€ä¸‹åˆšåˆšæ‰§è¡Œimmediateçš„åˆ¤æ–­ 12345function immediate(task) &#123; if (queue.push(task) === 1 &amp;&amp; !draining) &#123; scheduleDrain(); &#125;&#125; å½“queueä¸ºç©ºæ—¶ï¼Œpushä¸€ä¸ªå˜é‡è¿›æ¥ï¼Œè¿™ä¸ªæ—¶å€™queueåªæœ‰1ä¸ªå…ƒç´ ï¼Œè¿”å›žå€¼å°±ä¸º1ã€‚æ‰€ä»¥å¦‚æžœä¹‹å‰å·²ç»pushè¿‡äº†ï¼Œé‚£ä¹ˆè¿™é‡Œå°±ä¸ç”¨å†è§¦å‘nextTickï¼Œå› ä¸ºç¬¬ä¸€æ¬¡çš„pushä¼šæŠŠæ‰€æœ‰queueå›žè°ƒå…ƒç´ éƒ½æ‰§è¡Œçš„ï¼Œåªè¦ä¿è¯åŽé¢çš„æ“ä½œæœ‰è¢«pushåˆ°è¿™ä¸ªqueueé‡Œé¢å°±å¥½äº†ã€‚ åœ¨æœ€å¼€å§‹çš„ä¾‹å­ä¸­ï¼Œresolveræ˜¯å¼‚æ­¥è°ƒç”¨çš„ï¼Œè¿™æ ·åœ¨èµ°åˆ°thençš„æ—¶å€™stateè¿˜æ˜¯pendingçŠ¶æ€ï¼Œè¿™æ ·çš„è¯å°±ä¸ä¼šè¿›å…¥unwrap å®ƒä¼šåˆ›å»ºä¸€ä¸ªQueueItemç„¶åŽæ”¾åˆ°å½“å‰Promiseå¯¹è±¡çš„queueå±žæ€§é‡Œé¢ï¼ˆæ³¨æ„è¿™é‡Œçš„queueå’Œä¸Šé¢è¯´çš„immediateé‡Œå…¨å±€çš„queueæ˜¯ä¸¤ä¸ªä¸åŒçš„å˜é‡ï¼‰ã€‚ç„¶åŽå¼‚æ­¥æ‰§è¡Œç»“æŸè°ƒç”¨resolveï¼Œè¿™ä¸ªæ—¶å€™queueä¸ä¸ºç©ºäº†ï¼š å°±ä¼šæ‰§è¡Œqueueé˜Ÿåˆ—é‡Œé¢çš„æˆåŠŸå›žè°ƒã€‚å› ä¸ºthenæ˜¯å¯ä»¥thenå¤šæ¬¡çš„ï¼Œæ‰€ä»¥æˆåŠŸå›žè°ƒå¯èƒ½ä¼šæœ‰å¤šä¸ªã€‚å®ƒä¹Ÿæ˜¯è°ƒç”¨immediateï¼Œåœ¨nextTickçš„æ—¶å€™æ‰§è¡Œçš„ ä¹Ÿå°±æ˜¯è¯´å¦‚æžœæ˜¯åŒæ­¥resolveçš„ï¼Œæ˜¯é€šè¿‡MutationObserver/Setimeout 0ä¹‹ç±»çš„æ–¹å¼åœ¨å½“å‰çš„ä»£ç å•å…ƒæ‰§è¡Œå®Œä¹‹åŽç«‹åˆ»æ‰§è¡ŒæˆåŠŸå›žè°ƒï¼›è€Œå¦‚æžœæ˜¯å¼‚æ­¥resolveçš„ï¼Œæ˜¯å…ˆæŠŠæˆåŠŸå›žè°ƒæ”¾åˆ°å½“å‰Promiseå¯¹è±¡çš„ä¸€ä¸ªé˜Ÿåˆ—é‡Œé¢ï¼Œç­‰åˆ°å¼‚æ­¥ç»“æŸäº†æ‰§è¡Œresolveçš„æ—¶å€™å†ç”¨åŒæ ·çš„æ–¹å¼åœ¨nextTickè°ƒç”¨æˆåŠŸå›žè°ƒ æ–‡ç« å‚è€ƒäºŽä»Žä¸€é“Promiseæ‰§è¡Œé¡ºåºçš„é¢˜ç›®çœ‹Promiseå®žçŽ°å’ŒMDN]]></content>
      <categories>
        <category>Javascript</category>
      </categories>
      <tags>
        <tag>Javascript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[async/awaité€šè¯»]]></title>
    <url>%2F2018%2F07%2F19%2Fasync-await%E9%80%9A%E8%AF%BB%2F</url>
    <content type="text"><![CDATA[async ?è¯­æ³• async function name([param[, param[, â€¦ param]]]) { statements } name: å‡½æ•°åç§° param: è¦ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°çš„åç§° statements: å‡½æ•°ä½“è¯­å¥ æè¿°async å‡½æ•°æ˜¯ Generator å‡½æ•°çš„è¯­æ³•ç³–ã€‚ä½¿ç”¨ å…³é”®å­— async æ¥è¡¨ç¤ºï¼Œåœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ await æ¥è¡¨ç¤ºå¼‚æ­¥ã€‚ å½“è°ƒç”¨ä¸€ä¸ª async å‡½æ•°æ—¶ï¼Œä¼šè¿”å›žä¸€ä¸ª Promise å¯¹è±¡ã€‚å½“è¿™ä¸ª async å‡½æ•°è¿”å›žä¸€ä¸ªå€¼æ—¶ï¼ŒPromise çš„ resolve æ–¹æ³•ä¼šè´Ÿè´£ä¼ é€’è¿™ä¸ªå€¼ï¼›å½“ async å‡½æ•°æŠ›å‡ºå¼‚å¸¸æ—¶ï¼ŒPromise çš„ reject æ–¹æ³•ä¹Ÿä¼šä¼ é€’è¿™ä¸ªå¼‚å¸¸å€¼ã€‚ async å‡½æ•°ä¸­å¯èƒ½ä¼šæœ‰ await è¡¨è¾¾å¼ï¼Œè¿™ä¼šä½¿ async å‡½æ•°æš‚åœæ‰§è¡Œï¼Œç­‰å¾…è¡¨è¾¾å¼ä¸­çš„ Promise è§£æžå®ŒæˆåŽç»§ç»­æ‰§è¡Œ async å‡½æ•°å¹¶è¿”å›žè§£å†³ç»“æžœ æ€»çš„æ¥è¯´ä¸ºä»¥ä¸‹4ç‚¹ï¼š å†…ç½®æ‰§è¡Œå™¨ã€‚Generator å‡½æ•°çš„æ‰§è¡Œå¿…é¡»ä¾é æ‰§è¡Œå™¨ï¼Œè€Œ async å‡½æ•°è‡ªå¸¦æ‰§è¡Œå™¨ï¼Œè°ƒç”¨æ–¹å¼è·Ÿæ™®é€šå‡½æ•°çš„è°ƒç”¨ä¸€æ · æ›´å¥½çš„è¯­ä¹‰ã€‚async å’Œ await ç›¸è¾ƒäºŽ * å’Œ yield æ›´åŠ è¯­ä¹‰åŒ– æ›´å¹¿çš„é€‚ç”¨æ€§ã€‚co æ¨¡å—çº¦å®šï¼Œyield å‘½ä»¤åŽé¢åªèƒ½æ˜¯ Thunk å‡½æ•°æˆ– Promiseå¯¹è±¡ã€‚è€Œ async å‡½æ•°çš„ await å‘½ä»¤åŽé¢åˆ™å¯ä»¥æ˜¯ Promise æˆ–è€… åŽŸå§‹ç±»åž‹çš„å€¼ï¼ˆNumberï¼Œstringï¼Œbooleanï¼Œä½†è¿™æ—¶ç­‰åŒäºŽåŒæ­¥æ“ä½œ è¿”å›žå€¼æ˜¯ Promiseã€‚async å‡½æ•°è¿”å›žå€¼æ˜¯ Promise å¯¹è±¡ï¼Œæ¯” Generator å‡½æ•°è¿”å›žçš„ Iterator å¯¹è±¡æ–¹ä¾¿ï¼Œå¯ä»¥ç›´æŽ¥ä½¿ç”¨ then() æ–¹æ³•è¿›è¡Œè°ƒç”¨ await å…³é”®å­—ä»…ä»…åœ¨ async functionä¸­æœ‰æ•ˆã€‚å¦‚æžœåœ¨ async functionå‡½æ•°ä½“å¤–ä½¿ç”¨ await ï¼Œä½ åªä¼šå¾—åˆ°ä¸€ä¸ªè¯­æ³•é”™è¯¯ï¼ˆSyntaxErrorï¼‰ async/awaitçš„ç”¨é€”æ˜¯ç®€åŒ–ä½¿ç”¨ promises å¼‚æ­¥è°ƒç”¨çš„æ“ä½œï¼Œå¹¶å¯¹ä¸€ç»„ Promisesæ‰§è¡ŒæŸäº›æ“ä½œã€‚æ­£å¦‚Promisesç±»ä¼¼äºŽç»“æž„åŒ–å›žè°ƒï¼Œasync/awaitç±»ä¼¼äºŽç»„åˆç”Ÿæˆå™¨å’Œ promises ä¾‹å­12345678910async function asyncFn() &#123; return 'æˆ‘åŽæ‰§è¡Œ'&#125;asyncFn().then(result =&gt; &#123; console.log(result);&#125;)console.log('æˆ‘å…ˆæ‰§è¡Œ');// æˆ‘å…ˆæ‰§è¡Œ// æˆ‘åŽæ‰§è¡Œ async å‡½æ•°è¿”å›žçš„Promise resolveæ—¶ä¸ºå¼‚æ­¥ 12345678910111213async function e() &#123; throw new Error('has Error');&#125;e().then(success =&gt; console.log('æˆåŠŸ', success)) .catch(error =&gt; console.log('å¤±è´¥', error));async function throwStatus() &#123; return 'å¯ä»¥è¿”å›žæ‰€æœ‰ç±»åž‹çš„å€¼'&#125;throwStatus().then(success =&gt; console.log('æˆåŠŸ', success) .catch(error =&gt; console.log('å¤±è´¥', error));// å¤±è´¥// æˆåŠŸ async å®šä¹‰çš„å‡½æ•°å†…éƒ¨ä¼šé»˜è®¤è¿”å›žä¸€ä¸ªpromiseå¯¹è±¡ï¼Œå¦‚æžœå‡½æ•°å†…éƒ¨æŠ›å‡ºå¼‚å¸¸æˆ–è€…æ˜¯è¿”å›žrejectï¼Œéƒ½ä¼šä½¿å‡½æ•°çš„promiseçŠ¶æ€ä¸ºå¤±è´¥reject å¦‚ä¸‹ç»“æžœä¼šä½¿asyncå‡½æ•°åˆ¤å®šå¤±è´¥reject: å†…éƒ¨å«æœ‰ç›´æŽ¥ä½¿ç”¨å¹¶ä¸”æœªå£°æ˜Žçš„å˜é‡æˆ–è€…å‡½æ•° å†…éƒ¨æŠ›å‡ºä¸€ä¸ªé”™è¯¯throw new Erroræˆ–è€…è¿”å›žrejectçŠ¶æ€return Promise.reject(&#39;æ‰§è¡Œå¤±è´¥&#39;) å‡½æ•°æ–¹æ³•æ‰§è¡Œå‡ºé”™ï¼ˆðŸŒ°ï¼šObjectä½¿ç”¨push()ï¼‰ç­‰ç­‰â€¦ 123456789101112131415161718192021222324252627function resolveAfter2Seconds(x) &#123; return new Promise(resolve =&gt; &#123; setTimeout(() =&gt; &#123; resolve(x); &#125;, 2000); &#125;);&#125;async function add1(x) &#123; var a = await resolveAfter2Seconds(20); var b = await resolveAfter2Seconds(30); return x + a + b; &#125; add1(10).then(v =&gt; &#123; console.log(v); // prints 60 after 4 seconds. &#125;);async function add2(x) &#123; var a = resolveAfter2Seconds(20); var b = resolveAfter2Seconds(30); return x + await a + await b;&#125;add2(10).then(v =&gt; &#123; console.log(v); // prints 60 after 2 seconds.&#125;); await ?awaitæ„æ€æ˜¯async wait(å¼‚æ­¥ç­‰å¾…)ã€‚è¿™ä¸ªå…³é”®å­—åªèƒ½åœ¨ä½¿ç”¨asyncå®šä¹‰çš„å‡½æ•°é‡Œé¢ä½¿ç”¨ã€‚ä»»ä½•asyncå‡½æ•°éƒ½ä¼šé»˜è®¤è¿”å›žpromiseï¼Œå¹¶ä¸”è¿™ä¸ªpromiseè§£æžçš„å€¼éƒ½å°†ä¼šæ˜¯è¿™ä¸ªå‡½æ•°çš„è¿”å›žå€¼ï¼Œè€Œasyncå‡½æ•°å¿…é¡»ç­‰åˆ°å†…éƒ¨æ‰€æœ‰çš„ await å‘½ä»¤çš„ Promise å¯¹è±¡æ‰§è¡Œå®Œï¼Œæ‰ä¼šå‘ç”ŸçŠ¶æ€æ”¹å˜ awaitæ˜¯ä¸€ä¸ªè®©å‡ºçº¿ç¨‹çš„æ ‡å¿—ã€‚awaitåŽé¢çš„å‡½æ•°ä¼šå…ˆæ‰§è¡Œä¸€éï¼Œç„¶åŽå°±ä¼šè·³å‡ºæ•´ä¸ªasyncå‡½æ•°æ¥æ‰§è¡ŒåŽé¢jsæ ˆçš„ä»£ç ã€‚ç­‰æœ¬è½®äº‹ä»¶å¾ªçŽ¯æ‰§è¡Œå®Œäº†ä¹‹åŽåˆä¼šè·³å›žåˆ°asyncå‡½æ•°ä¸­ç­‰å¾…awaitåŽé¢è¡¨è¾¾å¼çš„è¿”å›žå€¼ï¼Œå¦‚æžœè¿”å›žå€¼ä¸ºéžpromiseåˆ™ç»§ç»­æ‰§è¡Œasyncå‡½æ•°åŽé¢çš„ä»£ç ï¼Œå¦åˆ™å°†è¿”å›žçš„promiseæ”¾å…¥Promiseé˜Ÿåˆ—ï¼ˆPromiseçš„Job Queueï¼‰ æ­£å¸¸æƒ…å†µä¸‹ï¼Œawait å‘½ä»¤åŽé¢è·Ÿç€çš„æ˜¯ Promise ï¼Œå¦‚æžœä¸æ˜¯çš„è¯ï¼Œä¹Ÿä¼šè¢«è½¬æ¢æˆä¸€ä¸ª ç«‹å³ resolve çš„ Promise 1234567891011121314151617async function start() &#123; console.log('START'); const time1 = 500; const time2 = await first(time1); const time3 = await second(time2); const res = await third(time3); console.log(`æœ€åŽä¸€æ¬¡å»¶è¿Ÿ$&#123;res&#125;`); console.log('END');&#125;start();// START// ç¬¬ä¸€æ¬¡å»¶è¿Ÿäº†500// ç¬¬äºŒæ¬¡å»¶è¿Ÿäº†700// ç¬¬ä¸‰æ¬¡å»¶è¿Ÿäº†900// æœ€åŽä¸€æ¬¡å»¶è¿Ÿ1100// END æœ€åŽä¸€ä¸ªä¾‹å­ 123456789101112131415161718192021222324252627282930313233343536373839404142function testSometing() &#123; console.log("testSomething"); return "return testSomething";&#125;async function testAsync() &#123; console.log("testAsync"); return Promise.resolve("hello async");&#125;async function test() &#123; console.log("test start..."); const testFn1 = await testSometing(); console.log(testFn1); const testFn2 = await testAsync(); console.log(testFn2); console.log('test end...');&#125;test();var promiseFn = new Promise((resolve)=&gt; &#123; console.log("promise START..."); resolve("promise RESOLVE"); &#125;);promiseFn.then((val)=&gt; console.log(val));console.log("===END===")// test start...// testSomething// promise START...// ===END===// return testSomething// testAsync// promise RESOLVE// hello async// test end... æ–‡ç« å‚è€ƒäºŽä¸€æ¬¡æ€§è®©ä½ æ‡‚async/awaitï¼Œè§£å†³å›žè°ƒåœ°ç‹±å’ŒMDN]]></content>
      <categories>
        <category>Javascript</category>
      </categories>
      <tags>
        <tag>Javascript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Javascriptå¼•æ“Žä¹‹å±žæ€§è®¿é—®ä¼˜åŒ–]]></title>
    <url>%2F2018%2F06%2F24%2FJavascript%E5%BC%95%E6%93%8E%E4%B9%8B%E5%B1%9E%E6%80%A7%E8%AE%BF%E9%97%AE%E4%BC%98%E5%8C%96%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯æœ€è¿‘åœ¨çœ‹Javascriptå¼•æ“Žçš„æ—¶å€™çœ‹åˆ°äº†Shapeè¿™ä¸ªä¸œè¥¿ï¼Œ åœ¨è¿™é‡Œç†è§£å¹¶ä¸”å»¶ä¼¸ä¸€ä¸‹ é¢„çƒ­ - JSå†…å­˜æœºåˆ¶å†…å­˜æ¨¡åž‹JSå†…å­˜ç©ºé—´åˆ†ä¸ºæ ˆ(stack)ã€å †(heap)ã€æ± (ä¸€èˆ¬ä¹Ÿä¼šå½’ç±»ä¸ºæ ˆä¸­)ã€‚ç®€å•æ¥ç†è§£çš„è¯ï¼Œå…¶ä¸­åŸºç¡€æ•°æ®ç±»åž‹å¤§å¤šæ•°ä¿å­˜åœ¨æ ˆä¸­(é—­åŒ…é™¤å¤–)ï¼Œå¯¹è±¡ä¿å­˜åœ¨å †ä¸­ï¼Œå¸¸é‡ä¿å­˜åœ¨æ± ä¸­ã€‚ å¯¹äºŽæ ˆä¸­çš„æ•°æ®ï¼Œæ ¹æ®å…ˆè¿›åŽå‡ºæ¥å–ï¼Œè‹¥æƒ³å–ä¸‹å±‚çš„æ•°æ®ï¼Œå°±è¦å…ˆå°†ä¸Šå±‚çš„æ•°æ®å–å‡º å¯¹äºŽå †ä¸­çš„æ•°æ®ï¼ŒJsæ˜¯ä¸å…è®¸ç›´æŽ¥è®¿é—®çš„ï¼Œæˆ‘ä»¬å®žé™…æ“ä½œçš„éƒ½æ˜¯å¯¹è±¡çš„å¼•ç”¨è€Œä¸æ˜¯å®ƒçš„æœ¬èº«ï¼Œä¾‹å¦‚var a = { b: 20 }ï¼Œå½“æˆ‘ä»¬æ“ä½œ{ b: 20 }æ—¶ï¼Œå®žé™…ä¸Šæ˜¯ä»Žæ ˆä¸­è®¿é—®aæ¥èŽ·å–å¯¹è±¡çš„åœ°å€å¼•ç”¨ï¼Œå†ä»Žå †ä¸­èŽ·å–æˆ‘ä»¬éœ€è¦çš„æ•°æ® å…¶ä»–ä¸€äº›ç»†èŠ‚çŸ¥è¯†è¿™é‡Œå°±æ‡’å¾—å†™çš„ ShapeåŸºç¡€æˆ‘ä»¬æ— æ—¶ä¸åˆ»éƒ½åœ¨è®¿é—®å±žæ€§ï¼Œé‚£ä¹ˆå¯¹äºŽJSæ¥è¯´ï¼Œå¿«é€Ÿçš„å±žæ€§è®¿é—®å°±æ˜¯å¿…ä¸å¯å°‘çš„ã€‚è¿™æ—¶ï¼Œå¯¹äºŽå‡ ä¸ªæ‹¥æœ‰ç›¸åŒå±žæ€§çš„å¯¹è±¡ï¼š12const obj1 = &#123; a: 1, b: 2 &#125;;const obj2 = &#123; a: 3, b: 4 &#125;; å®ƒä»¬æœ‰ç›¸åŒçš„é”®å€¼å¯¹ï¼Œæˆ‘ä»¬å¯ä»¥è¯´å®ƒä»¬æœ‰ç›¸åŒçš„Shape(å³key)ï¼Œå¯¹äºŽè¿™ç§æ•°æ®ï¼ŒJSå¦‚æžœåœ¨æ¯ä¸ªå¯¹è±¡ä¸­éƒ½å­˜å‚¨è¿™äº›é‡å¤çš„æ•°æ®ï¼Œå°±ä¼šé€ æˆå¤§é‡é‡å¤ä¸”ä¸å¿…è¦çš„å†…å­˜å¼€é”€ã€‚æ‰€ä»¥Javascriptå¼•æ“Žä¼šå°†è¿™äº›å¯¹è±¡çš„Shapeå’ŒValueåˆ†å¼€å­˜å‚¨ è¿™æ ·å¯¹äºŽç›¸åŒçš„å¯¹è±¡åªéœ€è¦å­˜å‚¨ä¸€ä¸ªShapeå°±å¯ä»¥äº†ï¼Œæ¯ä¸€ä¸ªå…·æœ‰ç›¸åŒShapeçš„å¯¹è±¡éƒ½ä¼šæŒ‡å‘è¿™ä¸ªShapeå®žä¾‹ æ‰€æœ‰JavaScriptå¼•æ“Žéƒ½ä½¿ç”¨Shapeä½œä¸ºä¼˜åŒ–ï¼Œä½†å®ƒä»¬å¹¶ä¸éƒ½ç§°ä¹‹ä¸ºShape å­¦æœ¯è®ºæ–‡ç§°ä¹‹ä¸ºHidden Classes V8ç§°ä¹‹ä¸ºMaps Chakraç§°ä¹‹ä¸ºTypes JavaScriptCoreç§°ä¹‹ä¸ºStructures SpiderMonkeyç§°ä¹‹ä¸ºShapesï¼Œæ¼”è®²ä¸­ç»Ÿä¸€ä½¿ç”¨äº†Shape è¿‡æ¸¡é“¾å¦‚æžœæˆ‘ä»¬ä¸ºä¸€ä¸ªå¯¹è±¡æ·»åŠ æˆ–è€…åˆ é™¤äº†ä¸€ä¸ªç†Ÿæ‚‰ï¼Œé‚£ä¹ˆJavascriptå¼•æ“Žå¦‚ä½•æ‰¾åˆ°è¿™ä¸ªå¯¹è±¡çš„æ–°çš„Shapeï¼Ÿå…¶å®žå¾ˆç®€å• 123var obj1 = &#123;&#125;obj1.a = 1obj1.b = 2 å¤§å®¶éƒ½æ˜¯èªæ˜Žäººï¼Œä¸€çœ¼å°±èƒ½çœ‹æ‡‚å§ï¼Œä½†æ˜¯æˆ‘ä»¬ç”šè‡³ä¸éœ€è¦å­˜å‚¨ä¸€ä¸ªå®Œæ•´çš„Shapeï¼Œæˆ‘ä»¬åªéœ€è¦çŸ¥é“æ–°å¼•å…¥è¿›æ¥çš„å±žæ€§å³å¯ å¦‚æžœä½ è¦æ‰¾obj1.aï¼Œé‚£ä¹ˆåªéœ€è¦é¡ºç€è¿‡æ¸¡é“¾æ‰¾åˆ°å¼•ç”¨äº†açš„Shapeå³å¯ å¦‚æžœæˆ‘ä»¬æ— æ³•åˆ›å»ºä¸€ä¸ªè¿‡æ¸¡é“¾ä¼šæ€Žæ ·ï¼Ÿ1234var obj1 = &#123;&#125;obj1.a = 1var obj2 = &#123;&#125;obj2.b = 2 ä¹Ÿå¾ˆç®€å•ï¼Œæž„å»ºä¸€ä¸ªæ ‘å½¢åˆ†æ”¯ç»“æž„å³å¯ï¼Œå»ºç«‹ä¸€ä¸ªè¿‡æ¸¡æ ‘ å¯¹äºŽä¸€ç§ç‰¹æ®Šæƒ…å†µ 123var obj1 = &#123;&#125;obj1.a = 1var obj2 = &#123; a: 2 &#125; å¯¹äºŽåˆå§‹åŒ–å°±åŒ…å«å±žæ€§çš„å¯¹è±¡ï¼Œå…¶è¿‡æ¸¡é“¾è·³è¿‡äº†emptyï¼Œä¼˜åŒ–ç¼©çŸ­äº†è¿‡æ¸¡é“¾ å†…å­˜è”ç¼“ï¼ˆICsï¼‰JavaScriptå¼•æ“Žä½¿ç”¨ICsæ¥è®°ä½åœ¨ä½•å¤„æŸ¥æ‰¾å¯¹è±¡å±žæ€§çš„ä¿¡æ¯ï¼Œä»¥å‡å°‘æŸ¥æ‰¾æ¬¡æ•°ã€‚å‡å¦‚æœ‰ä¸€ä¸ªèŽ·å–å¯¹è±¡å†…éƒ¨å€¼çš„å‡½æ•°123function getX(o) &#123; return o.x;&#125; ç¬¬ä¸€ä¸ªget_by_idæŒ‡ä»¤ä»Žç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆarg1ï¼‰åŠ è½½å±žæ€§â€œxâ€ï¼Œå¹¶å°†ç»“æžœå­˜å‚¨åˆ°loc0ä¸­ã€‚ç¬¬äºŒä¸ªæŒ‡ä»¤è¿”å›žæˆ‘ä»¬å­˜å‚¨åˆ°çš„LoC0ã€‚JSCè¿˜å°†å†…è”ç¼“å­˜åµŒå…¥åˆ°get_by_idæŒ‡ä»¤ä¸­ï¼Œè¯¥æŒ‡ä»¤ç”±ä¸¤ä¸ªæœªåˆå§‹åŒ–çš„æ§½ç»„æˆ çŽ°åœ¨å‡è®¾æˆ‘ä»¬ä½¿ç”¨{xï¼šâ€œaâ€}å‚æ•°æ¥è°ƒç”¨getXã€‚å¦‚æˆ‘ä»¬æ‰€çŸ¥ï¼Œè¿™ä¸ªå¯¹è±¡æŒ‡å‘æœ‰å±žæ€§â€œxâ€çš„Shapeï¼Œå¹¶ä¸”è¯¥Shapeå­˜å‚¨äº†å±žæ€§â€œxâ€çš„åç§»é‡å’Œæè¿°å¯¹è±¡ã€‚å½“ç¬¬ä¸€æ¬¡æ‰§è¡Œè¯¥å‡½æ•°æ—¶ï¼Œget_by_idæŒ‡ä»¤æŸ¥æ‰¾å±žæ€§â€œxâ€ï¼Œå¹¶å‘çŽ°è¯¥å€¼è¢«å­˜å‚¨åœ¨åç§»é‡0 åµŒå…¥åˆ°get_by_idæŒ‡ä»¤ä¸­çš„ICè®°ä½äº†è¿™ä¸ªå±žæ€§æ˜¯ä»Žå“ªä¸ªShapeä»¥åŠåç§»é‡ä¸­æ‰¾åˆ°çš„ å¯¹äºŽåŽç»­çš„è¿è¡Œï¼ŒICåªéœ€è¦æ¯”è¾ƒShapeï¼Œå¦‚æžœå®ƒä¸Žä»¥å‰ç›¸åŒï¼Œåªéœ€ä»Žå­˜å‚¨çš„åç§»é‡ä¸­åŠ è½½å€¼å³å¯ã€‚å…·ä½“åœ°è¯´ï¼Œå¦‚æžœJavaScriptå¼•æ“Žçœ‹åˆ°å¯¹è±¡æŒ‡å‘äº†ICä¹‹å‰è®°å½•çš„Shapeï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦é‡æ–°åŽ»æŸ¥æ‰¾ï¼Œå¯ä»¥å®Œå…¨è·³è¿‡æ˜‚è´µçš„å±žæ€§æŸ¥æ‰¾ã€‚è¿™æ¯”æ¯æ¬¡æŸ¥æ‰¾å±žæ€§è¦å¿«å¾—å¤šã€‚ æœ‰æ•ˆå­˜å‚¨æ•°ç»„æ•°ç»„ä½¿ç”¨æ•°ç»„ç´¢å¼•æ¥å­˜å‚¨å±žæ€§ã€‚è¿™äº›å±žæ€§çš„å€¼ç§°ä¸ºæ•°ç»„å…ƒç´ ã€‚ä¸ºæ¯ä¸ªæ•°ç»„å…ƒç´ å­˜å‚¨æè¿°å¯¹è±¡æ˜¯ä¸æ˜Žæ™ºçš„ã€‚æ•°ç»„ç´¢å¼•å±žæ€§é»˜è®¤ä¸ºå¯å†™ã€å¯æžšä¸¾å’Œå¯é…ç½®ï¼ŒJavaScriptå¼•æ“Žå°†æ•°ç»„å…ƒç´ ä¸Žå…¶ä»–å±žæ€§åˆ†å¼€å­˜å‚¨ã€‚ 123const array = [ '#jsconfeu',]; å¼•æ“Žå­˜å‚¨çš„æ•°ç»„é•¿åº¦ä¸º1ï¼Œå¹¶æŒ‡å‘åŒ…å«lengthçš„Shapeï¼Œåç§»å€¼ä¸º0ã€‚ æ¯ä¸ªæ•°ç»„éƒ½æœ‰ä¸€ä¸ªå•ç‹¬çš„å…ƒç´ åŽå¤‡å­˜å‚¨åŒºï¼Œå®ƒåŒ…å«æ‰€æœ‰æ•°ç»„ç´¢å¼•çš„å±žæ€§å€¼ã€‚JavaScriptå¼•æ“Žä¸å¿…ä¸ºæ¯ä¸ªæ•°ç»„å…ƒç´ å­˜å‚¨ä»»ä½•æè¿°å¯¹è±¡ï¼Œå› ä¸ºå®ƒä»¬é€šå¸¸éƒ½æ˜¯å¯å†™çš„ã€å¯æžšä¸¾çš„å’Œå¯é…ç½®çš„ã€‚å¦‚æžœæ›´æ”¹æ•°ç»„å…ƒç´ çš„æè¿°å¯¹è±¡ï¼Œä¼šæ€Žä¹ˆæ ·ï¼Ÿ 1234567891011// Please donâ€™t ever do this!const array = Object.defineProperty( [], '0', &#123; value: 'Oh noes!!1', writable: false, enumerable: false, configurable: false, &#125;); ä¸Šé¢çš„ä»£ç æ®µå®šä¹‰äº†ä¸€ä¸ªåä¸ºâ€œ0â€çš„å±žæ€§ï¼ˆæ°å¥½æ˜¯ä¸€ä¸ªæ•°ç»„ç´¢å¼•ï¼‰ï¼Œä½†å®ƒå°†å±žæ€§è®¾ç½®ä¸ºéžé»˜è®¤å€¼ã€‚ åœ¨è¿™æ ·çš„æžç«¯æƒ…å†µä¸‹ï¼ŒJavaScriptå¼•æ“Žå°†æ•´ä¸ªå…ƒç´ åŽå¤‡å­˜å‚¨åŒºä½œä¸ºå­—å…¸ï¼Œæ˜ å°„æè¿°å¯¹è±¡åˆ°æ¯ä¸ªæ•°ç»„ç´¢å¼•ã€‚ å³ä½¿åªæœ‰ä¸€ä¸ªæ•°ç»„å…ƒç´ æœ‰éžé»˜è®¤æè¿°å¯¹è±¡ï¼Œæ•´ä¸ªæ•°ç»„çš„å…ƒç´ åŽå¤‡å­˜å‚¨åŒºä¹Ÿä¼šè¿›å…¥è¿™ä¸ªç¼“æ…¢è€Œä½Žæ•ˆçš„æ¨¡å¼ã€‚é¿å…åœ¨å…ƒç´ ç´¢å¼•ä¸Šä½¿ç”¨Object.definePropertyï¼ æ–‡ç« æ”¹ç¼–äºŽã€Šã€JSConf EU 2018ã€‘JavaScriptå¼•æ“Ž: ç²¾ç²¹éƒ¨åˆ†ã€‹]]></content>
      <categories>
        <category>Javascript</category>
      </categories>
      <tags>
        <tag>Javascript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è½¯ä»¶æ¯H5ç«¯'è§†é¢‘å°¬èˆžæœº'å¼€å‘è®°å½•]]></title>
    <url>%2F2018%2F06%2F15%2F%E8%BD%AF%E4%BB%B6%E6%9D%AFH5%E7%AB%AF-%E8%A7%86%E9%A2%91%E5%B0%AC%E8%88%9E%E6%9C%BA-%E5%BC%80%E5%8F%91%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯è‡ªå·±è¿˜æ²¡æŽ¥è§¦è¿‡è¿™æ–¹é¢çš„å¼€å‘ï¼Œæ‰€ä»¥å‡†å¤‡å†™ä¸€ç¯‡åšå®¢é•¿æœŸè·Ÿè¸ªè¿™ä¸ªé¡¹ç›®äº† æŠ€æœ¯æ ˆ: åŽŸç”ŸJavascriptï¼ŒWebRTC å¼€å§‹åŸºæœ¬ç»“æž„è¿™é‡Œä½¿ç”¨Parcelè¿›è¡Œæ­å»º 12345678src --css --index.css --js --index.js --imgindex.htmlpackage.json åœ¨index.htmlä¸­å¼•å…¥Jså’ŒCssç„¶åŽæ‰§è¡Œparcel index.htmlå³å¯è¿è¡Œé¡¹ç›® WebRTCåŸºäºŽæµè§ˆå™¨çš„å®‰å…¨ç­–ç•¥ï¼Œé€šè¿‡WebRTCï¼ˆå…·ä½“ä¸ºgetUserMediaï¼‰è°ƒç”¨æ‘„åƒå¤´å’Œéº¦å…‹é£ŽèŽ·å–éŸ³è§†é¢‘æ•°æ®ï¼Œåªèƒ½æ˜¯åœ¨HTTPSä¸‹çš„ç½‘é¡µï¼Œæˆ–è€…æ˜¯æœ¬åœ°localhostä¸‹æ‰èƒ½è°ƒç”¨ï¼Œéœ€è¦å…ˆæ ¡éªŒ 123456789101112let isAllowed = truewindow.onload = validate()function validate()&#123; var isSecureOrigin = location.protocol === 'https:' || location.hostname === 'localhost'; if (!isSecureOrigin) &#123; alert('getUserMedia() must be run from a secure origin: HTTPS or localhost.'); isAllowed = false; // åˆ¤æ–­æ˜¯å¦æ»¡è¶³æ¡ä»¶ &#125;&#125; ç„¶åŽè°ƒç”¨ç›¸åº”çš„æŽ¥å£æ‰“å¼€æ‘„åƒå¤´ï¼Œè¿›è¡Œé“¾å¼è°ƒç”¨ 12345if(isAllowed)&#123; navigator.mediaDevices.getUserMedia(constraints) .then(handleSuccess) .catch(handleError);&#125; constraintsä¸ºæ‰“å¼€çš„videoçª—å£é…ç½®ï¼Œmaxï¼Œminä¸ºæœ€å¤§æœ€å°åˆ†è¾¨çŽ‡ï¼Œidealä¸ºä½ æœŸæœ›çš„æœ€ä½³åˆ†è¾¨çŽ‡ï¼Œè¿™é‡Œç›®å‰å…ˆç®€å•çš„åšä¸€ä¸‹é€‚é… 1234567const constraints = &#123; audio: false, // å…³é—­å£°éŸ³ video: &#123; width: &#123; min: 350, ideal: window.screen.width + 200, max: 800 &#125;, height: &#123; min: 500, ideal: window.screen.height - 200, max: 1500 &#125; &#125;&#125;; è°ƒç”¨å¤±è´¥çš„å‡½æ•° 1234function handleError(error) &#123; console.log('navigator.getUserMedia error: ', error); alert('navigator.getUserMedia error: ', error);&#125; è°ƒç”¨æˆåŠŸçš„å‡½æ•° 123456789101112131415function handleSuccess(stream) &#123; window.stream = stream; //æ˜¾ç¤ºåœ¨é¡µé¢ä¸Š var recordedVideo = document.querySelector('video#recorded'); recordedVideo.srcObject = stream; recordedVideo.onloadedmetadata = function(e) &#123; console.log("Label: " + stream.label); //è§†é¢‘å›¾åƒ console.log("VideoTracks" , stream.getVideoTracks()); &#125;; videoPause(recordedVideo) // æ³¨å†Œæš‚åœæ’­æ”¾äº‹ä»¶ imgFall() // æ˜¾ç¤ºä¸‹è½çš„å›¾ç‰‡&#125; å†ä¿®æ”¹ä¸€ä¸‹Html 12345678910111213141516&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;Index&lt;/title&gt; &lt;link rel="stylesheet" href="./src/css/index.css"&gt;&lt;/head&gt;&lt;body&gt; &lt;video id='recorded' class='recorded' autoplay&gt; æ‚¨çš„çŽ¯å¢ƒä¸æ”¯æŒæ’­æ”¾è§†é¢‘ã€‚ &lt;/video&gt;&lt;/body&gt; &lt;script src='./src/js/index.js'&gt;&lt;/script&gt;&lt;/html&gt; åšåˆ°è¿™ï¼Œä¸ç”¨ç®¡ä¹‹å‰ä¸‹é¢é‚£ä¸¤ä¸ªå‡½æ•°ï¼Œä½ å·²ç»èƒ½çœ‹åˆ°çª—å£é‡Œçš„ä½ äº†hhhhh è§†é¢‘æš‚åœvideoæ˜¯ç»å¯¹å®šä½å¹¶ä¸”æµ®åœ¨æœ€ä¸‹é¢çš„ï¼Œæ‰€ä»¥ä¸€äº›ç‚¹å‡»äº‹ä»¶æ“ä½œé€šè¿‡maskå¤„ç† 1234567891011121314const mask = document.getElementById('mask');function videoPause(recordedVideo)&#123; mask.addEventListener('click', () =&gt; &#123; if(!recordedVideo.paused)&#123; isPause = true recordedVideo.pause() &#125;else&#123; isPause = false recordedVideo.play() &#125; &#125;)&#125; å›¾ç‰‡ä¸‹è½è¿™é‡Œç›®å‰åªæœ‰ä¸€ä¸ªå›¾ç‰‡æ¥æºï¼Œåœ¨å›¾ç‰‡onloadå›žè°ƒé‡Œè¿›è¡Œå›¾ç‰‡å¤„ç†ï¼Œè¿™é‡Œå°è£…äº†ä¸€ä¸ªå®šæ—¶å™¨æ¥å¾ªçŽ¯äº§ç”Ÿä¸‹è½çš„å›¾ç‰‡ 1234567891011121314151617let track = []function imgFall()&#123; let img = new Image() img.onload = () =&gt; &#123; track[0] = outInterval(() =&gt; &#123; let item = new Image() item.src = img.src item.style.left = parseInt((window.screen.width - 100) * Math.random()) + 'px' mask.appendChild(item) &#125;, 0, 5000) &#125; img.src = require('../img/people.png')&#125; å®šæ—¶å™¨å°è£…å¤–éƒ¨å»¶æ—¶å™¨æŽ¥å—3ä¸ªå‚æ•°: callback: å›žè°ƒå‡½æ•° begin: å¼€å§‹æ—¶é—´ delay: å®šæ—¶é—´éš” ç”¨ä¸€ä¸ªå»¶æ—¶å™¨æ¥å»¶æ—¶å†…éƒ¨çš„å®šæ—¶å™¨(innerInterval)ï¼Œç„¶åŽè¿”å›žå†…éƒ¨å®šæ—¶å™¨ 12345678910111213function outTimeout(callback, begin, delay)&#123; let timeout setTimeout(() =&gt; &#123; callback() timeout = innerInterval(callback, delay) &#125;, begin) return timeout;&#125; å†…éƒ¨å®šæ—¶å™¨æŽ¥å—2ä¸ªå‚æ•°: callback: å›žè°ƒå‡½æ•° delay: å®šæ—¶é—´éš” å†…éƒ¨è¿›è¡Œé€’å½’çš„setTimeoutæ¥å®žçŽ°å®šæ—¶å™¨åŠŸèƒ½ï¼Œé¿å…äº†setIntervalçš„é—´éš”é‡å é—®é¢˜ï¼Œä¿è¯æ¯ä¸ªcallbackç»è¿‡ç›¸åŒçš„æ—¶é—´åŽæ‰§è¡Œ 123456789101112function innerInterval(callback, delay)&#123; const timeout = setTimeout(function()&#123; if(!isPause) callback() // æ’­æ”¾çŠ¶æ€ä¸‹æ‰æ‰§è¡Œå›žè°ƒå‡½æ•°(å›¾ç‰‡ä¸‹è½) setTimeout(innerInterval(callback, delay), delay) &#125;, delay) return timeout;&#125; ä¸‹è½å¤„ç†æ­¤å¤„ä¸ºcallbackå‡½æ•°ä¸­çš„å†…å®¹ï¼Œæ¯æ¬¡æ‰§è¡Œçš„æ—¶å€™åˆ›å»ºæ–°çš„imgç„¶åŽéšæœºleftåç§»ï¼Œä¹‹åŽappendåˆ°çˆ¶å…ƒç´ ä¸­ 12345let item = new Image()item.src = img.srcitem.style.left = parseInt((window.screen.width - 100) * Math.random()) + 'px'mask.appendChild(item) 123456789101112131415161718192021.mask img&#123; position: absolute; width: 100px; height: 120px; animation: fall 5s linear forwards;&#125;@keyframes fall &#123; from &#123; top: -120px; // å‡åŽ»å›¾ç‰‡é«˜åº¦ &#125; to &#123; top: 100vh; // è½åˆ°å±å¹•ä¸‹æ–¹ &#125; 90% &#123; opacity: 1; &#125; 100% &#123; opacity: 0; // å˜é€æ˜Ž &#125;&#125; ä¸‹è½åŽè¦å®šæ—¶æ¸…é™¤å›¾ç‰‡å…ƒç´ é¿å…è¿‡å¤šï¼Œè®¾ç½®æ¸…é™¤ä¸ºç¬¬ä¸€æ¬¡ä¸‹è½åŽæ‰§è¡Œï¼Œé—´éš”ä¸ºæ¯ä¸€æ¬¡ä¸‹è½å®Œæˆçš„æ—¶é—´ 123456const deleteImg = outTimeout(() =&gt; &#123; if(mask.childNodes.length &gt; 3)&#123; let child = mask.childNodes mask.removeChild(child[0]) &#125;&#125;, 5000, 5000) å¦‚æžœä½ æƒ³è¦å¤šåˆ—å›¾ç‰‡ä¸‹è½åªéœ€è¦æ·»åŠ trackä»¥åŠç›¸åº”çš„å»¶æ—¶å’Œåˆ é™¤å³å¯ ç›®å‰çš„æ ·å¼ å¤šç§å›¾ç‰‡ä¸‹è½åœ¨ä¸‹è½å‰å…ˆå°†å›¾ç‰‡éƒ½ç¼“å­˜å¥½ 123456function cacheImg()&#123; let img = new Image() img.src = require('../img/people0.png') img.src = require('../img/people1.png') ...&#125; ç„¶åŽåœ¨æ€»loopä¸­æ ¹æ®å½“å‰çš„loopæ•°ï¼Œswitchåˆ°å¯¹åº”çš„img.srcå³å¯ 12345678switch(loop)&#123; case 0: img.src = require('../img/people0.png') ; break; case 1: img.src = require('../img/people1.png') ; break; ... default: break;&#125;loop = (loop + 1) % 11&#125;, 100, 5000) åˆ†æ•°è®°å½•åˆ†æ•°æ˜¾ç¤ºåˆ›å»ºä¸€ä¸ªå‡½æ•°æ–¹ä¾¿è¿›è¡Œåˆ†æ•°çš„ç®¡ç† 12345678910111213function showScore(isMiss, data)&#123; if(isMiss)&#123; addScore.innerHTML = 'MISS' addScore.style.color = 'red' &#125;else&#123; addScore.innerHTML = '+' + data addScore.style.color = 'green' &#125; addScore.style.display = 'flex' let msgScore = setTimeout(() =&gt; &#123; addScore.style.display = 'none' &#125;, 1000)&#125; åˆ†æ•°è®°å½•è¦æƒ³èŽ·å¾—åˆ†æ•°é¦–å…ˆè¦å°†å½“å‰å¸§å›¾ç‰‡ä¸Šä¼ åˆ°åŽç«¯ï¼Œè¿™é‡Œåˆ›å»ºä¸€ä¸ªå‡½æ•°socketè¿žæŽ¥åˆ°åŽç«¯ä¸æ–­ä¸Šä¼ å›¾ç‰‡ 1234567891011function canvasImgWs()&#123; recordedVideo.addEventListener('loadedmetadata',() =&gt; &#123; canvas.width = recordedVideo.videoWidth; canvas.height = recordedVideo.videoHeight; var canvasImgWs = outTimeout(() =&gt; &#123; canvas.getContext('2d').drawImage(recordedVideo, 0, 0, canvas.width, canvas.height); wsSend(canvas.toDataURL("image/jpeg", 0.8).split(',')[1]) &#125;, 0,800) &#125;)&#125; è¿™é‡Œåº”åŽç«¯è¦æ±‚åªå‘é€äº†base64ï¼Œä½¿ç”¨splitè¿›è¡Œåˆ†å‰² ä¸Šä¼ å›¾ç‰‡æˆåŠŸåŽç›‘å¬æœåŠ¡ç«¯è¿”å›žçš„æ•°æ®å³å¯ï¼Œè¿™é‡ŒåŒæ ·ä½¿ç”¨socket 123456789101112ws.onmessage = (res) =&gt; &#123; let data = JSON.parse(res.data) console.log(data) if(data.is_detect)&#123; is_detect = true tempCount = data.score showScore(!is_detect, tempCount) &#125;else&#123; is_detect = false &#125;&#125; æ€»ç»“å…¶ä»–ä¸€äº›ç»†èŠ‚å°±ä¸è´´äº†ï¼Œå› ä¸ºåšå®¢è·ç¦»è¿™ä¸ªé¡¹ç›®å®Œæˆçš„æ—¶é—´æœ‰ç‚¹é•¿ã€‚ã€‚è®¸å¤šé€»è¾‘å¿˜è®°äº†ï¼Œä¸è¿‡æ€»ä½“æ¥è¯´éš¾åº¦ä¸ç®—å¤ªå¤§ï¼Œä¸»è¦çš„è¿˜æ˜¯é è‡ªå·±çš„æ€è€ƒå§ï¼Œæ²¡æœ‰ä»€ä¹ˆå¤ªå¤§çš„æŠ€æœ¯éš¾ç‚¹ï¼Œå®ŒæˆåŽè¿˜æ˜¯è§‰å¾—å¾ˆæœ‰æ„æ€çš„ï¼Œæ”¶èŽ·é¢‡å¤šã€‚]]></content>
      <categories>
        <category>Javascript</category>
      </categories>
      <tags>
        <tag>Javascript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºŽé¡µé¢åˆ‡æ¢åŽsetIntervalå‡ºçŽ°å»¶æ—¶é—®é¢˜]]></title>
    <url>%2F2018%2F06%2F08%2F%E5%85%B3%E4%BA%8E%E9%A1%B5%E9%9D%A2%E5%88%87%E6%8D%A2%E5%90%8EsetInterval%E5%87%BA%E7%8E%B0%E5%BB%B6%E6%97%B6%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[ç›´æŽ¥ä¸Šé—®é¢˜ä»Šå¤©æ²¡äº‹åœ¨å†™3Dç²’å­åŠ¨ç”»çš„æ—¶å€™ï¼Œè®¾ç½®äº†ä¸€ä¸ªå»¶æ—¶å™¨è®©ç²’å­å˜æ¢ä¸åŒçš„æ ·å­..å°±åƒè¿™æ · æœ¬ä»¥ä¸ºå®Œç¾Žå®Œæˆ..ç„¶åŽåˆ‡æ¢é¡µé¢åŽå†å›žæ¥ å°±ä¼šå‘çŽ°setIntervalå‡ºçŽ°äº†å»¶æ—¶.. åŠ¨ç”»ä¼šä¸€çž¬é—´å˜çš„å¾ˆå¿« 1234567function enableTrigger(idx) &#123; if(window.interval) return; let interval = setInterval(() =&gt; &#123; morphTo(texts[idx].particles, '#da2f20'); idx = (idx + 1) % 3; &#125;,3000)&#125; ä¸Šç½‘æœäº†ä¸€ä¸‹å¦‚ä½•åˆ¤æ–­é¡µé¢åˆ‡æ¢ã€‚ã€‚æ‰¾åˆ°äº† 123let hiddenProperty = 'hidden' in document ? 'hidden' : 'webkitHidden' in document ? 'webkitHidden' : null; æ•´ç†ä¸€ä¸‹æ€è·¯ï¼Œä¿®æ”¹ä¸€ä¸‹åŽŸå‡½æ•°å®Œç¾Žè§£å†³ 12345678910111213141516function enableTrigger(trigger, idx) &#123; if(window.interval) return; let interval = setInterval(() =&gt; &#123; let hiddenProperty = 'hidden' in document ? 'hidden' : 'webkitHidden' in document ? 'webkitHidden' : null; if(document[hiddenProperty])&#123; return; &#125; morphTo(texts[idx].particles, '#da2f20'); idx = (idx + 1) % 3; &#125;,3000)&#125; åœ¨å‰å…¬å¸ç•™ä¸‹çš„ä¹ æƒ¯ å°½é‡å‡å°‘ifé‡Œçš„ç¼©è¿› è¿™é‡Œå°±ç›´æŽ¥returnäº†]]></content>
      <categories>
        <category>Canvas</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>Canvas</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JsæŠ€æœ¯é¢˜è‡ªå†™]]></title>
    <url>%2F2018%2F06%2F07%2FJs%E6%8A%80%E6%9C%AF%E9%A2%98%E8%87%AA%E5%86%99%2F</url>
    <content type="text"><![CDATA[1å†™ä¸€ä¸ªæ–¹æ³•ï¼Œåœ¨ä¸€ä¸ªæœªçŸ¥å¯¹è±¡ä¸­ï¼Œæ‰¾å‡ºæ‰€æœ‰çš„â€œæŽé¹â€,å¹¶console.logè¾“å‡º: å¯¹åº”å€¼å½“å‰æ‰€åœ¨å¯¹è±¡ å½“å‰å¯¹è±¡æœ‰å¤šå°‘ä¸ªç›®æ ‡å€¼ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758const tar = &#123; a:&#123; b:&#123; c:&#123; d:&#123; e:&#123; name:"ç™¾åº¦" &#125; &#125;, l:&#123; name:"æŽé¹", age: "æŽé¹" &#125; &#125; &#125; &#125;, d:"90", e:"90", l:&#123; a:&#123; b:&#123; c:&#123; version:"1.0.0.1", name:"æŽé¹" &#125; &#125; &#125; &#125;, f:&#123; name:"æŽé¹", update:"2017å¹´03æœˆ20æ—¥" &#125;&#125;function getTar(tar, search)&#123; let count = 0 // è®°å½•ç›®æ ‡æ•° let path = [] // è®°å½•æ‰€åœ¨å¯¹è±¡ function _deep(tar)&#123; Object.keys(tar).map(item =&gt; &#123; if(Object.prototype.toString.call(tar[item]) === '[object Object]')&#123; path.push(item) _deep(tar[item]) // å¦‚æžœæ˜¯å¯¹è±¡åˆ™é€’å½’éåŽ†å¹¶å°†å¯¹è±¡ååŠ å…¥path &#125;else if(tar[item] === search)&#123; count++ console.log(path) //æ‰¾åˆ°åˆ™æ‰“å°è·¯å¾„ &#125; &#125;) path.pop() // éåŽ†å®Œä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰æˆå‘˜åŽå›žæº¯è·¯å¾„ &#125; _deep(tar) // åˆå§‹éåŽ† console.log(count)&#125;getTar(tar,'æŽé¹') è¾“å‡º 12345["a", "b", "c", "l"]["a", "b", "c", "l"]["l", "a", "b", "c"]["f"]4 2æ‰¾å‡ºæ•°ç»„arrä¸­é‡å¤å‡ºçŽ°è¿‡çš„å…ƒç´  123input: [1,2,4,4,3,3,1,5,3].sort()output: [1,3,4] 1234567891011121314const arr = [1,2,4,4,3,3,1,5,3].sort()function seleteDup(arr)&#123; let res = [] arr.map(item =&gt; &#123; if(arr.indexOf(item) != arr.lastIndexOf(item) &amp;&amp; res.indexOf(item) === -1)&#123; res.push(item) //ç¬¬ä¸€æ¬¡å‡ºçŽ°çš„ä½ç½®å’Œæœ€åŽä¸€æ¬¡å‡ºçŽ°çš„ä½ç½®ä¸ç›¸ç­‰ å¹¶ä¸”resæ•°ç»„ä¸­æ²¡æœ‰ åˆ™æ·»åŠ  &#125; &#125;) console.log(res)&#125;seleteDup(arr) 3ä¸ä½¿ç”¨å¾ªçŽ¯ï¼Œåˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º100çš„æ•°ç»„ï¼Œå¹¶ä½¿æ•°ç»„çš„æ¯ä¸ªå€¼ç­‰äºŽå®ƒçš„ä¸‹æ ‡ 1234567891011121314// å…ˆåˆ›å»ºä¸€ä¸ªé•¿ä¸º100çš„æ•°ç»„ç„¶åŽObject.keysæ‹¿åˆ°å­—ç¬¦æ•°ç»„, éœ€è¦è½¬åŒ–ä¸ºæ•°å­—let temp = Object.keys(Array.apply(null, &#123;length:100&#125;))let arr = temp.map(item =&gt; &#123; return +temp;&#125;)// Array.keysæ‹¿åˆ°è¿­ä»£å™¨ç„¶åŽè½¬ä¸ºæ•°ç»„let arr = Array.from(new Array(100).keys())// æ–¹æ³•ä¸Žç¬¬ä¸€ç§ç±»ä¼¼ åŒæ ·ä¸ºå­—ç¬¦æ•°ç»„ éœ€è¦è½¬åŒ–let temp = Object.keys(Array.from(&#123;length:100&#125;))// es6æ‰©å±•è¿ç®—ç¬¦let arr = [...Array(100).keys()] 4è§£æž URL ä¸­çš„ queryStringï¼Œè¿”å›žä¸€ä¸ªå¯¹è±¡è¿”å›žå€¼ç¤ºä¾‹ï¼š 12345&#123; name: 'coder', age: '20'. callback: 'https://youzan.com?name=test'&#125; è¯¥é¢˜è§£è§è‡ªå†™npmåŒ…j2url 5è¾“å‡ºä»¥ä¸‹è¯­å¥ç»“æžœ1["1", "1", "11","5"].map(parseInt) è‡ªè§£:å…ˆæŸ¥çœ‹MDN 1parseInt(string, radix) stringè¦è¢«è§£æžçš„å€¼ã€‚å¦‚æžœå‚æ•°ä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²(ä½¿ç”¨ ToString æŠ½è±¡æ“ä½œ)ã€‚å­—ç¬¦ä¸²å¼€å¤´çš„ç©ºç™½ç¬¦å°†ä¼šè¢«å¿½ç•¥ radixä¸€ä¸ªä»‹äºŽ2å’Œ36ä¹‹é—´çš„æ•´æ•°(æ•°å­¦ç³»ç»Ÿçš„åŸºç¡€)ï¼Œè¡¨ç¤ºä¸Šè¿°å­—ç¬¦ä¸²çš„åŸºæ•°ã€‚æ¯”å¦‚å‚æ•°â€10â€è¡¨ç¤ºä½¿ç”¨æˆ‘ä»¬é€šå¸¸ä½¿ç”¨çš„åè¿›åˆ¶æ•°å€¼ç³»ç»Ÿã€‚å§‹ç»ˆæŒ‡å®šæ­¤å‚æ•°å¯ä»¥æ¶ˆé™¤é˜…è¯»è¯¥ä»£ç æ—¶çš„å›°æƒ‘å¹¶ä¸”ä¿è¯è½¬æ¢ç»“æžœå¯é¢„æµ‹ã€‚å½“æœªæŒ‡å®šåŸºæ•°æ—¶ï¼Œä¸åŒçš„å®žçŽ°ä¼šäº§ç”Ÿä¸åŒçš„ç»“æžœï¼Œé€šå¸¸å°†å€¼é»˜è®¤ä¸º10 123let new_array = arr.map(function callback(currentValue, index, array) &#123; // Return element for new_array &#125;[, thisArg]) callbackç”Ÿæˆæ–°æ•°ç»„å…ƒç´ çš„å‡½æ•°ï¼Œä½¿ç”¨ä¸‰ä¸ªå‚æ•°ï¼š&nbsp;&nbsp;&nbsp;&nbsp;currentValue&nbsp;&nbsp;&nbsp;&nbsp;callback çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œæ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ ã€‚&nbsp;&nbsp;&nbsp;&nbsp;index&nbsp;&nbsp;&nbsp;&nbsp;callback çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œæ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ çš„ç´¢å¼•ã€‚&nbsp;&nbsp;&nbsp;&nbsp;array&nbsp;&nbsp;&nbsp;&nbsp;callback çš„ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œmap æ–¹æ³•è¢«è°ƒç”¨çš„æ•°ç»„ã€‚thisArgå¯é€‰çš„ã€‚æ‰§è¡Œ callback å‡½æ•°æ—¶ ä½¿ç”¨çš„this å€¼ ä»¥ä¸ŠMDNå†…å®¹ç”¨æ¥ç§‘æ™® å¯¹æ•°ç»„[&quot;1&quot;, &quot;1&quot;, &quot;11&quot;,&quot;5&quot;]è°ƒç”¨mapåŽå›žè°ƒå‡½æ•°ä¼ å…¥parseIntï¼Œ è¿™é‡Œæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½èƒ½è½¬åŒ–æˆæ•°å­—æ‰€ä»¥ä¸ç”¨è€ƒè™‘stringå‚æ•°ä¸ç¬¦åˆè¦æ±‚ï¼Œè¿™é‡Œå…³é”®æ˜¯è¦æ˜Žç™½ä¼ ç»™parseIntçš„å‚æ•°éƒ½æ˜¯ä»€ä¹ˆ æˆ‘ä»¬é‡å†™ä¸€ä¸ªå‡½æ•°æ¥æµ‹è¯•ä¸€ä¸‹ 123456789let arr = ["1", "1", "11","5"]let parseInt = function(string, radix)&#123; return string + ' : ' + radix&#125;console.log(arr.map(parseInt))// ["1 : 0", "1 : 1", "11 : 2", "5 : 3"] å¯ä»¥çœ‹åˆ°ç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥äº†æ•°ç»„å…ƒç´ ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥äº†ç´¢å¼•ï¼Œè¿™å’Œmapå‡½æ•°æŽ¥å—çš„å‚æ•°ä¸€æ ·ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥çŒœä¸€ä¸‹æœ€åŽä¸€ä¸ªå‚æ•°ä¼ å…¥çš„å°±æ˜¯æ•°ç»„ 123456789let arr = ["1", "1", "11","5"]let parseInt = function(string, radix, array)&#123; return string + ' : ' + radix + '-' + array&#125;console.log(arr.map(parseInt))// ["1 : 0-1,1,11,5", "1 : 1-1,1,11,5", "11 : 2-1,1,11,5", "5 : 3-1,1,11,5"] è¿™æ ·é¢˜ç›®å°±å¾ˆå¥½ç†è§£äº†.. ç­”æ¡ˆå°±æ˜¯1[1,NaN,3,NaN] flattenå®žçŽ°123456const flatten = (arr, depth = 1) =&gt; arr.reduce((a, b) =&gt; &#123; if (Array.isArray(b) &amp;&amp; depth - 1) &#123; return a.concat(flatten(b, depth - 1)); &#125; return a.concat(b);&#125;, []);]]></content>
      <categories>
        <category>Javascript</category>
      </categories>
      <tags>
        <tag>Javascript</tag>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸€äº›æ„Ÿæƒ³]]></title>
    <url>%2F2018%2F06%2F04%2F%E4%B8%80%E4%BA%9B%E6%84%9F%E6%83%B3%2F</url>
    <content type="text"><![CDATA[åºä»Šå¤©è·¯ä¸Šè·Ÿèˆå‹å°èŠäº†ä¸€äº›ï¼Œåˆæƒ³èµ·äº†æœ€è¿‘å‘ç”Ÿçš„ä¸€äº›äº‹æƒ…ï¼Œæ„Ÿè§¦é¢‡æ·± æ‚è®°å¾—å¤§ä¸€è·Ÿç€è€å¸ˆåœ¨é¡¹ç›®ç»„å·¥ä½œçš„æ—¥å­ï¼Œäººç”Ÿä¸­ç¬¬ä¸€æ¬¡æœ‰äº†è‡ªå·±çš„åŠžå…¬å®¤ åŽæ¥åœ¨è¿™ä¸ªé¡¹ç›®ç»„é‡Œå°½èŒå°½è´£(å¯¹äºŽè¿™å››ä¸ªå­—æˆ‘é—®å¿ƒæ— æ„§)çš„å†™ä»£ç ï¼Œä»Žå¼€å§‹çš„å‡ ç™¾å—é’±ï¼Œåˆ°åŽæ¥çš„1k+ï¼Œè™½ç„¶å¾ˆå°‘ï¼Œä½†æ˜¯æ¶‰ä¸–æœªæ·±çš„æˆ‘è¿˜çœŸæ˜¯å¼€å¿ƒå‘¢ï¼Œå¼€å¿ƒçš„æˆ‘åˆ°å¤„ç‚«è€€è‡ªå·±èµšäº†é’±ï¼Œæ¯•ç«Ÿæ˜¯é ç€è‡ªå·±çš„èƒ½åŠ›èµšçš„ç¬¬ä¸€æ¡¶é‡‘ï¼Œå½“æ—¶è§‰å¾—è‡ªå·±åœ¨åŒé¾„äººä¹‹ä¸­ç®—æ˜¯å¾ˆä¼˜ç§€çš„äº† åœ¨ä¸æ–­åœ°å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œäº†è§£äº†å‰ç«¯çš„æ–°æŠ€æœ¯ï¼Œä¹Ÿæ˜Žç™½äº†æˆ‘ä»¬é¡¹ç›®ç»„æ­£åœ¨ä½¿ç”¨çš„æŠ€æœ¯æ˜¯å¤šä¹ˆçš„ è€å¥— ï¼Œä¹Ÿæ˜Žç™½äº†æˆ‘ä»¬çš„å·¥èµ„æ˜¯å¤šä¹ˆçš„ä½Žhhhhhhã€‚éšç€å¯¹ç¤¾ä¼šçš„æŽ¥è§¦è¶Šæ¥è¶Šå¤šï¼Œè‡ªå·±è¶Šæ¥è¶Šæ¸…æ¥šè‡ªå·±æƒ³è¦çš„æ˜¯ä»€ä¹ˆã€‚ ä»”ç»†è¯„ä¼°äº†ä¸€ä¸‹ï¼Œæ„Ÿè§‰è‡ªå·±å¦‚æžœç»§ç»­ç•™åœ¨é¡¹ç›®ç»„çœŸçš„ä¼š è’åºŸæ—¶é—´ ï¼ŒäºŽæ˜¯å¤§äºŒæžœæ–­é€€å‡ºäº†â€¦çŽ°åœ¨æƒ³æƒ³è¿™æ˜¯å¤šä¹ˆæ˜Žç¡®çš„å†³å®šï¼Œé€€å‡ºçš„è¿™æ®µæ—¶é—´æˆ‘å¥½å¥½åœ°æ²‰æ·€äº†è‡ªå·±ï¼Œå­¦äº†å‰ç«¯çš„æ–°æŠ€æœ¯ï¼Œå¼€å§‹ç‰©è‰²å…¬å¸å®žä¹ ï¼Œå¹¶ä¸”æœè¿™æ–¹é¢ä¸æ–­åŠªåŠ›.. ä¹‹åŽå¶ç„¶çœ‹åˆ°äº†ä¸€ä¸ªè¿œç¨‹å®žä¹ çš„æ‹›è˜ï¼ŒæŠ€æœ¯æ ˆæ˜¯Reactï¼Œè™½ç„¶å½“æ—¶ç”¨çš„æ˜¯Vueï¼Œä½†æ˜¯åŸºäºŽå¯¹å®žä¹ çš„æ¸´æœ›è¿˜æ˜¯ä¸‰å¤©å†…è½¬åž‹Reactå¹¶ä¸”é€šè¿‡é¢è¯•..åœ¨åŽæ¥çš„å‡ ä¸ªæœˆå®žä¹ ç»™æˆ‘å¸¦æ¥çš„æœ€å¤§çš„è½¬æŠ˜ç‚¹å°±æ˜¯è®©æˆ‘çˆ±ä¸Šäº†Reactå§2333 æˆ‘æ„Ÿè§‰æˆ‘å†™è·‘é¢˜äº†ã€‚ã€‚è¿™ç‰¹ä¹ˆæ ¹æœ¬ä¸æ˜¯æ„Ÿæƒ³ é™ä¸‹å¿ƒæ¥ï¼Œæ²‰æ·€è‡ªå·± å¤šæŽ¥è§¦ä¸€ä¸‹ç¤¾ä¼šï¼Œä¸ç„¶ä½ ä¸çŸ¥é“è‡ªå·±èœæˆä»€ä¹ˆbæ · åˆ«åšäº†ä¸€ç‚¹å°ä¸œè¥¿å°±åœ¨æœ‹å‹åœˆç‚«è€€â€¦ è¿™ç‚¹ä¸œè¥¿æ‹¿å‡ºæ¥çœŸçš„ä¸å€¼ä¸€æ ä¸å¦‚åˆ†äº«ä¸€äº›ç»éªŒä»€ä¹ˆçš„ä¼šæ›´æœ‰ç”¨ ä¸šåŠ¡å±‚é¢çš„ä»£ç æ˜¯ä¸ªäººå­¦å‡ å¤©éƒ½ä¼šå†™â€¦ å¤šå¤šå…³æ³¨å†…åœ¨çš„ä¸œè¥¿ é¢è¯•çš„æ—¶å€™è¦æ”¾å¹³å¿ƒæ€ä¸è¦ç´§å¼  å°‘è·Ÿå˜´ç‚®é€‰æ‰‹æ‰“äº¤é“ Talk is cheap. Show me the code ç´§è·Ÿæ—¶ä»£çš„æ½®æµï¼Œä½†æ˜¯ä¸è¦ç›²ç›®çš„ä»Žä¼— æ°¸è¿œä¸è¦å®³æ€•è‡ªå·±èµ°çš„æ˜¯æœ€å­¤ç‹¬çš„è·¯!åšæŒä¸‹åŽ»ï¼Œä¸è¦è¢«åˆ«äººåŠ¨æ‘‡ï¼Œè®©ä»–ä»¬åŽ»èµ°è‡ªå·±çš„è·¯ ç›¸ä¿¡è‡ªå·±çš„åˆ¤æ–­ï¼Œåœ¨è‡ªå·±æ“…é•¿çš„é¢†åŸŸå†…ï¼Œä½ æ‰æ˜¯ä¸“å®¶ å®Œæˆæ¯”å®Œç¾Žæ›´å¥½]]></content>
      <categories>
        <category>é˜…è¯»</category>
      </categories>
      <tags>
        <tag>é˜…è¯»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¤§äºŒæ­å·žæœ‰èµžå‰ç«¯ä¸‰è½®é¢è¯•]]></title>
    <url>%2F2018%2F05%2F31%2F%E5%A4%A7%E4%BA%8C%E6%9D%AD%E5%B7%9E%E6%9C%89%E8%B5%9E%E5%89%8D%E7%AB%AF%E7%94%B5%E8%AF%9D%E9%9D%A2%E8%AF%95%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯ä¸ªäººæ„Ÿè§‰å¯¹æ­å·žè¿™ä¸ªåŸŽå¸‚è¿˜æ˜¯æœ‰å¾ˆå¤§å¥½æ„Ÿçš„ï¼Œæ­£å¥½åœ¨æŽ˜é‡‘ä¸Šçœ‹åˆ°æœ‰èµžçš„æ‹›è˜ï¼Œå°±é¡ºåŠ¿æŠ•äº†ç®€åŽ†ï¼Œç¬¬äºŒå¤©å°±æ”¶åˆ°äº†ç”µè¯é¢è¯•çš„é‚€è¯·(åæ§½ä¸€ä¸‹æ²¡å•†é‡ç”µé¢æ—¶é—´å°±ç›´æŽ¥çªå‡»é¢è¯•2333 ä¸€ç‚¹å‡†å¤‡ä¹Ÿæ²¡æœ‰hhhh) ç”µé¢é—®é¢˜åœ¨è¿™é‡Œåˆ—ä¸€ä¸‹é—®é¢˜ï¼Œæœ‰è¿™æ–¹é¢æ„å‘çš„å°ä¼™ä¼´å¯ä»¥å‚è€ƒä¸€ä¸‹ reactæºç  renderæ¸²æŸ“æœºåˆ¶ ç»„ä»¶åŒ–æ€æƒ³ å€¼ä¼ é€’ HOC å‡½æ•°ç»‘å®š redux ç®­å¤´å‡½æ•°ä½œç”¨åŸŸ æœ‰æ— çŠ¶æ€ç»„ä»¶ setTimeout Promise jsäº‹ä»¶æœºåˆ¶ let,const ç±»åž‹æ£€æµ‹,instanceofç¼ºé™· æµè§ˆå™¨ç¼“å­˜ react-router webpackæ‰“åŒ…å·¥å…· æˆ‘åªè®°å¾—è¿™äº›äº†23333 å…¶ä¸­æœ‰ä¸€äº›æ˜¯æˆ‘è‡ªå·±æ‰©å±•å‡ºæ¥çš„ ç”µé¢ç­”äº†å°†è¿‘90%,ä¸ªäººå’Œé¢è¯•å®˜æ„Ÿè§‰éƒ½æ˜¯æ¯”è¾ƒæ»¡æ„çš„ è§†é¢‘é¢Coding URLè§£æžé¢˜ Promiseå¤„ç†å›¾ç‰‡åŠ è½½ ç¬¬ä¸€é¢˜çœŸçš„é—®åˆ°æˆ‘è–„å¼±çš„åœ°æ–¹äº†ï¼Œå½“æ—¶çœ‹åˆ°é¢˜ç›®å†…å¿ƒå°±å‡‰å‡‰ï¼Œè™½ç„¶ä¸éš¾ä½†æ˜¯æˆ‘çœŸçš„æ²¡è®°ä½APIï¼Œå’Œä¸€é¢ç»“æžœæ¯”èµ·æ¥å·®å¾ˆå¤šã€‚ç¬¬äºŒé¢˜æ˜¯æˆ‘å¼ºè¡ŒåŠ çš„2333ï¼Œä½†æ˜¯æ„Ÿè§‰ä¹Ÿæ²¡èƒ½æ‰³å›žä¸€åŸŽ HRé¢ ä½ ä¸ºä»€ä¹ˆæƒ³æ¥æ­å·žå·¥ä½œ ä½ è§‰å¾—åœ¨å‰ç«¯è¿™ä¸ªé¢†åŸŸåº”è¯¥å…·å¤‡ä»€ä¹ˆæ ·çš„æŠ€èƒ½ ä¼šè®©ä½ è§‰å¾—æœ‰æˆå°±æ„Ÿçš„äº‹æƒ… ä½ å‡†å¤‡åœ¨è¿™æ¡è·¯ä¸Šå¦‚ä½•èµ°ä¸‹åŽ» ä½ ä»ŠåŽä¸¤å¹´çš„æ‰“ç®— ä½ åœ¨å­¦æ ¡å†…å‚ä¸Žæˆ–é¢†å¯¼çš„ä¸€äº›æŠ€æœ¯æ´»åŠ¨ ä½ æ˜¯å¦‚ä½•å­¦ä¹ å‰ç«¯çš„ â€¦â€¦ é—®äº†ä¸€ä¸‹ æ­å·žå¤§éƒ¨åˆ†äº’è”ç½‘å…¬å¸ä¸ä¼šæä¾›å…¬å¸ä½å®¿ ä¸è¿‡æ¯ä¸ªæœˆä¼šæœ‰1000+çš„è¡¥è´´ æœ‰ç§ç”Ÿæ´»è´¹çš„æ„Ÿè§‰hhhh æ”¶èŽ· ç”µé¢éƒ½æ˜¯è‡ªå·±ä¼šçš„æ‰€ä»¥æ”¶èŽ·ä¸å¤§ï¼Œä¸è¿‡è‡ªå·±å½“ç€é¢è¯•å®˜æŠŠè¿™äº›çŸ¥è¯†ç‚¹è¯´ä¸€éè¿˜æ˜¯å¾ˆæœ‰å¸®åŠ©çš„~ è§†é¢‘é¢æ”¶èŽ·å·¨å¤§23333,å‘çŽ°è‡ªå·±å¯¹Objectçš„ä¸€äº›åŽŸç”ŸAPIä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œä»¥åŠä¸€äº›é—®é¢˜çš„æ·±åº¦æ€è€ƒ Hré¢çš„å°å§å§è¯´è¯å¾ˆæ¸©æŸ” æ„Ÿæƒ³å†…å¿ƒè¿˜æ˜¯æœ‰ç‚¹å°é—æ†¾ï¼Œæ„Ÿè§‰è§†é¢‘é¢å†™ä»£ç å’Œå¹³æ—¶å†™ä»£ç çœŸçš„ä¸ä¸€æ ·ï¼Œä¼šæœ‰ä¸€ç§åŽ‹åŠ›â€¦å…¶å®žè¿‡åŽé‚£äº›APIå¾ˆå®¹æ˜“å°±æƒ³å‡ºæ¥ï¼Œä½†æ˜¯å½“æ—¶çš„ç´§å¼ è®©è‡ªå·±å¤§è„‘æš‚æ—¶æ€§ç©ºç™½(æ¯•ç«Ÿç¬¬ä¸€æ¬¡è§†é¢‘é¢)ï¼Œå¸Œæœ›ä»¥åŽä¼šé¿å…è¿™ç§äº‹æƒ…å‘ç”Ÿ é¢è¯•è¯„ä»·æœ‰èµžçš„é¢è¯•å®˜éƒ½å¾ˆæ£’!æ€åº¦ä¹Ÿå¾ˆå’Œè°å¾ˆèˆ’æœï¼Œæ„Ÿè§‰è¿™ä¸ªæ˜¯ä¸€ä¸ªæ¯”è¾ƒæœ‰æŠ€æœ¯å®žåŠ›çš„å…¬å¸å§ï¼Œé¢è¯•å¤„ç†æ•ˆçŽ‡ä¹Ÿå¾ˆé«˜ï¼Œæœäº†ä¸€ä¸‹ç½‘ä¸Šè¯„ä»·ä¹Ÿå¾ˆé«˜ã€‚å¯ä»¥è¯´æ˜¯æˆ‘é¢è¯•çš„æœ€èˆ’æœçš„ä¸€æ¬¡äº†(è™½ç„¶æˆ‘åªé¢è¯•äº†ä¸€åªæ‰‹å¯ä»¥æ•°è¿‡æ¥çš„å…¬å¸) ç»“æžœæ‹¿åˆ°Offer]]></content>
      <categories>
        <category>é¢è¯•</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[create-react-appçš„webpacké…ç½®é˜…è¯»]]></title>
    <url>%2F2018%2F05%2F15%2Fcreate-react-app%E7%9A%84webpack%E9%85%8D%E7%BD%AE%E9%98%85%E8%AF%BB%2F</url>
    <content type="text"><![CDATA[åº â€œä½ æž„å»ºé¡¹ç›®ç”¨webpackä¹ˆ?â€ â€œä¸, æˆ‘ç”¨parcelã€‚â€ â€œé‚£ä½ ç”¨è¿‡ä»€ä¹ˆè„šæ‰‹æž¶ä¹ˆ?â€ â€œcreate-react-appç­‰ç­‰â€¦â€ â€œé‚£ä½ è¯»è¿‡create-react-appä¸­çš„webpacké…ç½®æºç ä¹ˆ?â€ â€œå½“ç„¶ï¼Œbalabalaâ€¦.â€ Dev(å¼€å‘çŽ¯å¢ƒ)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158'use strict';const autoprefixer = require('autoprefixer');const path = require('path');const webpack = require('webpack');const HtmlWebpackPlugin = require('html-webpack-plugin');const CaseSensitivePathsPlugin = require('case-sensitive-paths-webpack-plugin');const InterpolateHtmlPlugin = require('react-dev-utils/InterpolateHtmlPlugin');const WatchMissingNodeModulesPlugin = require('react-dev-utils/WatchMissingNodeModulesPlugin');const eslintFormatter = require('react-dev-utils/eslintFormatter');const ModuleScopePlugin = require('react-dev-utils/ModuleScopePlugin');const getClientEnvironment = require('./env');const paths = require('./paths');const publicPath = '/';const publicUrl = '';const env = getClientEnvironment(publicUrl);module.exports = &#123; devtool: 'cheap-module-source-map', entry: [ require.resolve('./polyfills'), require.resolve('react-dev-utils/webpackHotDevClient'), paths.appIndexJs, ], output: &#123; pathinfo: true, filename: 'static/js/bundle.js', chunkFilename: 'static/js/[name].chunk.js', publicPath: publicPath, devtoolModuleFilenameTemplate: info =&gt; path.resolve(info.absoluteResourcePath).replace(/\\/g, '/'), &#125;, resolve: &#123; modules: ['node_modules', paths.appNodeModules].concat( process.env.NODE_PATH.split(path.delimiter).filter(Boolean) ), extensions: ['.web.js', '.mjs', '.js', '.json', '.web.jsx', '.jsx'], alias: &#123; 'react-native': 'react-native-web', &#125;, plugins: [ new ModuleScopePlugin(paths.appSrc, [paths.appPackageJson]), ], &#125;, module: &#123; strictExportPresence: true, rules: [ &#123; test: /\.(js|jsx|mjs)$/, enforce: 'pre', use: [ &#123; options: &#123; formatter: eslintFormatter, eslintPath: require.resolve('eslint'), &#125;, loader: require.resolve('eslint-loader'), &#125;, ], include: paths.appSrc, &#125;, &#123; oneOf: [ &#123; test: [/\.bmp$/, /\.gif$/, /\.jpe?g$/, /\.png$/], loader: require.resolve('url-loader'), options: &#123; limit: 10000, name: 'static/media/[name].[hash:8].[ext]', &#125;, &#125;, &#123; test: /\.(js|jsx|mjs)$/, include: paths.appSrc, loader: require.resolve('babel-loader'), options: &#123; cacheDirectory: true, &#125;, &#125;, &#123; test: /\.css$/, use: [ require.resolve('style-loader'), &#123; loader: require.resolve('css-loader'), options: &#123; importLoaders: 1, &#125;, &#125;, &#123; loader: require.resolve('postcss-loader'), options: &#123; ident: 'postcss', plugins: () =&gt; [ require('postcss-flexbugs-fixes'), autoprefixer(&#123; browsers: [ '&gt;1%', 'last 4 versions', 'Firefox ESR', 'not ie &lt; 9', ], flexbox: 'no-2009', &#125;), ], &#125;, &#125;, ], &#125;, &#123; test: /\.scss$/, loader: 'style!css!postcss!sass?outputStyle=expanded' &#125;, &#123; exclude: [ /\.(js|jsx|mjs)$/, /\.html$/, /\.json$/, /\.scss$/ ], loader: require.resolve('file-loader'), options: &#123; name: 'static/media/[name].[hash:8].[ext]', &#125;, &#125; ], &#125;, ], &#125;, plugins: [ new InterpolateHtmlPlugin(env.raw), new HtmlWebpackPlugin(&#123; inject: true, template: paths.appHtml, &#125;), new webpack.NamedModulesPlugin(), new webpack.DefinePlugin(env.stringified), new webpack.HotModuleReplacementPlugin(), new CaseSensitivePathsPlugin(), new WatchMissingNodeModulesPlugin(paths.appNodeModules), new webpack.IgnorePlugin(/^\.\/locale$/, /moment$/), ], node: &#123; dgram: 'empty', fs: 'empty', net: 'empty', tls: 'empty', child_process: 'empty', &#125;, performance: &#123; hints: false, &#125;,&#125;; æŽ¥ä¸‹æ¥æˆ‘ä»¬ä»Žä¸Šåˆ°ä¸‹è¿›è¡Œé˜…è¯» è¿™é‡Œåªæ¶‰åŠmodule.exportsä¸­çš„å†…å®¹ devtool1devtool: 'cheap-module-source-map', è¿™é‡Œæ˜¯webpackçš„sourcemapé…ç½®ã€‚ sourcemapæ˜¯ä¸ºäº†è§£å†³å¼€å‘ä»£ç ä¸Žå®žé™…è¿è¡Œä»£ç ä¸ä¸€è‡´æ—¶å¸®åŠ©æˆ‘ä»¬debugåˆ°åŽŸå§‹å¼€å‘ä»£ç çš„æŠ€æœ¯ å®˜æ–¹æœ‰åå‡ ç§sourcemapè¿™é‡Œä¸åšæ™®åŠï¼Œä¸æ‡‚çš„çœ‹ä¸€ä¸‹è¯¦ç»†å®˜æ–¹æ–‡æ¡£ entry12345require.resolve('./polyfills'),require.resolve('react-dev-utils/webpackHotDevClient'),paths.appIndexJs, é»˜è®¤è£…è½½äº†polyfills.js è½½å…¥çƒ­æ›´æ–°, å¯ä»¥è¢«çœ‹åšå…·æœ‰æ›´å¥½ä½“éªŒçš„WebpackDevServer ä½ çš„å…¥å£æ–‡ä»¶ å…³äºŽç¬¬ä¸‰ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨paths.jsä¸­çœ‹åˆ°å…¶ä¸ºappIndexJs: resolveApp(&#39;src/index.js&#39;) output12345678910pathinfo: true,filename: 'static/js/bundle.js',chunkFilename: 'static/js/[name].chunk.js',publicPath: publicPath,devtoolModuleFilenameTemplate: info =&gt; path.resolve(info.absoluteResourcePath).replace(/\\/g, '/'), å‘Šè¯‰ webpackåœ¨bundleä¸­å¼•å…¥ã€Œæ‰€åŒ…å«æ¨¡å—ä¿¡æ¯ã€çš„ç›¸å…³æ³¨é‡Š(ä¸åœ¨ç”Ÿäº§çŽ¯å¢ƒä¸­ä½¿ç”¨) å†³å®šäº†æ¯ä¸ªè¾“å‡ºbundleçš„åç§°å’Œç›®å½• å†³å®šäº†éžå…¥å£chunkæ–‡ä»¶çš„åç§°(nameä¸ºå…¥å£åç§°) æŒ‡å®šåœ¨æµè§ˆå™¨ä¸­æ‰€å¼•ç”¨çš„ã€Œæ­¤è¾“å‡ºç›®å½•å¯¹åº”çš„å…¬å¼€ URLã€, ä¸Šæ–‡ä¸­ä¸ºconst publicPath = &#39;/&#39; è‡ªå®šä¹‰æ¯ä¸ªsource mapçš„sourcesæ•°ç»„ä¸­ä½¿ç”¨çš„åç§°(æ­¤é€‰é¡¹ä»…åœ¨ ã€Œdevtool ä½¿ç”¨äº†éœ€è¦æ¨¡å—åç§°çš„é€‰é¡¹ã€æ—¶ä½¿ç”¨, ä¸Šæ–‡åœ¨è¿™é‡Œä½¿ç”¨äº†cheap-module-source-map) resolve12345678910111213modules: ['node_modules', paths.appNodeModules].concat( process.env.NODE_PATH.split(path.delimiter).filter(Boolean)),extensions: ['.web.js', '.mjs', '.js', '.json', '.web.jsx', '.jsx'],alias: &#123; 'react-native': 'react-native-web',&#125;,plugins: [ new ModuleScopePlugin(paths.appSrc, [paths.appPackageJson]),], å‘Šè¯‰webpackè§£æžæ¨¡å—æ—¶åº”è¯¥æœç´¢çš„ç›®å½•ï¼ŒæŒ‰æ•°ç»„å‰åŽä¼˜å…ˆçº§è¿›è¡Œæœç´¢ã€‚è¿™é‡Œprocess.env.NODE_PATH.split(path.delimiter).filter(Boolean)å°†è·¯å¾„æŒ‰:æˆ–è€…;åˆ†å‰²å¼€è¿”å›žæ•°ç»„å¹¶ä¸”åŽ»æŽ‰å…¶ä¸­é€»è¾‘å€¼ä¸ºfalseçš„å…ƒç´  è‡ªåŠ¨è§£æžç¡®å®šçš„æ‰©å±•ï¼Œèƒ½å¤Ÿä½¿ç”¨æˆ·åœ¨å¼•å…¥æ¨¡å—æ—¶ä¸å¸¦æ‰©å±•ï¼Œæ¯”å¦‚import ./index.jså¯ä»¥å†™æˆimport ./index åˆ›å»º import æˆ– require çš„åˆ«åï¼Œæ¥ç¡®ä¿æ¨¡å—å¼•å…¥å˜å¾—æ›´ç®€å•ï¼Œè¿™é‡Œåœ¨å¼•ç”¨æ¨¡å—çš„æ—¶å€™å¯ä»¥æŠŠç›®å½•åreact-native-webç®€å†™æˆreact-native ä½¿ç”¨çš„é¢å¤–çš„è§£æžæ’ä»¶åˆ—è¡¨ï¼Œè¿™é‡Œä½¿ç”¨ModuleScopePluginé™åˆ¶è‡ªå·±ç¼–å†™çš„æ¨¡å—åªèƒ½ä»Žsrcç›®å½•ä¸­å¼•å…¥ module123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384strictExportPresence: true,rules: [ &#123; test: /\.(js|jsx|mjs)$/, enforce: 'pre', use: [ &#123; options: &#123; formatter: eslintFormatter, eslintPath: require.resolve('eslint'), &#125;, loader: require.resolve('eslint-loader'), &#125;, ], include: paths.appSrc, &#125;, &#123; oneOf: [ &#123; test: [/\.bmp$/, /\.gif$/, /\.jpe?g$/, /\.png$/], loader: require.resolve('url-loader'), options: &#123; limit: 10000, name: 'static/media/[name].[hash:8].[ext]', &#125;, &#125;, &#123; test: /\.(js|jsx|mjs)$/, include: paths.appSrc, loader: require.resolve('babel-loader'), options: &#123; cacheDirectory: true, &#125;, &#125;, &#123; test: /\.css$/, use: [ require.resolve('style-loader'), &#123; loader: require.resolve('css-loader'), options: &#123; importLoaders: 1, &#125;, &#125;, &#123; loader: require.resolve('postcss-loader'), options: &#123; ident: 'postcss', plugins: () =&gt; [ require('postcss-flexbugs-fixes'), autoprefixer(&#123; browsers: [ '&gt;1%', 'last 4 versions', 'Firefox ESR', 'not ie &lt; 9', ], flexbox: 'no-2009', &#125;), ], &#125;, &#125;, ], &#125;, &#123; test: /\.scss$/, loader: 'style!css!postcss!sass?outputStyle=expanded' &#125;, &#123; exclude: [ /\.(js|jsx|mjs)$/, /\.html$/, /\.json$/, /\.scss$/ ], loader: require.resolve('file-loader'), options: &#123; name: 'static/media/[name].[hash:8].[ext]', &#125;, &#125; ], &#125;,], strictExportPresenceä½¿ç¼ºå°‘çš„å¯¼å‡ºå‡ºçŽ°é”™è¯¯è€Œä¸æ˜¯è­¦å‘Š, é»˜è®¤å€¼ä¸ºfalse rulesä½¿åˆ›å»ºæ¨¡å—æ—¶ï¼ŒåŒ¹é…è¯·æ±‚çš„è§„åˆ™æ•°ç»„ã€‚è¿™äº›è§„åˆ™èƒ½å¤Ÿä¿®æ”¹æ¨¡å—çš„åˆ›å»ºæ–¹å¼ã€‚è¿™äº›è§„åˆ™èƒ½å¤Ÿå¯¹æ¨¡å—(module)åº”ç”¨loaderï¼Œæˆ–è€…ä¿®æ”¹è§£æžå™¨(parser) è¿™é‡Œrulesä¸­çš„æ¯ä¸ªloaderå°±ä¸è®²äº†ï¼ŒæŠŠå®šä¹‰åˆ—ä¸€ä¸‹è‡ªå·±å°±èƒ½çœ‹æ‡‚ test: åŒ¹é…è¦å¤„ç†çš„æ–‡ä»¶çš„æ­£åˆ™åŒ¹é…ï¼Œæ˜¯ Rule.resource.test çš„ç®€å†™ enforce:åŠ è½½å™¨çš„æ‰§è¡Œé¡ºåºï¼Œä¸è®¾ç½®ä¸ºæ­£å¸¸æ‰§è¡Œã€‚å¯é€‰å€¼ &#39;pre|post&#39;å‰|åŽ include:å°†è¦å¤„ç†çš„ç›®å½•åŒ…æ‹¬è¿›æ¥ exclude:æŽ’é™¤ä¸å¤„ç†çš„æ–‡ä»¶ç›®å½•ï¼Œå¯ä»¥ä½¿æ•°ç»„æˆ–å­—ç¬¦ä¸²æ­£åˆ™æ ¼å¼ issuer:ä¸€ä¸ªæ¡ä»¶ï¼Œç”¨æ¥ä¸Žè¢«å‘å¸ƒçš„ request å¯¹åº”çš„æ¨¡å—é¡¹åŒ¹é… loader:æ˜¯ Rule.use: [ { loader } ] çš„ç®€å†™ loaders:æ˜¯ Rule.useçš„åˆ«å,ç”±äºŽéœ€è¦æ”¯æŒRule.useï¼Œæ­¤é€‰é¡¹å·²åºŸå¼ƒ oneOf:è§„åˆ™æ•°ç»„ï¼Œå½“è§„åˆ™åŒ¹é…æ—¶ï¼Œåªä½¿ç”¨ç¬¬ä¸€ä¸ªåŒ¹é…è§„åˆ™ options|query: æ˜¯ Rule.use: [ { options } ] çš„ç®€å†™ï¼Œå·²åºŸå¼ƒ parser:è§£æžé€‰é¡¹å¯¹è±¡ã€‚æ‰€æœ‰åº”ç”¨çš„è§£æžé€‰é¡¹éƒ½å°†åˆå¹¶ resource:ä¸Žèµ„æºåŒ¹é…çš„æ¡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨æ­£åˆ™ã€‚ä¾‹å­ä¸­åŒ¹é…èµ„æºå†…éƒ¨ å«æœ‰appçš„æ–‡ä»¶ å¦‚ app.js | demoapp.js resourceQuery:ä¸Žèµ„æºæŸ¥è¯¢åŒ¹é…çš„æ¡ä»¶ï¼ŒåŒ¹é…èµ„æº?åŽé¢çš„å­—æ®µ å¦‚ app.js?userName use: åº”ç”¨äºŽæ¨¡å—çš„UseEntriesåˆ—è¡¨ã€‚æ¯ä¸ªå…¥å£(entry)æŒ‡å®šä½¿ç”¨ä¸€ä¸ª loader pluginsåœ¨ webpack çš„æž„å»ºæµç¨‹ä¸­ï¼Œplugin ç”¨äºŽå¤„ç†æ›´å¤šå…¶ä»–çš„ä¸€äº›æž„å»ºä»»åŠ¡ã€‚å¯ä»¥è¿™ä¹ˆç†è§£ï¼Œæ¨¡å—ä»£ç è½¬æ¢çš„å·¥ä½œç”± loader æ¥å¤„ç†ï¼Œé™¤æ­¤ä¹‹å¤–çš„å…¶ä»–ä»»ä½•å·¥ä½œéƒ½å¯ä»¥äº¤ç”± plugin æ¥å®Œæˆ è¿™é‡Œåªå¯¹ç”¨åˆ°çš„pluginsåŠŸèƒ½è¿›è¡Œåˆ†æžï¼Œä¸å¯¹å…¶è¿›è¡Œå…·ä½“åˆ†æž 1234567891011new InterpolateHtmlPlugin(env.raw),new HtmlWebpackPlugin(&#123; inject: true, template: paths.appHtml,&#125;),new webpack.NamedModulesPlugin(),new webpack.DefinePlugin(env.stringified),new webpack.HotModuleReplacementPlugin(),new CaseSensitivePathsPlugin(),new WatchMissingNodeModulesPlugin(paths.appNodeModules),new webpack.IgnorePlugin(/^\.\/locale$/, /moment$/), InterpolateHtmlPlugin: å’ŒHtmlWebpackPluginä¸²è¡Œä½¿ç”¨ï¼Œå…è®¸åœ¨index.htmlä¸­æ·»åŠ å˜é‡ HtmlWebpackPlugin: ç®€åŒ–äº†HTMLæ–‡ä»¶çš„åˆ›å»ºï¼Œä»¥ä¾¿ä¸ºä½ çš„webpackåŒ…æä¾›æœåŠ¡,å¯ä»¥è®©æ’ä»¶ä¸ºä½ ç”Ÿæˆä¸€ä¸ªHTMLæ–‡ä»¶ï¼Œä½¿ç”¨lodashæ¨¡æ¿æä¾›ä½ è‡ªå·±çš„æ¨¡æ¿ï¼Œæˆ–ä½¿ç”¨ä½ è‡ªå·±çš„loader NamedModulesPlugin: å½“å¼€å¯ HMR(æ¨¡å—çƒ­æ›¿æ¢) çš„æ—¶å€™ä½¿ç”¨è¯¥æ’ä»¶ä¼šæ˜¾ç¤ºæ¨¡å—çš„ç›¸å¯¹è·¯å¾„ï¼Œå»ºè®®ç”¨äºŽå¼€å‘çŽ¯å¢ƒ DefinePlugin: å…è®¸åˆ›å»ºä¸€ä¸ªåœ¨ç¼–è¯‘æ—¶å¯ä»¥é…ç½®çš„å…¨å±€å¸¸é‡ï¼Œè¿™é‡Œè®¾ç½®äº†env.stringifiedä¸ºdevelopment HotModuleReplacementPlugin: HMR CaseSensitivePathsPlugin: å¦‚æžœè·¯å¾„æœ‰è¯¯åˆ™ç›´æŽ¥æŠ¥é”™ WatchMissingNodeModulesPlugin: å…è®¸ä½ å®‰è£…åº“åŽè‡ªåŠ¨é‡æ–°æž„å»ºæ‰“åŒ…æ–‡ä»¶ IgnorePlugin: é˜²æ­¢åœ¨ import æˆ– require è°ƒç”¨æ—¶ï¼Œç”Ÿæˆä»¥ä¸‹æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„æ¨¡å— nodeè¿™äº›é€‰é¡¹å¯ä»¥é…ç½®æ˜¯å¦ polyfill æˆ– mock æŸäº› Node.js å…¨å±€å˜é‡å’Œæ¨¡å—ã€‚è¿™å¯ä»¥ä½¿æœ€åˆä¸ºNode.js çŽ¯å¢ƒç¼–å†™çš„ä»£ç ï¼Œåœ¨å…¶ä»–çŽ¯å¢ƒï¼ˆå¦‚æµè§ˆå™¨ï¼‰ä¸­è¿è¡Œ æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­æ¯ä¸ªå±žæ€§éƒ½æ˜¯ Node.js å…¨å±€å˜é‡æˆ–æ¨¡å—çš„åç§°ï¼Œæ¯ä¸ª value æ˜¯ä»¥ä¸‹å…¶ä¸­ä¹‹ä¸€ trueï¼šæä¾› polyfillã€‚ &quot;mock&quot;ï¼šæä¾› mock å®žçŽ°é¢„æœŸæŽ¥å£ï¼Œä½†åŠŸèƒ½å¾ˆå°‘æˆ–æ²¡æœ‰ã€‚ &quot;empty&quot;ï¼šæä¾›ç©ºå¯¹è±¡ã€‚ false: ä»€ä¹ˆéƒ½ä¸æä¾›ã€‚é¢„æœŸèŽ·å–æ­¤å¯¹è±¡çš„ä»£ç ï¼Œå¯èƒ½ä¼šå› ä¸ºèŽ·å–ä¸åˆ°æ­¤å¯¹è±¡ï¼Œè§¦å‘ ReferenceError è€Œå´©æºƒã€‚å°è¯•ä½¿ç”¨ require(&#39;modulename&#39;) å¯¼å…¥æ¨¡å—çš„ä»£ç ï¼Œå¯èƒ½ä¼šè§¦å‘ Cannot find module &quot;modulename&quot; é”™è¯¯ 1234567node: &#123; dgram: 'empty', fs: 'empty', net: 'empty', tls: 'empty', child_process: 'empty',&#125;, å…è®¸æˆ‘æ¥ä¸€ä¸ªæ ‡å‡†æ”¶å°¾ è¿™å°±ä¸ç”¨è®²äº†å§?]]></content>
      <categories>
        <category>Webpack</category>
      </categories>
      <tags>
        <tag>React</tag>
        <tag>webpack</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSé«˜çº§æŠ€å·§(ç®€æ´ç‰ˆ)]]></title>
    <url>%2F2018%2F05%2F07%2F%E4%BD%A0%E9%9C%80%E8%A6%81%E7%9F%A5%E9%81%93%E7%9A%84JS%E9%AB%98%E7%BA%A7%E6%8A%80%E5%B7%A7%2F</url>
    <content type="text"><![CDATA[é«˜çº§å‡½æ•°ç”±äºŽåœ¨JSä¸­ï¼Œæ‰€æœ‰çš„å‡½æ•°éƒ½æ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥ä½¿ç”¨å‡½æ•°æŒ‡é’ˆååˆ†ç®€å•ï¼Œä¹Ÿæ˜¯è¿™äº›ä¸œè¥¿ä½¿JSå‡½æ•°æœ‰è¶£ä¸”å¼ºå¤§ å®‰å…¨çš„ç±»åž‹æ£€æµ‹JSå†…ç½®çš„ç±»åž‹æ£€æµ‹æœºåˆ¶å¹¶ä¸æ˜¯å®Œå…¨å¯é çš„ typeofæ“ä½œç¬¦è¿”å›žä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæœªç»è®¡ç®—çš„æ“ä½œæ•°çš„ç±»åž‹ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹å¾ˆé è°±ï¼Œä½†æ˜¯å½“ç„¶è¿˜æœ‰ä¾‹å¤– æ­£åˆ™è¡¨è¾¾å¼12typeof /s/ === 'function'; // Chrome 1-12 , ä¸ç¬¦åˆ ECMAScript 5.1typeof /s/ === 'object'; // Firefox 5+ , ç¬¦åˆ ECMAScript 5.1 NULL1typeof null === 'object'; // ä»Žä¸€å¼€å§‹å‡ºçŽ°JavaScriptå°±æ˜¯è¿™æ ·çš„ åœ¨ JavaScript æœ€åˆçš„å®žçŽ°ä¸­ï¼ŒJavaScript ä¸­çš„å€¼æ˜¯ç”±ä¸€ä¸ªè¡¨ç¤ºç±»åž‹çš„æ ‡ç­¾å’Œå®žé™…æ•°æ®å€¼è¡¨ç¤ºçš„ã€‚å¯¹è±¡çš„ç±»åž‹æ ‡ç­¾æ˜¯ 0ã€‚ç”±äºŽ null ä»£è¡¨çš„æ˜¯ç©ºæŒ‡é’ˆï¼ˆå¤§å¤šæ•°å¹³å°ä¸‹å€¼ä¸º 0x00ï¼‰ï¼Œå› æ­¤ï¼Œnullçš„ç±»åž‹æ ‡ç­¾ä¹Ÿæˆä¸ºäº† 0ï¼Œtypeof nullå°±é”™è¯¯çš„è¿”å›žäº†object instanceofè¿ç®—ç¬¦ç”¨æ¥æµ‹è¯•ä¸€ä¸ªå¯¹è±¡åœ¨å…¶åŽŸåž‹é“¾ä¸­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªæž„é€ å‡½æ•°çš„ prototype å±žæ€§ è¯­æ³• object instanceof constructor(è¦æ£€æµ‹çš„å¯¹è±¡ instanceof æž„é€ å‡½æ•°) ä½†æ˜¯åœ¨æµè§ˆå™¨ä¸­ï¼Œæˆ‘ä»¬çš„è„šæœ¬å¯èƒ½éœ€è¦åœ¨å¤šä¸ªçª—å£ä¹‹é—´è¿›è¡Œäº¤äº’ã€‚å¤šä¸ªçª—å£æ„å‘³ç€å¤šä¸ªå…¨å±€çŽ¯å¢ƒï¼Œä¸åŒçš„å…¨å±€çŽ¯å¢ƒæ‹¥æœ‰ä¸åŒçš„å…¨å±€å¯¹è±¡ï¼Œä»Žè€Œæ‹¥æœ‰ä¸åŒçš„å†…ç½®ç±»åž‹æž„é€ å‡½æ•°ã€‚è¿™å¯èƒ½ä¼šå¼•å‘ä¸€äº›é—®é¢˜ã€‚ 1[] instanceof window.frames[0].Array //false å› ä¸º Array.prototype !== window.frames[0].Array.prototypeï¼Œå› æ­¤ä½ å¿…é¡»ä½¿ç”¨ Array.isArray(myObj) æˆ–è€… Object.prototype.toString.call(myObj) === &quot;[object Array]&quot;æ¥åˆ¤æ–­myObjæ˜¯å¦æ˜¯æ•°ç»„ è§£å†³ä»¥ä¸Šä¸¤ä¸ªé—®é¢˜çš„æ–¹æ¡ˆå°±æ˜¯Object.prototype.toString Object.prototype.toStringæ–¹æ³•è¿”å›žä¸€ä¸ªè¡¨ç¤ºè¯¥å¯¹è±¡çš„å­—ç¬¦ä¸² å¯ä»¥é€šè¿‡toString() æ¥èŽ·å–æ¯ä¸ªå¯¹è±¡çš„ç±»åž‹ã€‚ä¸ºäº†æ¯ä¸ªå¯¹è±¡éƒ½èƒ½é€šè¿‡ Object.prototype.toString() æ¥æ£€æµ‹ï¼Œéœ€è¦ä»¥ Function.prototype.call() æˆ–è€… Function.prototype.apply()çš„å½¢å¼æ¥è°ƒç”¨ï¼Œä¼ é€’è¦æ£€æŸ¥çš„å¯¹è±¡ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç§°ä¸ºthisArg 1234567891011var toString = Object.prototype.toString;toString.call(new Date); // [object Date]toString.call(new String); // [object String]toString.call(Math); // [object Math]toString.call(/s/); // [object RegExp]toString.call([]); // [object Array]//Since JavaScript 1.8.5toString.call(undefined); // [object Undefined]toString.call(null); // [object Null] ä½œç”¨åŸŸå®‰å…¨çš„æž„é€ å‡½æ•°æž„é€ å‡½æ•°å…¶å®žå°±æ˜¯ä¸€ä¸ªä½¿ç”¨newæ“ä½œç¬¦è°ƒç”¨çš„å‡½æ•°ã€‚å½“ä½¿ç”¨newè°ƒç”¨æ—¶ï¼Œæž„é€ å‡½æ•°å†…ç”¨åˆ°çš„thiså¯¹è±¡ä¼šæŒ‡å‘æ–°åˆ›å»ºçš„å¯¹è±¡å®žä¾‹ 12345678function Person(name, age)&#123; this.name = name; this.age = age;&#125;let person = new Person("addone", 20);person.name // addone å½“ä½ ä½¿ç”¨newæ“ä½œç¬¦çš„æ—¶å€™ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„Personå¯¹è±¡ï¼ŒåŒæ—¶åˆ†é…è¿™äº›å±žæ€§ï¼Œä½†æ˜¯å¦‚æžœä½ æ²¡æœ‰ä½¿ç”¨new 1234let person = Person("addone", 20);person1.name // Cannot read property 'name' of undefinedwindow.name // addone è¿™æ˜¯å› ä¸ºthisæ˜¯åœ¨æ‰§è¡Œæ—¶ç¡®è®¤çš„ï¼Œå½“ä½ æ²¡æœ‰ä½¿ç”¨newï¼Œé‚£ä¹ˆthisåœ¨å½“å‰æƒ…å†µä¸‹å°±è¢«è§£æžæˆäº†windowï¼Œå±žæ€§å°±è¢«åˆ†é…åˆ°windowä¸Šäº† ä½œç”¨åŸŸå®‰å…¨çš„æž„é€ å‡½æ•°åœ¨è¿›è¡Œæ›´æ”¹å‰ï¼Œé¦–å…ˆç¡®è®¤thiså¯¹è±¡æ˜¯æ­£ç¡®ç±»åž‹çš„å®žä¾‹ï¼Œå¦‚æžœä¸æ˜¯ï¼Œå°±åˆ›å»ºæ–°çš„å¯¹è±¡å¹¶ä¸”è¿”å›ž 1234567891011121314function Person(name, age)&#123; if(this instanceof Person)&#123; this.name = name; this.age = age; &#125;else&#123; return new Person(name, age); &#125;&#125;let person1 = new Person("addone", 20);person1.name // addonelet person2 = Person("addone", 20);person2.name // addone this instanceof Personæ£€æŸ¥äº†thiså¯¹è±¡æ˜¯ä¸æ˜¯Personçš„å®žä¾‹ï¼Œå¦‚æžœæ˜¯åˆ™ç»§ç»­ï¼Œä¸æ˜¯åˆ™è°ƒç”¨new æƒ°æ€§è½½å…¥å‡½æ•°å‡å¦‚ä½ è¦å†™ä¸€ä¸ªå‡½æ•°ï¼Œé‡Œé¢æœ‰ä¸€äº›åˆ¤æ–­è¯­å¥ 1234567function foo()&#123; if(a != b)&#123; console.log('aaa') &#125;else&#123; console.log('bbb') &#125;&#125; å¦‚æžœä½ çš„aå’Œbæ˜¯ä¸å˜çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°ä¸è®ºæ‰§è¡Œå¤šå°‘æ¬¡ï¼Œç»“æžœéƒ½æ˜¯ä¸å˜çš„ï¼Œä½†æ˜¯æ¯æ¬¡æ‰§è¡Œè¿˜è¦è¿›è¡Œifåˆ¤æ–­ï¼Œè¿™å°±é€ æˆäº†ä¸å¿…è¦çš„æµªè´¹ã€‚ æƒ°æ€§è½½å…¥è¡¨ç¤ºå‡½æ•°æ‰§è¡Œçš„åˆ†æ”¯åªä¼šå‘ç”Ÿä¸€æ¬¡ï¼Œè¿™é‡Œæœ‰ä¸¤ç§è§£å†³æ–¹å¼ã€‚ åœ¨å‡½æ•°è¢«è°ƒç”¨æ—¶å†å¤„ç†å‡½æ•°123456789101112function foo()&#123; if(a != b)&#123; foo = function()&#123; console.log('aaa') &#125; &#125;else&#123; foo = function()&#123; console.log('bbb') &#125; &#125; return foo();&#125; è¿™æ ·è¿›å…¥æ¯ä¸ªåˆ†æ”¯åŽéƒ½ä¼šå¯¹fooè¿›è¡Œèµ‹å€¼ï¼Œè¦†ç›–äº†ä¹‹å‰çš„å‡½æ•°ï¼Œä¹‹åŽæ¯æ¬¡è°ƒç”¨fooå°±ä¸ä¼šå†æ‰§è¡Œifåˆ¤æ–­ åœ¨å£°æ˜Žå‡½æ•°æ—¶å°±æŒ‡å®šé€‚å½“çš„å‡½æ•°1234567891011var foo = (function foo()&#123; if(a != b)&#123; return function()&#123; console.log('aaa') &#125; &#125;else&#123; return function()&#123; console.log('bbb') &#125; &#125;&#125;)(); è¿™é‡Œåˆ›å»ºä¸€ä¸ªåŒ¿åï¼Œè‡ªæ‰§è¡Œçš„å‡½æ•°ï¼Œç”¨æ¥ç¡®å®šåº”è¯¥ä½¿ç”¨å“ªä¸€ä¸ªå‡½æ•°æ¥å®žçŽ°ã€‚ æƒ°æ€§å‡½æ•°çš„ä¼˜ç‚¹å°±æ˜¯åªåœ¨ç¬¬ä¸€æ¬¡æ‰§è¡Œåˆ†æ”¯æ—¶ç‰ºç‰²ä¸€ç‚¹ç‚¹æ€§èƒ½ å‡½æ•°ç»‘å®šè¯·ä½¿ç”¨fun.bind(thisArg[, arg1[, arg2[, ...]]]) thisArg å½“ç»‘å®šå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œè¯¥å‚æ•°ä¼šä½œä¸ºåŽŸå‡½æ•°è¿è¡Œæ—¶çš„ this æŒ‡å‘ã€‚å½“ä½¿ç”¨new æ“ä½œç¬¦è°ƒç”¨ç»‘å®šå‡½æ•°æ—¶ï¼Œè¯¥å‚æ•°æ— æ•ˆ arg1,arg2,â€¦ å½“ç»‘å®šå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œè¿™äº›å‚æ•°å°†ç½®äºŽå®žå‚ä¹‹å‰ä¼ é€’ç»™è¢«ç»‘å®šçš„æ–¹æ³• è¿”å›ž ç”±æŒ‡å®šçš„thiså€¼å’Œåˆå§‹åŒ–å‚æ•°æ”¹é€ çš„åŽŸå‡½æ•°æ‹·è´ ä¸€ä¸ªä¾‹å­ 123456789let person = &#123; name: 'addone', click: function(e)&#123; console.log(this.name) &#125;&#125;let btn = document.getElementById('btn');EventUtil.addHandle(btn, 'click', person.click); è¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ªpersonå¯¹è±¡ï¼Œç„¶åŽå°†person.clickæ–¹æ³•åˆ†é…ç»™DOMæŒ‰é’®çš„äº‹ä»¶å¤„ç†ç¨‹åºï¼Œå½“ä½ ç‚¹å‡»æŒ‰æŒ‰é’®æ—¶ï¼Œä¼šæ‰“å°å‡ºundefiendï¼ŒåŽŸå› æ˜¯æ‰§è¡Œæ—¶thisæŒ‡å‘äº†DOMæŒ‰é’®è€Œä¸æ˜¯person è§£å†³æ–¹æ¡ˆï¼š å°†thiså¼ºè¡ŒæŒ‡å‘person 1EventUtil.addHandle(btn, 'click', person.click.bind(person)); å‡½æ•°æŸ¯é‡ŒåŒ–å‡½æ•°æŸ¯é‡ŒåŒ–æ˜¯æŠŠæŽ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°è½¬å˜æˆæŽ¥å—å•ä¸€å‚æ•°çš„å‡½æ•° 12345678function add(num1, num2)&#123; return num1 + num2;&#125;function curryAdd(num2)&#123; return add(1, num2);&#125;add(2, 3) // 5curryAdd(2) // 3 è¿™ä¸ªä¾‹å­ç”¨æ¥æ–¹ä¾¿ç†è§£æŸ¯é‡ŒåŒ–çš„æ¦‚å¿µ ä¸‹é¢æ˜¯åˆ›å»ºå‡½æ•°æŸ¯é‡ŒåŒ–çš„é€šç”¨æ–¹å¼ 12345678function curry(fn)&#123; var args = Array.prototype.slice.call(arguments, 1); return function()&#123; let innerArgs = Array.prototype.slice.call(arguments); let finalArgs = args.concat(innerArgs); return fn.apply(null, finalArgs); &#125;&#125; ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦è¿›è¡ŒæŸ¯é‡ŒåŒ–çš„å‡½æ•°ï¼Œå…¶ä»–å‚æ•°æ˜¯è¦ä¼ å…¥çš„å€¼ã€‚è¿™é‡Œä½¿ç”¨Array.prototype.slice.call(arguments, 1)æ¥èŽ·å–ç¬¬ä¸€ä¸ªå‚æ•°åŽçš„æ‰€æœ‰å‚æ•°(å¤–éƒ¨)ã€‚åœ¨è¿”å›žçš„å‡½æ•°ä¸­ï¼ŒåŒæ ·è°ƒç”¨Array.prototype.slice.call(arguments)è®©innerArgsæ¥å­˜æ”¾æ‰€æœ‰çš„å‚æ•°(å†…éƒ¨)ï¼Œç„¶åŽç”¨concatå°†å†…éƒ¨å¤–éƒ¨å‚æ•°ç»„åˆï¼Œç”¨applyä¼ é€’ç»™å‡½æ•° 12345678function add(num1, num2)&#123; return num1 + num2;&#125;let curryAdd1 = curry(add, 1);curryAdd1(2); // 3let curryAdd2 = curry(add, 1, 2);curryAdd2(); // 3 é˜²ç¯¡æ”¹å¯¹è±¡Javascriptä¸­ä»»ä½•å¯¹è±¡éƒ½å¯ä»¥è¢«åŒä¸€çŽ¯å¢ƒä¸­è¿è¡Œçš„ä»£ç ä¿®æ”¹ï¼Œæ‰€ä»¥å¼€å‘äººå‘˜æœ‰æ—¶å€™éœ€è¦å®šä¹‰é˜²ç¯¡æ”¹å¯¹è±¡ï¼ˆtamper-proof object) æ¥ä¿æŠ¤è‡ªå·± ä¸å¯æ‰©å±•å¯¹è±¡é»˜è®¤æƒ…å†µä¸‹æ‰€æœ‰å¯¹è±¡éƒ½æ˜¯å¯ä»¥æ‰©å±•çš„(æ·»åŠ å±žæ€§å’Œæ–¹æ³•) 12let person = &#123; name: 'addone' &#125;;person.age = 20; ç¬¬äºŒè¡Œä¸ºpersonå¯¹è±¡æ‰©å±•äº†ageå±žæ€§ï¼Œå½“ç„¶ä½ å¯ä»¥é˜»æ­¢è¿™ä¸€è¡Œä¸ºï¼Œä½¿ç”¨Object.preventExtensions() 12345let person = &#123; name: 'addone' &#125;;Object.preventExtensions(person);person.age = 20;person.age // undefined ä½ è¿˜å¯ä»¥ç”¨Object.isExtensible()æ¥åˆ¤æ–­å¯¹è±¡æ˜¯ä¸æ˜¯å¯æ‰©å±•çš„ 12345let person = &#123; name: 'addone' &#125;;Object.isExtensible(person); // trueObject.preventExtensions(person);Object.isExtensible(person); // false è¯·è®°ä½è¿™æ˜¯ä¸å¯æ‰©å±•!!ï¼Œå³ä¸èƒ½æ·»åŠ å±žæ€§æˆ–æ–¹æ³• å¯†å°çš„å¯¹è±¡å¯†å°å¯¹è±¡ä¸å¯æ‰©å±•ï¼Œä¸”ä¸èƒ½åˆ é™¤å±žæ€§å’Œæ–¹æ³• 12345678let person = &#123; name: 'addone' &#125;;Object.seal(person);person.age = 20;delete person.name;person.age // undefinedperson.name // addone ç›¸å¯¹çš„ä¹Ÿæœ‰Object.isSealed()æ¥åˆ¤æ–­æ˜¯å¦å¯†å° 1234567let person = &#123; name: 'addone' &#125;;Object.isExtensible(person); // trueObject.isSealed(person); // falseObject.seal(person);Object.isExtensible(person); // falseObject.isSealed(person); // true å†»ç»“çš„å¯¹è±¡è¿™æ˜¯æœ€ä¸¥æ ¼çš„é˜²ç¯¡æ”¹çº§åˆ«ï¼Œå†»ç»“çš„å¯¹è±¡å³ä¸å¯æ‰©å±•ï¼Œåˆå¯†å°ï¼Œä¸”ä¸èƒ½ä¿®æ”¹ 123456789let person = &#123; name: 'addone' &#125;;Object.freeze(person);person.age = 20;delete person.name;person.name = 'addtwo'person.age // undefinedperson.name // addone åŒæ ·ä¹Ÿæœ‰Object.isFrozenæ¥æ£€æµ‹ 123456789let person = &#123; name: 'addone' &#125;;Object.isExtensible(person); // trueObject.isSealed(person); // falseObject.isFrozen(person); // falseObject.freeze(person);Object.isExtensible(person); // falseObject.isSealed(person); // trueObject.isFrozen(person); // true ä»¥ä¸Šä¸‰ç§æ–¹æ³•åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹è¿›è¡Œé”™è¯¯æ“ä½œå‡ä¼šå¯¼è‡´æŠ›å‡ºé”™è¯¯ é«˜çº§å®šæ—¶å™¨é˜…è¯»å‰æ å¤§æ¦‚ç†è§£setTimeoutçš„åŸºæœ¬æ‰§è¡Œæœºåˆ¶å’Œjsäº‹ä»¶æœºåˆ¶ é‡å¤çš„å®šæ—¶å™¨å½“ä½ ä½¿ç”¨setIntervalé‡å¤å®šä¹‰å¤šä¸ªå®šæ—¶å™¨çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå‡ºçŽ°æŸä¸ªå®šæ—¶å™¨ä»£ç åœ¨ä»£ç å†æ¬¡è¢«æ·»åŠ åˆ°æ‰§è¡Œé˜Ÿåˆ—ä¹‹å‰è¿˜æ²¡æœ‰å®Œæˆæ‰§è¡Œï¼Œå¯¼è‡´å®šæ—¶å™¨ä»£ç è¿žç»­æ‰§è¡Œå¤šæ¬¡ã€‚ æœºæ™ºJavascriptå¼•æ“Žè§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œä½¿ç”¨setInterval()çš„æ—¶å€™ï¼Œä»…å½“æ²¡æœ‰è¯¥å®šæ—¶å™¨çš„å…¶ä»–ä»£ç å®žä¾‹æ—¶ï¼Œæ‰ä¼šå°†å®šæ—¶å™¨ä»£ç æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­ã€‚ä½†è¿™è¿˜ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜: æŸäº›é—´éš”è¢«è·³è¿‡ é—´éš”å¯èƒ½æ¯”é¢„æœŸçš„å° ä¸ºäº†é¿å…è¿™ä¸ªä¸¤ä¸ªé—®é¢˜ï¼Œä½ å¯ä»¥ä½¿ç”¨é“¾å¼setTimeout()è°ƒç”¨ 12345setTimeout(function()&#123; TODO(); setTimeout(arguments.callee, interval);&#125;, interval) arguments.calleeèŽ·å–äº†å½“å‰æ‰§è¡Œå‡½æ•°çš„å¼•ç”¨ï¼Œç„¶åŽä¸ºå…¶è®¾ç½®å¦å¤–ä¸€ä¸ªå®šæ—¶å™¨ï¼Œè¿™æ ·å°±ç¡®ä¿åœ¨ä¸‹ä¸€æ¬¡å®šæ—¶å™¨ä»£ç æ‰§è¡Œå‰ï¼Œå¿…é¡»ç­‰å¾…æŒ‡å®šçš„é—´éš”ã€‚ Yielding Processesæµè§ˆå™¨å¯¹é•¿æ—¶é—´è¿è¡Œçš„è„šæœ¬è¿›è¡Œäº†åˆ¶çº¦ï¼Œå¦‚æžœä»£ç è¿è¡Œè¶…è¿‡ç‰¹å®šçš„æ—¶é—´æˆ–è€…ç‰¹å®šè¯­å¥æ•°é‡å°±ä¸ä¼šç»§ç»­æ‰§è¡Œã€‚ å¦‚æžœä½ å‘çŽ°æŸä¸ªå¾ªçŽ¯å ç”¨äº†å¤§é‡çš„æ—¶é—´ï¼Œé‚£ä¹ˆå¯¹äºŽä¸‹é¢è¿™ä¸¤ä¸ªé—®é¢˜ è¯¥å¤„ç†æ˜¯å¦å¿…é¡»åŒæ­¥å®Œæˆ? æ•°æ®æ˜¯å¦å¿…é¡»æŒ‰é¡ºåºå®Œæˆ? å¦‚æžœä½ çš„ä¸¤ä¸ªç­”æ¡ˆéƒ½æ˜¯â€å¦â€ï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨ä¸€ç§å«åšæ•°ç»„åˆ†å—(array chunking) çš„æŠ€æœ¯ã€‚åŸºæœ¬æ€è·¯æ˜¯ä¸ºè¦å¤„ç†çš„é¡¹ç›®åˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—ï¼Œç„¶åŽä½¿ç”¨å®šæ—¶å™¨å–å‡ºä¸‹ä¸€ä¸ªè¦å‡ºå¤„ç†çš„é¡¹ç›®è¿›è¡Œå¤„ç†ï¼Œç„¶åŽå†è®¾ç½®å¦ä¸€ä¸ªå®šæ—¶å™¨ã€‚ 1234567891011function chunk(array, process, context)&#123; setTimeout(function()&#123; // å–å‡ºä¸‹ä¸€ä¸ªé¡¹ç›®è¿›è¡Œå¤„ç† let item = array.shift(); process.call(item); if(array.length &gt; 0)&#123; setTimeout(arguments.callee, 100); &#125; &#125;, 100)&#125; è¿™é‡ŒæŽ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œè¦å¤„ç†çš„æ•°ç»„ï¼Œå¤„ç†çš„å‡½æ•°ï¼Œè¿è¡Œè¯¥å‡½æ•°çš„çŽ¯å¢ƒ(å¯é€‰)ï¼Œè¿™é‡Œè®¾ç½®é—´éš”100msæ˜¯ä¸ªæ•ˆæžœä¸é”™çš„é€‰æ‹© å¦‚æžœä½ ä¸€ä¸ªå‡½æ•°éœ€è¦50msä»¥ä¸Šæ—¶é—´å®Œæˆï¼Œé‚£ä¹ˆæœ€å¥½çœ‹çœ‹èƒ½å¦å°†ä»»åŠ¡åˆ†å‰²æˆä¸€ç³»åˆ—å¯ä»¥ä½¿ç”¨å®šæ—¶å™¨çš„å°ä»»åŠ¡ å‡½æ•°èŠ‚æµ(Throttle)èŠ‚æµçš„ç›®çš„æ˜¯é˜²æ­¢æŸäº›æ“ä½œæ‰§è¡Œçš„å¤ªå¿«ã€‚æ¯”å¦‚åœ¨è°ƒæ•´æµè§ˆå™¨å¤§å°çš„æ—¶å€™ä¼šå‡ºå‘onresizeäº‹ä»¶ï¼Œå¦‚æžœåœ¨å…¶å†…éƒ¨è¿›è¡Œä¸€äº›DOMæ“ä½œï¼Œè¿™ç§é«˜é¢‘çŽ‡çš„æ›´çˆ±å¯èƒ½ä¼šä½¿æµè§ˆå™¨å´©æºƒã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œå¯ä»¥é‡‡å–å‡½æ•°èŠ‚æµçš„æ–¹å¼ã€‚ 123456function throttle(method, context)&#123; clearTimeout(method.tId); method.tId = setTimeout(function()&#123; method.call(context); &#125;, 100)&#125; è¿™é‡ŒæŽ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œè¦æ‰§è¡Œçš„å‡½æ•°ï¼Œæ‰§è¡Œçš„çŽ¯å¢ƒã€‚æ‰§è¡Œæ—¶å…ˆæ¸…é™¤ä¹‹å‰çš„å®šæ—¶å™¨ï¼Œç„¶åŽå°†å½“å‰å®šæ—¶å™¨èµ‹å€¼ç»™æ–¹æ³•çš„tIdï¼Œä¹‹åŽè°ƒç”¨callæ¥ç¡®å®šå‡½æ•°çš„æ‰§è¡ŒçŽ¯å¢ƒã€‚ ä¸€ä¸ªåº”ç”¨çš„ä¾‹å­12345678function resizeDiv()&#123; let div = document.getElementById('div'); div.style.height = div.offsetWidth + "px";&#125;window.onresize = function()&#123; throttle(resizeDiv);&#125; è¿™ä¸ªå°±ä¸ç”¨è®²äº†å§2333 æ–‡ç« å‚è€ƒäºŽã€ŠJavaScripté«˜çº§ç¨‹åºè®¾è®¡(ç¬¬ä¸‰ç‰ˆ)ã€‹ å¦‚æžœä½ è§‰å¾—æˆ‘çš„ç†è§£æœ‰é—®é¢˜æˆ–è€…æ•´ç†çš„å¤ªç®€ç•¥ï¼Œé‚£ä¹ˆæˆ‘å¼ºçƒˆå®‰åˆ©ä½ è‡ªå·±åŽ»è¯»ä¸€ä¸‹è¿™æœ¬ä¹¦~]]></content>
      <categories>
        <category>Javascript</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>Javascript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‰ç«¯å¼€å‘è€…å¦‚ä½•å¿«é€Ÿçš„æŠŠUIæ’¸å‡ºæ¥?(è®½åˆºç‰ˆ)]]></title>
    <url>%2F2018%2F05%2F06%2F%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E8%80%85%E5%A6%82%E4%BD%95%E5%BF%AB%E9%80%9F%E7%9A%84%E6%8A%8AUI%E6%92%B8%E5%87%BA%E6%9D%A5-%E8%AE%BD%E5%88%BA%E7%89%88%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯æœ¬æ–‡ä¸ä½¿ç”¨ä»»ä½•æ¡†æž¶ ä¸è€ƒè™‘ä»»ä½•æµè§ˆå™¨å…¼å®¹æ€§ ä¸æŽ¥å—åé©³ å‰æä½ éœ€è¦äº†è§£å„ç§åŸºæœ¬çš„å¸ƒå±€å±žæ€§ï¼Œä¸è¦æ±‚ä½ æŽŒæ¡ï¼Œä½†æ˜¯ä½ è‡³å°‘è¦çŸ¥é“åå­—å’Œå¤§æ¦‚ç”¨æ³• æ€æƒ³â€œå…ˆæ˜“åŽéš¾â€ï¼Œâ€ç®¡ä»–ä¸‰ä¸ƒäºŒåä¸€â€ï¼Œâ€æŠ±æ­‰ï¼Œæœ‰æœç´¢å¼•æ“Žå°±æ˜¯å¯ä»¥ä¸ºæ‰€æ¬²ä¸ºâ€ï¼Œâ€ä½ ä»¬åŽç«¯æŽ¥å£éƒ½è¦æŒ‰æˆ‘çš„å‰ç«¯æ¥å†™â€ï¼Œâ€æŠŠç”Ÿç±³ç…®æˆç†Ÿé¥­â€ ä¾‹å­ ä¸€ä¸ªååˆ†åŸºç¡€çš„ç»“æž„ï¼Œå¾ˆå¤šè€é¸Ÿä¸€çœ‹å°±æœ‰äº†è‡ªå·±çš„å®žçŽ°æ–¹æ¡ˆï¼Œä½†æ˜¯å¯èƒ½å¾ˆå¤šæ–°äººçœ‹äº†å‡ çœ¼åŽå°±å¼€å§‹æŠ±æ€¨:â€woc,è¿™ä¸ªä¸œè¥¿æ€Žä¹ˆæ”¾åœ¨ä¸­é—´å•Š?â€,â€è¯¶..ä¸ºä»€ä¹ˆé‚£ä¸ªæ–‡å­—å¯ä»¥åŽ»æœ€å³è¾¹?â€,â€è€å“¥ä½ è¿™ä¸ªé˜´å½±æœ‰ç‚¹è¿‡åˆ†äº†â€,â€ä½ è¿™å›¾ç‰‡ä¸Šå“ªæ‰¾çš„å•Š??â€ è¯·ä½¿ç”¨â€å…ˆæ˜“åŽéš¾â€ æˆ‘ç›¸ä¿¡é•¿äº†çœ¼ç›çš„äººä¸€å®šèƒ½åˆ†è¾¨å‡ºè¿™é‡Œå¯ä»¥åˆ’åˆ†æˆ4å—ç»“æž„ ç„¶åŽâ€ä¸ç®¡ä¸‰ä¸ƒäºŒåä¸€â€æŠŠè¿™åŸºæœ¬ç»“æž„å†™å‡ºæ¥ 123456&lt;div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt;&lt;/div&gt; ä½†æ˜¯å¯¹äºŽå†…éƒ¨å…ƒç´ çš„å…·ä½“å¸ƒå±€è¯¥å¦‚ä½•å®žçŽ°å‘¢ï¼Ÿ(è®²é“ç†å¤§ä½¬å¯ä»¥è·³è¿‡è¿™ä¸€æ­¥) â€œæŠ±æ­‰ï¼Œæœ‰æœç´¢å¼•æ“Žå°±æ˜¯å¯ä»¥ä¸ºæ‰€æ¬²ä¸ºâ€ å½“ä½ åŠŸæˆåå°±åŽåˆ«å¿˜äº†å’Œä½ çš„åŽç«¯å°ä¼™ä¼´è¯´ä¸€å£° â€œä½ ä»¬åŽç«¯æŽ¥å£éƒ½è¦æŒ‰æˆ‘çš„å‰ç«¯æ¥å†™â€ å½“ç„¶è¿™ä¸ªæ€æƒ³è¿˜æœ‰å‡çº§ç‰ˆ â€œæŠ±æ­‰ï¼Œå…¨æ ˆå·¥ç¨‹å¸ˆå°±æ˜¯å¯ä»¥ä¸ºæ‰€æ¬²ä¸ºâ€ ç„¶åŽä½ å°±å¯ä»¥å…³é—­ä½ çš„æ‰€æœ‰é€šè®¯è®¾å¤‡ â€œæŠŠç”Ÿç±³ç…®æˆç†Ÿé¥­â€ ç†Ÿèƒ½ç”Ÿå·§!! æ¬¢è¿Žåˆ†äº«ç»™ä½ å‘¨å›´å­¦å‰ç«¯çš„æ–°äºº å…¨æ–‡ç»“æŸ]]></content>
      <categories>
        <category>é˜…è¯»</category>
      </categories>
      <tags>
        <tag>é˜…è¯»</tag>
        <tag>å‰ç«¯</tag>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»Žâ€œé›¶â€å¼€å§‹ ï¼šSpring MVC]]></title>
    <url>%2F2018%2F05%2F06%2F%E4%BB%8E%E2%80%9C%E9%9B%B6%E2%80%9D%E5%BC%80%E5%A7%8B-%EF%BC%9ASpring-MVC%2F</url>
    <content type="text"><![CDATA[è¯¥ç³»åˆ—åšå®¢ç”±æˆ‘çš„åŒå­¦æ±¤èŒ‚è¡Œç‹¬ç«‹å®Œæˆï¼Œä»…åœ¨è¿™é‡Œæä¾›é“¾æŽ¥ï¼Œæ¬¢è¿Žè®¿é—®åšå®¢åœ°å€]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ </tag>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ICS2017 Programming Assignment 2.2-2.3]]></title>
    <url>%2F2018%2F05%2F06%2FICS2017-Programming-Assignment-2-2-2-3%2F</url>
    <content type="text"><![CDATA[PA2.2 ç¨‹åºï¼Œè¿è¡Œæ—¶çš„çŽ¯å¢ƒä¸ŽAMè¿è¡Œæ›´å¤šçš„ç¨‹åºè®©é¡¹ç›®é»˜è®¤ç¼–è¯‘åˆ°x86-nemuä¸­çš„AMä¸­1234// nexus-am/Makefile.checkARCH ?= x86-nemuARCHS = $(shell ls $(AM_HOME)/am/arch/) ç„¶åŽåœ¨nexus-am/tests/cputestä¸­æ‰§è¡Œ 1make ALL=xxx run xxxä¸ºç¨‹åºå(æ— .cåŽç¼€) å®žçŽ°æ›´å¤šçš„æŒ‡ä»¤åœ¨å®Œæˆæ›´å¤šæŒ‡ä»¤ä¹‹å‰æˆ‘ä»¬è¦å…ˆå®Œæˆrtl.hä¸­çš„è¾…åŠ©å‡½æ•° 1234567#define make_rtl_setget_eflags(f) \ static inline void concat(rtl_set_, f) (const rtlreg_t* src) &#123; \ cpu.eflags.f = *src; \ &#125; \ static inline void concat(rtl_get_, f) (rtlreg_t* dest) &#123; \ *dest = cpu.eflags.f; \ &#125; æ ¹æ®æç¤ºç®€å•çš„å®Œæˆæ ‡å¿—ä½èµ‹å€¼ 1234static inline void rtl_not(rtlreg_t* dest) &#123; // dest &lt;- ~dest rtl_li(dest,~(*dest));&#125; å–å 12345static inline void rtl_update_ZF(const rtlreg_t* result, int width) &#123; // eflags.ZF &lt;- is_zero(result[width * 8 - 1 .. 0]) assert (width == 4 || width == 2 || width == 1); cpu.eflags.ZF = (*result &amp; ~(0xffffffff &lt;&lt; (8 * width - 1) &lt;&lt; 1)) == 0;&#125; æ ¹æ®æç¤ºæ›´æ–°ZFä½ï¼ŒåŒæ—¶åˆ¤æ–­é•¿åº¦width 12345static inline void rtl_update_SF(const rtlreg_t* result, int width) &#123; // eflags.SF &lt;- is_sign(result[width * 8 - 1 .. 0]) assert (width == 4 || width == 2 || width == 1); cpu.eflags.SF = (*result &gt;&gt; (8 * width - 1)) &amp; 0x1;&#125; æ ¹æ®æç¤ºæ›´æ–°SFä½ï¼ŒåŒæ—¶åˆ¤æ–­é•¿åº¦width å®ŒæˆæŒ‡ä»¤ä¸»è¦ä»»åŠ¡æ˜¯å®Œæˆnemu/src/cpu/exec/ä¸‹æ¯ä¸ªæ–‡ä»¶çš„TODOï¼Œå…ˆåœ¨è¯¥ç›®å½•ä¸‹æ‰§è¡Œlsçœ‹ä¸€ä¸‹æ–‡ä»¶ 1all-instr.h arith.c cc.c control.c data-mov.c exec.c logic.c prefix.c special.c system.c æŽ¥ä¸‹æ¥æˆ‘ä»¬æŒ‰lså±•ç¤ºçš„æ–‡ä»¶é¡ºåºè¿›è¡Œåˆ†æž all-instr.hall-instr.hä¸ºä½ å†™çš„å‡½æ•°å®šä¹‰çš„æ–‡ä»¶ï¼Œå…ˆçœ‹çœ‹åœ¨æ–‡ä»¶å®ŒæˆåŽå®šä¹‰çš„å…¨éƒ¨æŒ‡ä»¤ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354include "cpu/exec.h"make_EHelper(mov);make_EHelper(operand_size);make_EHelper(cltd);make_EHelper(cwtl);make_EHelper(idiv);make_EHelper(div);make_EHelper(sbb);make_EHelper(dec);make_EHelper(shl);make_EHelper(sar);make_EHelper(or);make_EHelper(adc);make_EHelper(dec);make_EHelper(mul);make_EHelper(imul);make_EHelper(imul1);make_EHelper(imul2);make_EHelper(jmp_rm);make_EHelper(jmp);make_EHelper(inc);make_EHelper(leave);make_EHelper(cltd);make_EHelper(jcc);make_EHelper(test);make_EHelper(movzx);make_EHelper(movsx);make_EHelper(setcc);make_EHelper(nop);make_EHelper(xchg);make_EHelper(and);make_EHelper(leave);make_EHelper(cltd);make_EHelper(dec);make_EHelper(cmp);make_EHelper(neg);make_EHelper(not);make_EHelper(or);make_EHelper(shr);make_EHelper(sar);make_EHelper(lea);make_EHelper(add);make_EHelper(inv);make_EHelper(nemu_trap);make_EHelper(call);make_EHelper(call_rm);make_EHelper(push);make_EHelper(sub);make_EHelper(pop);make_EHelper(xor);make_EHelper(ret); arith.cAdd1234567891011121314151617make_EHelper(add) &#123; rtl_add(&amp;t2, &amp;id_dest-&gt;val, &amp;id_src-&gt;val); operand_write(id_dest, &amp;t2); rtl_update_ZFSF(&amp;t2, id_dest-&gt;width); rtl_sltu(&amp;t0, &amp;t2, &amp;id_dest-&gt;val); rtl_set_CF(&amp;t0); rtl_xor(&amp;t0, &amp;id_dest-&gt;val, &amp;id_src-&gt;val); rtl_not(&amp;t0); rtl_xor(&amp;t1, &amp;id_dest-&gt;val, &amp;t2); rtl_and(&amp;t0, &amp;t0, &amp;t1); rtl_msb(&amp;t0, &amp;t0, id_dest-&gt;width); rtl_set_OF(&amp;t0); print_asm_template2(add);&#125; æŸ¥çœ‹i386æ‰‹å†Œï¼ŒADDæ‰§è¡Œä¸¤ä¸ªæ“ä½œæ•°ï¼ˆDESTå’ŒSRCï¼‰çš„æ•´æ•°ç›¸åŠ ã€‚ åŠ æ³•ç»“æžœè¢«åˆ†é…ç»™ç¬¬ä¸€ä¸ªæ“ä½œæ•°ï¼ˆDESTï¼‰ï¼Œå¹¶ç›¸åº”åœ°è®¾ç½®æ ‡å¿—ä½ï¼Œå½“ç«‹å³å­—èŠ‚è¢«æ·»åŠ åˆ°å­—æˆ–åŒå­—æ“ä½œæ•°æ—¶ï¼Œç«‹å³å€¼è¢«ç¬¦å·æ‰©å±•ä¸ºå­—æˆ–åŒå­—çš„å¤§å°çš„æ“ä½œæ•°ï¼Œå‘çŽ°å…¶ä¸ŽAdcç›¸ä¼¼ï¼Œåªéœ€ä¿®æ”¹éƒ¨åˆ†å³å¯ï¼Œç„¶åŽå¡«å…¥opcode tableä¸­ 12345make_group(gp1, EX(add),..../* 0x00 */ IDEXW(G2E, add, 1), IDEX(G2E, add), IDEXW(E2G, add, 1), IDEX(E2G, add),/* 0x04 */ IDEXW(I2a, add, 1), IDEX(I2a, add), EMPTY, EMPTY, è¯‘ç å‡½æ•°æŸ¥è¯¢decode.c,åŒæ—¶å¯¹ç…§i386æ‰‹å†Œå¡«å†™å³å¯ï¼Œä»¥ä¸‹ä¸åœ¨èµ˜è¿° Sub1234567891011121314151617make_EHelper(sub) &#123; rtl_sub(&amp;t2, &amp;id_dest-&gt;val, &amp;id_src-&gt;val); operand_write(id_dest, &amp;t2); rtl_update_ZFSF(&amp;t2, id_dest-&gt;width); rtl_sltu(&amp;t0, &amp;id_dest-&gt;val, &amp;t2); rtl_set_CF(&amp;t0); rtl_xor(&amp;t0, &amp;id_dest-&gt;val, &amp;id_src-&gt;val); rtl_xor(&amp;t1, &amp;id_dest-&gt;val, &amp;t2); rtl_and(&amp;t0, &amp;t0, &amp;t1); rtl_msb(&amp;t0, &amp;t0, id_dest-&gt;width); rtl_set_OF(&amp;t0); print_asm_template2(sub);&#125; SUBä»Žç¬¬ä¸€ä¸ªæ“ä½œæ•°ï¼ˆDESTï¼‰ä¸­å‡åŽ»ç¬¬äºŒä¸ªæ“ä½œæ•°ï¼ˆSRCï¼‰ã€‚ ç¬¬ä¸€ä¸ªæ“ä½œæ•°åˆ†é…äº†ç›¸å‡çš„ç»“æžœï¼Œå¹¶ç›¸åº”åœ°è®¾ç½®æ ‡å¿—ã€‚å½“ä»Žå­—æ“ä½œæ•°ä¸­å‡åŽ»ä¸€ä¸ªç«‹å³å­—èŠ‚å€¼æ—¶ï¼Œç«‹å³å€¼é¦–å…ˆè¢«ç¬¦å·æ‰©å±•ä¸ºç›®æ ‡æ“ä½œæ•°çš„å¤§å°ã€‚æ ¹æ®AddæŒ‡ä»¤ç›¸åçš„å†™Subå³å¯ï¼Œä¹Ÿå¯ä»¥å‚è€ƒSbbæŒ‡ä»¤ 12/* 0x28 */ IDEXW(G2E, sub, 1), IDEX(G2E, sub), IDEXW(E2G, sub, 1), IDEX(E2G, sub),/* 0x2c */ IDEXW(I2a, sub, 1), IDEX(I2a, sub), EMPTY, EMPTY, Cmp12345678910111213141516make_EHelper(cmp) &#123; rtl_sub(&amp;t0, &amp;id_dest-&gt;val, &amp;id_src-&gt;val); rtl_update_ZFSF(&amp;t0, id_dest-&gt;width); rtl_sltu(&amp;t1, &amp;id_dest-&gt;val, &amp;id_src-&gt;val); rtl_set_CF(&amp;t1); rtl_xor(&amp;t0, &amp;id_dest-&gt;val, &amp;t0); rtl_xor(&amp;t1, &amp;id_dest-&gt;val, &amp;id_src-&gt;val); rtl_and(&amp;t0, &amp;t1, &amp;t0); rtl_msb(&amp;t0, &amp;t0, id_dest-&gt;width); rtl_set_OF(&amp;t0); print_asm_template2(cmp);&#125; CmpæŒ‡ä»¤å¾ˆç®€å•ï¼Œä¸ŽSubååˆ†ç±»ä¼¼åªæ˜¯ä¸éœ€è¦å†™å›žï¼Œæ‰€ä»¥åªè¦æŠŠoperand_write(id_dest, &amp;)åŽ»æŽ‰å³å¯ 123456make_group(gp1, EX(add), EX(or), EX(adc), EX(sbb), EX(and), EX(sub), EX(xor), EX(cmp)ï¼‰/* 0x38 */ IDEXW(G2E, cmp, 1), IDEX(G2E, cmp), IDEXW(E2G, cmp, 1), IDEX(E2G, cmp),/* 0x3c */ IDEXW(I2a, cmp, 1), IDEX(I2a, cmp), EMPTY, EMPTY, Inc12345678910111213make_EHelper(inc) &#123; rtl_addi(&amp;t0, &amp;id_dest-&gt;val, 1); operand_write(id_dest, &amp;t0); rtl_update_ZFSF(&amp;t0, id_dest-&gt;width); rtl_eqi(&amp;t1, &amp;id_dest-&gt;val, 0xffffffff); rtl_set_CF(&amp;t1); rtl_slt(&amp;t1, &amp;t0, &amp;id_dest-&gt;val); rtl_set_OF(&amp;t1); print_asm_template1(inc);&#125; INCåœ¨æ“ä½œæ•°ä¸ŠåŠ 1ã€‚ å®ƒä¸ä¼šæ›´æ”¹è¿›ä½æ ‡å¿—ã€‚ è¦å½±å“è¿›ä½æ ‡å¿—ï¼Œè¯·ä½¿ç”¨ç¬¬äºŒä¸ªæ“ä½œæ•°ä¸º1çš„ADDæŒ‡ä»¤ã€‚è§£é‡Šå¾ˆæ˜Žç¡®ï¼Œä½¿ç”¨AddiæŒ‡ä»¤ï¼Œç„¶åŽæ›´æ–°æ ‡å¿—ä½å³å¯ 123456make_group(gp4, EX(inc), EX(dec), EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY)/* 0x40 */ IDEX(r, inc), IDEX(r, inc), IDEX(r, inc), IDEX(r, inc),/* 0x44 */ IDEX(r, inc), IDEX(r, inc), IDEX(r, inc), IDEX(r, inc), Dec1234567891011121314make_EHelper(dec) &#123; rtl_subi(&amp;t2, &amp;id_dest-&gt;val, 1); operand_write(id_dest, &amp;t2); rtl_update_ZFSF(&amp;t2, id_dest-&gt;width); rtl_xor(&amp;t0, &amp;id_dest-&gt;val, &amp;id_src-&gt;val); rtl_xor(&amp;t1, &amp;id_dest-&gt;val, &amp;t2); rtl_and(&amp;t0, &amp;t0, &amp;t1); rtl_msb(&amp;t0, &amp;t0, id_dest-&gt;width); rtl_set_OF(&amp;t0); print_asm_template1(dec);&#125; DECä»Žæ“ä½œæ•°ä¸­å‡åŽ»1ã€‚ DECä¸ä¼šæ›´æ”¹è¿›ä½æ ‡å¿—ã€‚ è¦å½±å“è¿›ä½æ ‡å¿—ï¼Œè¯·ä½¿ç”¨ç«‹å³æ“ä½œæ•°ä¸º1çš„SUBæŒ‡ä»¤ã€‚è¿™é‡Œå’Œä¸Šé¢çš„Incç±»ä¼¼ï¼Œä½¿ç”¨subiæŒ‡ä»¤ï¼Œç„¶åŽç…§ç€Incåç€å†™Decï¼Œæ›´æ–°æ ‡å¿—ä½å³å¯ 123456make_group(gp4, EX(inc), EX(dec), EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY)/* 0x48 */ IDEX(r, dec), IDEX(r, dec), IDEX(r, dec), IDEX(r, dec),/* 0x4c */ IDEX(r, dec), IDEX(r, dec), IDEX(r, dec), IDEX(r, dec), Neg1234567891011121314151617make_EHelper(neg) &#123; rtl_mv(&amp;t0, &amp;id_dest-&gt;val); rtl_not(&amp;t0); rtl_addi(&amp;t0, &amp;t0, 1); operand_write(id_dest, &amp;t0); rtl_eq0(&amp;t1, &amp;id_dest-&gt;val); rtl_set_CF(&amp;t1); rtl_update_ZFSF(&amp;t0, id_dest-&gt;width); rtl_xor(&amp;t1, &amp;t0, &amp;id_dest-&gt;val); rtl_not(&amp;t1); rtl_msb(&amp;t1, &amp;t1, id_dest-&gt;width); rtl_set_OF(&amp;t1); print_asm_template1(neg);&#125; Negç”¨å…¶äºŒè¿›åˆ¶è¡¥ç æ›¿ä»£å¯„å­˜å™¨æˆ–å­˜å‚¨å™¨æ“ä½œæ•°çš„å€¼ã€‚æ“ä½œæ•°ä»Žé›¶ä¸­å‡åŽ»ï¼Œç»“æžœæ”¾åœ¨æ“ä½œæ•°ä¸­ã€‚è¿›ä½æ ‡å¿—è¢«è®¾ç½®ä¸º1ï¼Œé™¤éžæ“ä½œæ•°ä¸ºé›¶ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿›ä½æ ‡å¿—è¢«æ¸…é™¤ä¸º0ã€‚æ ¹æ®æè¿°è°ƒç”¨ç›¸åº”çš„rtlå‡½æ•°å³å¯ 123make_group(gp3, IDEX(test_I, test), EMPTY, EX(not), EX(neg), EX(mul), EX(imul1), EX(div), EX(idiv)) control.cret12345make_EHelper(ret) &#123; rtl_pop(&amp;decoding.jmp_eip); decoding.is_jmp = 1; print_asm("ret");&#125; RETå°†æŽ§åˆ¶æƒè½¬äº¤ç»™ä½äºŽå †æ ˆä¸Šçš„è¿”å›žåœ°å€ã€‚åœ°å€é€šå¸¸ç”±CALLæŒ‡ä»¤æ”¾ç½®åœ¨å †æ ˆä¸Šï¼Œå¹¶è¿”å›žåˆ°CALLä¹‹åŽçš„æŒ‡ä»¤ã€‚ç®€å•æ¥è¯´å°±æ˜¯æŠŠjmp_eipæŽ¨å‡ºç„¶åŽè®¾ç½®è·³è½¬å³å¯ 1/* 0xc0 */ IDEXW(gp2_Ib2E, gp2, 1), IDEX(gp2_Ib2E, gp2), EMPTY, EX(ret), data-mov.cleave123456make_EHelper(leave) &#123; rtl_mv(&amp;cpu.esp, &amp;cpu.ebp); rtl_pop(&amp;cpu.ebp); print_asm("leave");&#125; LEAVEåè½¬ENTERæŒ‡ä»¤çš„åŠ¨ä½œã€‚é€šè¿‡å°†å¸§æŒ‡é’ˆå¤åˆ¶åˆ°å †æ ˆæŒ‡é’ˆï¼ŒLEAVEé‡Šæ”¾è¿‡ç¨‹ä¸ºå…¶å±€éƒ¨å˜é‡ä½¿ç”¨çš„å †æ ˆç©ºé—´ã€‚æ—§çš„å¸§æŒ‡é’ˆè¢«å¼¹å‡ºåˆ°BPæˆ–EBPä¸­ï¼Œæ¢å¤è°ƒç”¨è€…çš„å¸§ã€‚ éšåŽçš„RETæŒ‡ä»¤å°†åˆ é™¤æ‰€æœ‰æŽ¨é€åˆ°é€€å‡ºè¿‡ç¨‹å †æ ˆä¸Šçš„å‚æ•°ã€‚ç®€å•æ¥è¯´å°±æ˜¯å°†ebpèµ‹å€¼ç»™espç„¶åŽæŽ¨å‡ºebpï¼Œè°ƒç”¨rtlå‡½æ•°ç›´æŽ¥å®Œæˆ 1/* 0xc8 */ EMPTY, EX(leave), EMPTY, EMPTY, cltd123456789101112131415161718192021222324make_EHelper(cltd) &#123; if (decoding.is_operand_size_16) &#123; rtl_lr(&amp;t0, R_AX, 2); if ((int32_t)(int16_t)(uint16_t)t0 &lt; 0) &#123; rtl_addi(&amp;t1, &amp;tzero, 0xffff); rtl_sr(R_DX, 2, &amp;t1); &#125; else &#123; rtl_sr(R_DX, 2, &amp;tzero); &#125; &#125; else &#123; rtl_lr(&amp;t0, R_EAX, 4); if ((int32_t)t0 &lt; 0) &#123; rtl_addi(&amp;t1, &amp;tzero, 0xffffffff); rtl_sr(R_EDX, 4, &amp;t1); &#125; else &#123; rtl_sr(R_EDX, 4, &amp;tzero); &#125; &#125; print_asm(decoding.is_operand_size_16 ? "cwtl" : "cltd");&#125; CLDæ¸…é™¤æ–¹å‘æ ‡å¿—ã€‚ æ²¡æœ‰å…¶ä»–æ ‡å¿—æˆ–å¯„å­˜å™¨å—åˆ°å½±å“ã€‚ CLDæ‰§è¡ŒåŽï¼Œå­—ç¬¦ä¸²æ“ä½œä¼šå¢žåŠ å®ƒä»¬ä½¿ç”¨çš„ç´¢å¼•å¯„å­˜å™¨ï¼ˆSIå’Œ/æˆ–DI)ã€‚ 1/* 0x98 */ EX(cwtl), EX(cltd), EMPTY, EMPTY, logic.ctest1234567make_EHelper(test) &#123; rtl_and(&amp;t2, &amp;id_dest-&gt;val, &amp;id_src-&gt;val); rtl_set_CF(&amp;tzero); rtl_set_OF(&amp;tzero); rtl_update_ZFSF(&amp;t2,id_dest-&gt;width); print_asm_template2(test);&#125; TESTè®¡ç®—å…¶ä¸¤ä¸ªæ“ä½œæ•°çš„æŒ‰ä½é€»è¾‘â€œä¸Žâ€ã€‚å¦‚æžœä¸¤ä¸ªæ“ä½œæ•°çš„ç›¸åº”ä½éƒ½æ˜¯1ï¼Œç»“æžœä¸º1; å¦åˆ™ï¼Œæ¯ä¸€ä½éƒ½æ˜¯0.æ“ä½œçš„ç»“æžœè¢«ä¸¢å¼ƒï¼Œåªæœ‰æ ‡å¿—è¢«ä¿®æ”¹ã€‚æ‰€ä»¥å°†ä¸¤ä¸ªæ“ä½œæ•°andä¹‹åŽä»…è®¾ç½®æ ‡å¿—ä½å³å¯ 12345make_group(gp3, IDEX(test_I, test), EMPTY, EX(not), EX(neg), EX(mul), EX(imul1), EX(div), EX(idiv))/* 0x84 */ IDEXW(G2E, test ,1), IDEX(G2E, test), EMPTY, EMPTY, and12345678make_EHelper(and) &#123; rtl_and(&amp;t2, &amp;id_dest-&gt;val, &amp;id_src-&gt;val); operand_write(id_dest, &amp;t2); rtl_set_CF(&amp;tzero); rtl_set_OF(&amp;tzero); rtl_update_ZFSF(&amp;t2,id_dest-&gt;width); print_asm_template2(and);&#125; å¦‚æžœæ“ä½œæ•°çš„ä¸¤ä¸ªç›¸åº”ä½éƒ½æ˜¯1ï¼ŒANDæŒ‡ä»¤çš„ç»“æžœçš„æ¯ä¸€ä½éƒ½æ˜¯1; å¦åˆ™ï¼Œå®ƒå˜æˆ0ã€‚ä¸ŽTestç±»ä¼¼ï¼Œåªéœ€æ·»åŠ å°†ç»“æžœå†™å›žå³å¯ã€‚ 123456make_group(gp1, EX(add), EX(or), EX(adc), EX(sbb), EX(and), EX(sub), EX(xor), EX(cmp))/* 0x20 */ IDEXW(G2E, and, 1), IDEX(G2E, and), IDEXW(E2G, and, 1), IDEX(E2G, and),/* 0x24 */ IDEXW(I2a, and, 1), IDEX(I2a, and), EMPTY, EMPTY, or12345678make_EHelper(or) &#123; rtl_or(&amp;t2, &amp;id_dest-&gt;val, &amp;id_src-&gt;val); operand_write(id_dest, &amp;t2); rtl_set_CF(&amp;tzero); rtl_set_OF(&amp;tzero); rtl_update_ZFSF(&amp;id_dest-&gt;val,id_dest-&gt;width); print_asm_template2(xor);&#125; ORè®¡ç®—å…¶ä¸¤ä¸ªæ“ä½œæ•°çš„åŒ…å«ORï¼Œå¹¶å°†ç»“æžœæ”¾å…¥ç¬¬ä¸€ä¸ªæ“ä½œæ•°ä¸­ã€‚ å¦‚æžœæ“ä½œæ•°çš„ç›¸åº”ä½éƒ½æ˜¯0ï¼Œç»“æžœçš„æ¯ä¸€ä½éƒ½æ˜¯0; å¦åˆ™ï¼Œæ¯ä¸€ä½éƒ½æ˜¯1ã€‚ä¸ŽAndæŒ‡ä»¤ç›¸åŒï¼Œåªéœ€å°†rtl_andä¿®æ”¹ä¸ºrtl_orå³å¯ 12345make_group(gp1, EX(add), EX(or), EX(adc), EX(sbb), EX(and), EX(sub), EX(xor), EX(cmp))/* 0x08 */ IDEXW(G2E, or, 1), IDEX(G2E, or), IDEXW(E2G, or, 1), IDEX(E2G, or), sar12345678make_EHelper(sar) &#123; // unnecessary to update CF and OF in NEMU rtl_sar(&amp;t2, &amp;id_dest-&gt;val, &amp;id_src-&gt;val); operand_write(id_dest, &amp;t2); rtl_update_ZFSF(&amp;t2, id_dest-&gt;width); print_asm_template2(sar);&#125; SARå‘ä¸‹ç§»åŠ¨æ“ä½œæ•°çš„ä½ã€‚ä½Žé˜¶ä½ç§»å…¥è¿›ä½æ ‡å¿—ã€‚SARæ‰§è¡Œæœ‰ç¬¦å·çš„åˆ†å‰²ï¼Œå‘è´Ÿæ— ç©·å¤§èˆå…¥ï¼ˆä¸ŽIDIVä¸åŒ; é«˜ä½ä¿æŒä¸å˜ã€‚å…ˆåˆ¤æ–­æ“ä½œæ•°å®½åº¦è¿›è¡Œæ‰©å±•ï¼Œç„¶åŽè°ƒç”¨rtl_sarå‡½æ•°ï¼Œå°†ç»“æžœå†™å›žå¹¶æ›´æ–°ç¬¦å·ä½ã€‚ 12345678make_EHelper(shr) &#123; // unnecessary to update CF and OF in NEMU rtl_shr(&amp;t2, &amp;id_dest-&gt;val, &amp;id_src-&gt;val); operand_write(id_dest, &amp;t2); rtl_update_ZFSF(&amp;t2, id_dest-&gt;width); print_asm_template2(shr);&#125; SHRä¸ŽSARç±»ä¼¼,SHRæ‰§è¡Œæœªæ ‡è®°çš„åˆ’åˆ†; é«˜ä½è¢«è®¾ç½®ä¸º0ã€‚å†™æ³•ä¸ŽSarç±»ä¼¼ï¼Œè°ƒç”¨rtl_shrå‡½æ•°åŽå†™å›žï¼Œæ›´æ–°æ ‡å¿—ä½ 12345678make_EHelper(shl) &#123; // unnecessary to update CF and OF in NEMU rtl_shl(&amp;t2, &amp;id_dest-&gt;val, &amp;id_src-&gt;val); operand_write(id_dest, &amp;t2); rtl_update_ZFSF(&amp;t2, id_dest-&gt;width); print_asm_template2(shl);&#125; SAL(æˆ–å…¶åŒä¹‰è¯SHLï¼‰å‘ä¸Šç§»åŠ¨æ“ä½œæ•°çš„ä½ã€‚ é«˜ä½ç§»å…¥è¿›ä½æ ‡å¿—ï¼Œä½Žä½è®¾ä¸º0ã€‚ä¸Žä¸Šé¢ä¸¤ä¸ªæŒ‡ä»¤ç±»ä¼¼ï¼Œè°ƒç”¨rtl_shlå‡½æ•°ï¼Œå°†ç»“æžœå†™å›žï¼Œæ›´æ–°æ ‡å¿—ä½ ä»¥ä¸Šä¸‰ä¸ªå‡½æ•°æ ¹æ®æç¤ºä¸éœ€è¦æ›´æ–°CFå’ŒOFä½ 123make_group(gp2, EMPTY, EMPTY, EMPTY, EMPTY, EX(shl), EX(shr), EMPTY, EX(sar)) setcc1234567make_EHelper(setcc) &#123; uint8_t subcode = decoding.opcode &amp; 0xf; rtl_setcc(&amp;t2, subcode); operand_write(id_dest, &amp;t2); print_asm("set%s %s", get_cc_name(subcode), id_dest-&gt;str);&#125; åœ¨è¿™é‡Œå¯ä»¥çœ‹åˆ°è°ƒç”¨äº†rtl_setccï¼Œæˆ‘ä»¬è¦åŽ»cc.cæ–‡ä»¶ä¸­å¯¹æŒ‡ä»¤è¿›è¡Œè¡¥å…¨ cc.c12345678910111213141516171819202122232425262728293031switch (subcode &amp; 0xe) &#123; case CC_O: rtl_li(dest, cpu.eflags.OF); break; case CC_B: rtl_li(dest, cpu.eflags.CF); break; case CC_E: rtl_get_ZF(&amp;t0); rtl_eqi(dest, &amp;t0, 1); break; case CC_NE: rtl_get_ZF(&amp;t0); rtl_neq0(dest, &amp;t0); break; case CC_BE: rtl_li(dest, ((cpu.eflags.CF) || (cpu.eflags.ZF))); break; case CC_S: rtl_li(dest, cpu.eflags.SF); break; case CC_L: rtl_li(dest, (cpu.eflags.SF != cpu.eflags.OF)); break; case CC_LE:&#123; rtl_li(dest, ((cpu.eflags.ZF) || (cpu.eflags.SF != cpu.eflags.OF))); break; &#125; default: panic("should not reach here"); case CC_P: panic("n86 does not have PF");&#125; è¿™é‡Œæ ¹æ®i386è¡¥å…¨äº†éƒ¨åˆ†éœ€è¦ç”¨åˆ°çš„æŒ‡ä»¤: CC_O: å°†OFèµ‹å€¼ç»™æ“ä½œæ•° CC_B: å°†CFèµ‹å€¼ç»™æ“ä½œæ•° CC_E: èŽ·å–ZF, ç„¶åŽåˆ¤æ–­ZFæ˜¯å¦ä¸º1ï¼Œè‹¥æ˜¯åˆ™destä¸º1ï¼Œå¦åˆ™ä¸º0 CC_NE: èŽ·å–ZF, ç„¶åŽåˆ¤æ–­ZFæ˜¯å¦ä¸ç­‰äºŽ0ï¼Œè‹¥æ˜¯åˆ™destä¸º1ï¼Œå¦åˆ™ä¸º0 CC_BE: å°†CFå’ŒZFå–æˆ–åŽç»“æžœèµ‹å€¼ç»™dest CC_S: å°†SFèµ‹å€¼ç»™æ“ä½œæ•° CC_L: åˆ¤æ–­SFå’ŒOFæ˜¯å¦ç›¸ç­‰ï¼Œå°†ç»“æžœèµ‹å€¼ç»™dest CC_LE: å°†ZFå’ŒSFæ˜¯å¦ä¸ç­‰äºŽOFçš„ç»“æžœå–æˆ–ï¼Œç„¶åŽèµ‹å€¼ç»™dest æœ€åŽé™„ä¸Šå®Œæ•´çš„execæ–‡ä»¶ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160/* 0x80, 0x81, 0x83 */make_group(gp1, EX(add), EX(or), EX(adc), EX(sbb), EX(and), EX(sub), EX(xor), EX(cmp))/* 0xc0, 0xc1, 0xd0, 0xd1, 0xd2, 0xd3 */make_group(gp2, EX(rol), EMPTY, EMPTY, EMPTY, EX(shl), EX(shr), EMPTY, EX(sar))/* 0xf6, 0xf7 */make_group(gp3, IDEX(test_I, test), EMPTY, EX(not), EX(neg), EX(mul), EX(imul1), EX(div), EX(idiv))/* 0xfe */make_group(gp4, EX(inc), EX(dec), EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY)/* 0xff */make_group(gp5, EXW(inc, 2), EX(dec), EX(call_rm), EX(call), EX(jmp_rm), EMPTY, EX(push), EMPTY)/* 0x0f 0x01*/make_group(gp7, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY)opcode_entry opcode_table [512] = &#123; /* 0x00 */ IDEXW(G2E, add, 1), IDEX(G2E, add), IDEXW(E2G, add, 1), IDEX(E2G, add), /* 0x04 */ IDEXW(I2a, add, 1), IDEX(I2a, add), EMPTY, EMPTY, /* 0x08 */ IDEXW(G2E, or, 1), IDEX(G2E, or), IDEXW(E2G, or, 1), IDEX(E2G, or), /* 0x0c */ IDEXW(I2a, or, 1), IDEX(I2a, or), EMPTY, EX(2byte_esc), /* 0x10 */ IDEXW(G2E, adc, 1), IDEX(G2E, adc), IDEXW(E2G, adc, 1), IDEX(E2G, adc), /* 0x14 */ IDEXW(I2a, adc, 1), IDEX(I2a, adc), EMPTY, EMPTY, /* 0x18 */ IDEXW(G2E, sbb, 1), IDEX(G2E, sbb), IDEXW(E2G, sbb, 1), IDEX(E2G, sbb), /* 0x1c */ IDEXW(I2a, sbb, 1), IDEX(I2a, sbb), EMPTY, EMPTY, /* 0x20 */ IDEXW(G2E, and, 1), IDEX(G2E, and), IDEXW(E2G, and, 1), IDEX(E2G, and), /* 0x24 */ IDEXW(I2a, and, 1), IDEX(I2a, and), EMPTY, EMPTY, /* 0x28 */ IDEXW(G2E, sub, 1), IDEX(G2E, sub), IDEXW(E2G, sub, 1), IDEX(E2G, sub), /* 0x2c */ IDEXW(I2a, sub, 1), IDEX(I2a, sub), EMPTY, EMPTY, /* 0x30 */ IDEX(G2E, xor), IDEX(G2E, xor), IDEX(E2G, xor), IDEX(E2G, xor), /* 0x34 */ IDEX(I2a, xor), IDEX(I2r, xor), EMPTY, EMPTY, /* 0x38 */ IDEXW(G2E, cmp, 1), IDEX(G2E, cmp), IDEXW(E2G, cmp, 1), IDEX(E2G, cmp), /* 0x3c */ IDEXW(I2a, cmp, 1), IDEX(I2a, cmp), EMPTY, EMPTY, /* 0x40 */ IDEX(r, inc), IDEX(r, inc), IDEX(r, inc), IDEX(r, inc), /* 0x44 */ IDEX(r, inc), IDEX(r, inc), IDEX(r, inc), IDEX(r, inc), /* 0x48 */ IDEX(r, dec), IDEX(r, dec), IDEX(r, dec), IDEX(r, dec), /* 0x4c */ IDEX(r, dec), IDEX(r, dec), IDEX(r, dec), IDEX(r, dec), /* 0x50 */ IDEX(r, push), IDEX(r, push), IDEX(r, push), IDEX(r, push), /* 0x54 */ IDEX(r, push), IDEX(r, push), IDEX(r, push), IDEX(r, push), /* 0x58 */ IDEX(r, pop), IDEX(r, pop), IDEX(r, pop), IDEX(r, pop), /* 0x5c */ IDEX(r, pop), IDEX(r, pop), IDEX(r, pop), IDEX(r, pop), /* 0x60 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x64 */ EMPTY, EMPTY, EX(operand_size), EMPTY, /* 0x68 */ IDEX(push_SI, push), EMPTY, IDEXW(push_SI, push, 1), EMPTY, /* 0x6c */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x70 */ IDEXW(J, jcc, 1), IDEXW(J, jcc, 1), IDEXW(J, jcc, 1), IDEXW(J, jcc, 1), /* 0x74 */ IDEXW(J, jcc, 1), IDEXW(J, jcc, 1), IDEXW(J, jcc, 1), IDEXW(J, jcc, 1), /* 0x78 */ IDEXW(J, jcc, 1), IDEXW(J, jcc, 1), IDEXW(J, jcc, 1), IDEXW(J, jcc, 1), /* 0x7c */ IDEXW(J, jcc, 1), IDEXW(J, jcc, 1), IDEXW(J, jcc, 1), IDEXW(J, jcc, 1), /* 0x80 */ IDEXW(I2E, gp1, 1), IDEX(I2E, gp1), EMPTY, IDEX(SI2E, gp1), /* 0x84 */ IDEXW(G2E, test ,1), IDEX(G2E, test), EMPTY, EMPTY, /* 0x88 */ IDEXW(mov_G2E, mov, 1), IDEX(mov_G2E, mov), IDEXW(mov_E2G, mov, 1), IDEX(mov_E2G, mov), /* 0x8c */ EMPTY, IDEX(lea_M2G, lea), EMPTY, EMPTY, /* 0x90 */ EX(nop), EMPTY, EMPTY, EMPTY, /* 0x94 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x98 */ EX(cwtl), EX(cltd), EMPTY, EMPTY, /* 0x9c */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xa0 */ IDEXW(O2a, mov, 1), IDEX(O2a, mov), IDEXW(a2O, mov, 1), IDEX(a2O, mov), /* 0xa4 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xa8 */ IDEXW(I2a, test, 1), IDEX(I2a, test), EMPTY, EMPTY, /* 0xac */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xb0 */ IDEXW(mov_I2r, mov, 1), IDEXW(mov_I2r, mov, 1), IDEXW(mov_I2r, mov, 1), IDEXW(mov_I2r, mov, 1), /* 0xb4 */ IDEXW(mov_I2r, mov, 1), IDEXW(mov_I2r, mov, 1), IDEXW(mov_I2r, mov, 1), IDEXW(mov_I2r, mov, 1), /* 0xb8 */ IDEX(mov_I2r, mov), IDEX(mov_I2r, mov), IDEX(mov_I2r, mov), IDEX(mov_I2r, mov), /* 0xbc */ IDEX(mov_I2r, mov), IDEX(mov_I2r, mov), IDEX(mov_I2r, mov), IDEX(mov_I2r, mov), /* 0xc0 */ IDEXW(gp2_Ib2E, gp2, 1), IDEX(gp2_Ib2E, gp2), EMPTY, EX(ret), /* 0xc4 */ EMPTY, EMPTY, IDEXW(mov_I2E, mov, 1), IDEX(mov_I2E, mov), /* 0xc8 */ EMPTY, EX(leave), EMPTY, EMPTY, /* 0xcc */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xd0 */ IDEXW(gp2_1_E, gp2, 1), IDEX(gp2_1_E, gp2), IDEXW(gp2_cl2E, gp2, 1), IDEX(gp2_cl2E, gp2), /* 0xd4 */ EMPTY, EMPTY, EX(nemu_trap), EMPTY, /* 0xd8 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xdc */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xe0 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xe4 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xe8 */ IDEX(I, call), IDEX(J, jmp), EMPTY, IDEXW(J, jmp, 1), /* 0xec */ IDEXW(in_dx2a, in, 1), IDEX(in_dx2a, in), IDEXW(out_a2dx, out, 1), IDEX(out_a2dx, out), /* 0xf0 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xf4 */ EMPTY, EMPTY, IDEXW(E, gp3, 1), IDEX(E, gp3), /* 0xf8 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xfc */ EMPTY, EMPTY, IDEXW(E, gp4, 1), IDEX(E, gp5), /*2 byte_opcode_table */ /* 0x00 */ EMPTY, IDEX(gp7_E, gp7), EMPTY, EMPTY, /* 0x04 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x08 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x0c */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x10 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x14 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x18 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x1c */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x20 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x24 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x28 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x2c */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x30 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x34 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x38 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x3c */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x40 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x44 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x48 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x4c */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x50 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x54 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x58 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x5c */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x60 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x64 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x68 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x6c */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x70 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x74 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x78 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x7c */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0x80 */ IDEX(J, jcc), IDEX(J, jcc), IDEX(J, jcc), IDEX(J, jcc), /* 0x84 */ IDEX(J, jcc), IDEX(J, jcc), IDEX(J, jcc), IDEX(J, jcc), /* 0x88 */ IDEX(J, jcc), IDEX(J, jcc), IDEX(J, jcc), IDEX(J, jcc), /* 0x8c */ IDEX(J, jcc), IDEX(J, jcc), IDEX(J, jcc), IDEX(J, jcc), /* 0x90 */ IDEXW(E, setcc, 1), IDEXW(E, setcc, 1), IDEXW(E, setcc, 1), IDEXW(E, setcc, 1), /* 0x94 */ IDEXW(E, setcc, 1), IDEXW(E, setcc, 1), IDEXW(E, setcc, 1), IDEXW(E, setcc, 1), /* 0x98 */ IDEXW(E, setcc, 1), IDEXW(E, setcc, 1), IDEXW(E, setcc, 1), IDEXW(E, setcc, 1), /* 0x9c */ IDEXW(E, setcc, 1), IDEXW(E, setcc, 1), IDEXW(E, setcc, 1), IDEXW(E, setcc, 1), /* 0xa0 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xa4 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xa8 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xac */ EMPTY, EMPTY, EMPTY, IDEX(E2G, imul2), /* 0xb0 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xb4 */ EMPTY, EMPTY, IDEXW(mov_E2G, movzx, 1), IDEXW(mov_E2G, movzx, 2), /* 0xb8 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xbc */ EMPTY, EMPTY, IDEXW(mov_E2G, movsx, 1), IDEXW(mov_E2G, movsx, 2), /* 0xc0 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xc4 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xc8 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xcc */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xd0 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xd4 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xd8 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xdc */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xe0 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xe4 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xe8 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xec */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xf0 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xf4 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xf8 */ EMPTY, EMPTY, EMPTY, EMPTY, /* 0xfc */ EMPTY, EMPTY, EMPTY, EMPTY&#125;; åŸºç¡€è®¾ç½®(2)æ€è€ƒé¢˜ Differential Testingèƒ½å¸®ä½ èŠ‚çœå¤šå°‘æ—¶é—´å‘¢? èƒ½èŠ‚çœæˆ‘è‡³å°‘10ä¸ªå°æ—¶ Differential Testingå…ˆåœ¨nemu/include/common.hä¸­å®šä¹‰DIFF_TEST 12#define DEBUG#define DIFF_TEST ç„¶åŽåœ¨nemu/src/monitor/diff-test/diff-test.cæ–‡ä»¶ä¸­çš„difftest_stepå‡½æ•°ä¸­ 12345678910if(cpu.eip != r.eip)&#123; diff = true; printf("eip: nemu: 0x%x qemu: 0x%x \n",cpu.eip,r.eip);&#125;for(int i = 0 ; i &lt; 8 ; i++)&#123; if(reg_l(i) != r.array[i])&#123; diff = true; printf("%s: nemu: 0x%x qemu: 0x%x \n",regsl[i],reg_l(i),r.array[i]); &#125;&#125; è¿™é‡Œå¯¹eipå’Œå…«ä¸ªå¯„å­˜å™¨è¿›è¡ŒéåŽ†æ¯”è¾ƒï¼Œå¦‚æžœå‘çŽ°å€¼ä¸åŒåˆ™è®¾ç½®diff = trueåœæ­¢å®¢æˆ·ç¨‹åºè¿è¡Œ ä¸€é”®å›žå½’æµ‹è¯•åœ¨nemuç›®å½•æ‰§è¡Œ 1bash runall.sh å…¨éƒ¨æ ·ä¾‹è·‘é€š æ€è€ƒé¢˜ ä½ è§‰å¾—è¯¥å¦‚ä½•æ•æ‰æ­»å¾ªçŽ¯ å¯¹ç¨‹åºè®¾ç½®æœ€å¤§è¿è¡Œæ—¶é—´ï¼Œå¦‚æžœè¶…è¿‡è¯¥æ—¶é—´åˆ™åˆ¤æ–­ç¨‹åºè¿›å…¥æ­»å¾ªçŽ¯ PA2.3 è¾“å…¥è¾“å‡ºæ€è€ƒé¢˜ å¦‚æžœä»£ç ä¸­çš„åœ°å€0x8049000æœ€ç»ˆè¢«æ˜ å°„åˆ°ä¸€ä¸ªè®¾å¤‡å¯„å­˜å™¨ï¼ŒåŽ»æŽ‰volatileå¯èƒ½ä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜? å˜é‡å¦‚æžœåŠ äº† volatile ä¿®é¥°ï¼Œåˆ™ä¼šä»Žå†…å­˜é‡æ–°è£…è½½å†…å®¹ï¼Œè€Œä¸æ˜¯ç›´æŽ¥ä»Žå¯„å­˜å™¨æ‹·è´å†…å®¹ï¼ŒåŽ»æŽ‰volatileä¼šå¯¼è‡´é”™è¯¯å‘ç”Ÿ å®žçŽ°Hello World1234567891011121314151617181920make_EHelper(in) &#123; t2 = pio_read(id_src-&gt;val, id_src-&gt;width); operand_write(id_dest, &amp;t2); print_asm_template2(in);#ifdef DIFF_TEST diff_test_skip_qemu();#endif&#125;make_EHelper(out) &#123; pio_write(id_dest-&gt;val, id_dest-&gt;width, id_src-&gt;val); print_asm_template2(out);#ifdef DIFF_TEST diff_test_skip_qemu();#endif&#125; inä¸Žoutç±»ä¼¼ï¼Œåˆ†åˆ«è°ƒç”¨pio_readå’Œpio_writeå‡½æ•°å¹¶ä¼ å…¥ç›¸åº”å‚æ•°å³å¯ï¼Œè¿™é‡Œè®¾ç½®äº†is_skip_qemuæ ‡å¿—æ¥è·³è¿‡QEMUæ£€æŸ¥ï¼Œå®ŒæˆæŒ‡ä»¤åŽåœ¨all-instr.hä¸­å®šä¹‰ 12make_EHelper(rol);make_EHelper(out); åœ¨exec.cä¸­å¡«å†™opcode table 1/* 0xec */ IDEXW(in_dx2a, in, 1), IDEX(in_dx2a, in), IDEXW(out_a2dx, out, 1), IDEX(out_a2dx, out), æ—¶é’Ÿåœ¨nexus-am/am/arch/x86-nemu/src/ioe.cä¸­ 1234567void _ioe_init() &#123; boot_time = inl(RTC_PORT);&#125;unsigned long _uptime() &#123; return inl(RTC_PORT) - boot_time;&#125; å¯ä»¥çœ‹å‡ºinl(RTC_PORT)èŽ·å–å½“å‰æ—¶é—´ï¼Œboot_timeä¸ºä¸Šä¸€æ¬¡æ—¶é—´ï¼Œå°†ä¸¤è€…ç›¸å‡è¿”å›žå³å¯ çœ‹çœ‹NEMUè·‘å¤šå¿«Dhrystone Coremark Microbench refæµ‹è¯• testæµ‹è¯• é”®ç›˜12345678int _read_key() &#123; uint32_t key_code = _KEY_NONE; if(inb(I8042_STATUS_PORT))&#123; key_code = inl(I8042_DATA_PORT); &#125; return key_code;&#125; è¿™é‡Œå…ˆåˆ¤æ–­ç«¯å£I8042_STATUS_PORTæ˜¯å¦å¼€å¯ï¼Œè‹¥å¼€å¯åˆ™èŽ·å–å½“å‰keycodeå³inl(I8042_DATA_PORT)ï¼Œå¦åˆ™è¿”å›ž_KEY_NONE æ€è€ƒé¢˜ å¦‚ä½•æ£€æµ‹å¤šä¸ªé”®è¢«åŒæ—¶æŒ‰ä¸‹ï¼Ÿ å½“æ£€æµ‹åˆ°ä¸€ä¸ªé”®è¢«æŒ‰ä¸‹çš„æ—¶å€™ï¼ŒåŽ»æ£€æµ‹æ­¤æ—¶å…¶ä»–æ˜¯å¦æœ‰æŒ‰é”®è¢«æŒ‰ä¸‹ åœ¨ä¸€äº›90å¹´ä»£çš„æ¸¸æˆä¸­ï¼Œå¾ˆå¤šæ¸å…¥æ¸å‡ºçš„æ•ˆæžœéƒ½æ˜¯é€šè¿‡è°ƒè‰²æ¿å®žçŽ°çš„ï¼Œèªæ˜Žçš„ä½ çŸ¥é“å…¶ä¸­çš„çŽ„æœºä¹ˆï¼Ÿ å°†é¢œè‰²æ¨¡æ‹Ÿæˆç±»ä¼¼é€æ˜Žçš„ç™½è‰²ç›–åœ¨å…¶ä»–é¢œè‰²ä¸Šé¢ï¼Œæ¨¡æ‹Ÿå‡ºæ¸å˜çš„é¢œè‰² æ·»åŠ å†…å­˜æ˜ å°„I/Oåœ¨nemu/src/memory/memory.cæ–‡ä»¶ä¸­ 12345678910111213141516uint32_t paddr_read(paddr_t addr, int len) &#123; int port = is_mmio(addr); if(port != -1)&#123; return mmio_read(addr, len, port); &#125; return pmem_rw(addr, uint32_t) &amp; (~0u &gt;&gt; ((4 - len) &lt;&lt; 3));&#125;void paddr_write(paddr_t addr, int len, uint32_t data) &#123; int port = is_mmio(addr); if(port != -1)&#123; mmio_write(addr, len, data, port); &#125;else&#123; memcpy(guest_to_host(addr), &amp;data, len); &#125;&#125; å…ˆç”¨is_mmioå‡½æ•°åˆ¤æ–­ç‰©ç†åœ°å€æ˜¯å¦è¢«æ˜ å°„åˆ°I/Oç©ºé—´ï¼Œå¯¹äºŽpaddr_readè‹¥è¿”å›ž-1åˆ™è®¿é—®pmemï¼Œå¦åˆ™ä½¿ç”¨mmio_readå‡½æ•°è¯»å–portä½ç½®çš„å†…å­˜ï¼Œå¯¹äºŽpaddr_writeï¼Œè‹¥ä¸è¿”å›ž-1åˆ™è°ƒç”¨mmio_writeå°†æ•°æ®å†™å…¥portä½ç½®å†…å­˜ å®žçŽ°IOE(3)123456void _draw_rect(const uint32_t *pixels, int x, int y, int w, int h) &#123; int i; for(i = 0; i &lt; h; i++) &#123; memcpy(fb + (y + i) * _screen.width + x, pixels + i * w, w * 4); &#125;&#125; å°†pixelsæŒ‡å®šçš„çš„çŸ©å½¢åƒç´ ç»˜åˆ¶åˆ°å±å¹•ä¸­ä»¥(x, y)å’Œ(x+w, y+h)ä¸¤ç‚¹è¿žçº¿ä¸ºå¯¹è§’çº¿çš„çŸ©å½¢åŒºåŸŸ å¿…ç­”é¢˜ç¼–è¯‘ä¸Žé“¾æŽ¥ åŽ»æŽ‰staticï¼ŒåŽ»æŽ‰inlineæˆ–åŽ»æŽ‰ä¸¤è€…ï¼Œç„¶åŽé‡æ–°è¿›è¡Œç¼–è¯‘ï¼Œä½ ä¼šå‘çŽ°é”™è¯¯ï¼Œè¯·åˆ†åˆ«è§£é‡Šä¸ºä»€ä¹ˆä¼šå‘ç”Ÿè¿™äº›é”™è¯¯ï¼Ÿä½ æœ‰åŠžæ³•è¯æ˜Žä½ çš„æƒ³æ³•ä¹ˆ å½“å‡½æ•°è¢«å£°æ˜ŽstaticåŽï¼Œå®ƒåªåœ¨å®šä¹‰å®ƒçš„æºæ–‡ä»¶å†…æœ‰æ•ˆï¼Œå…¶ä»–æºæ–‡ä»¶æ— æ³•è®¿é—®ï¼Œæ‰€ä»¥ç”¨æ¥è§£å†³ä¸åŒæ–‡ä»¶å‡½æ•°é‡åé—®é¢˜ï¼Œå¦‚æžœåŽ»æŽ‰è¿›è¡Œç¼–è¯‘çš„è¯ï¼Œè‹¥ä¸åŒæ–‡ä»¶æœ‰ç›¸åŒå‡½æ•°ååˆ™ä¼šæŠ¥é”™ï¼Œè¯æ˜Žå¯ä»¥å°†ä¸åŒæ–‡ä»¶ä¸­çš„å‡½æ•°åé‡Œæ·»åŠ æ–‡ä»¶åè¿›è¡ŒåŒºåˆ†ï¼Œè‹¥ä¸æŠ¥é”™åˆ™æƒ³æ³•æ­£ç¡® inlineä¿®é¥°çš„å‡½æ•°å˜ä¸ºå†…è”å‡½æ•°,åŒæ—¶å’Œstaticç±»ä¼¼ï¼Œåªæœ‰æœ¬åœ°æ–‡ä»¶å¯è§ï¼Œå…è®¸å¤šä¸ªæ–‡ä»¶å†…é‡å¤å®šä¹‰ç›¸åŒåçš„å‡½æ•°ï¼Œé”™è¯¯ä¸Žstaticç±»ä¼¼ï¼Œå¯èƒ½ä¼šæŠ¥é‡å¤å®šä¹‰çš„é”™è¯¯ï¼Œè¯æ˜Žå¯ä»¥å°†ä¸åŒæ–‡ä»¶ä¸­çš„å‡½æ•°åé‡Œæ·»åŠ æ–‡ä»¶åè¿›è¡ŒåŒºåˆ†ï¼Œè‹¥ä¸æŠ¥é”™åˆ™æƒ³æ³•æ­£ç¡® ç¼–è¯‘ä¸Žé“¾æŽ¥ åœ¨nemu/include/common.hä¸­æ·»åŠ volatile static int dummy;åŽé‡æ–°ç¼–è¯‘NEMU,è¯·é—®é‡æ–°ç¼–è¯‘åŽçš„NEMUæœ‰å¤šå°‘ä¸ªdummyå˜é‡çš„å®žä½“ï¼Œä½ æ˜¯å¦‚ä½•å¾—åˆ°è¿™ä¸ªç»“æžœçš„ æœ‰1ä¸ªã€‚å› ä¸ºåœ¨è¿™é‡Œç”¨volatileå®šä¹‰äº†ä¸€ä¸ªdummy åœ¨ä¸Šä¸€é—®é¢˜æ¡ä»¶ä¸‹åœ¨nemu/include/debug.hä¸­æ·»åŠ volatile static int dummy;,è¯·é—®é‡æ–°ç¼–è¯‘åŽçš„NEMUæœ‰å¤šå°‘ä¸ªdummyå˜é‡çš„å®žä½“ï¼Œä¸Žä¸Šé¢˜ä¸­dummyå®žä½“æ•°ç›®è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶è§£é‡Šæœ¬é¢˜çš„ç»“æžœ æœ‰2ä¸ªã€‚å› ä¸ºä¸¤ä¸ªæ–‡ä»¶ä¸­éƒ½ä½¿ç”¨äº†volatileè¿›è¡Œdummyçš„å®šä¹‰ï¼Œæ‰€ä»¥ä¸ä¼šå‘ç”Ÿå†²çªï¼Œä¸º2ä¸ªã€‚ ä¿®æ”¹æ·»åŠ çš„ä»£ç ï¼Œä¸ºä¸¤å¤„dummyå˜é‡è¿›è¡Œåˆå§‹åŒ–volatile static int dummy = 0;,ç„¶åŽé‡æ–°ç¼–è¯‘NEMU,ä½ å‘çŽ°äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿä¸ºä»€ä¹ˆä¹‹å‰æ²¡æœ‰å‡ºçŽ°è¿™ä¸ªé—®é¢˜ ä¼šæŠ¥é”™ã€‚å› ä¸ºå½“volatileä¿®é¥°çš„dummyè¢«èµ‹äºˆäº†ç¡®å®šçš„å€¼ä¹‹åŽï¼Œä¸¤ä¸ªdummyå°±æŒ‡å‘äº†åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼Œä¼šå‘ç”Ÿé‡å¤å®šä¹‰çš„é”™è¯¯ã€‚ äº†è§£Makefile è¯·ä½ æè¿°åœ¨nemuç›®å½•ä¸‹æ•²å…¥makeåŽï¼Œmakeç¨‹åºå¦‚ä½•ç»„ç»‡.cå’Œ.hæ–‡ä»¶ï¼Œæœ€ç»ˆç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶nemu/build/nemu(è¿™ä¸ªé—®é¢˜åŒ…å«ä¸¤ä¸ªæ–¹é¢: makefileçš„å·¥ä½œæ–¹å¼å’Œç¼–è¯‘é“¾æŽ¥çš„è¿‡ç¨‹) åœ¨å½“å‰ç›®å½•ä¸‹æ‰¾åå­—å«Makefileæˆ–makefileçš„æ–‡ä»¶ å¦‚æžœæ‰¾åˆ°ï¼Œå®ƒä¼šæ‰¾æ–‡ä»¶ä¸­çš„ç¬¬ä¸€ä¸ªç›®æ ‡æ–‡ä»¶ï¼Œå¹¶æŠŠè¿™ä¸ªæ–‡ä»¶ä½œä¸ºæœ€ç»ˆçš„ç›®æ ‡æ–‡ä»¶ å¦‚æžœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œæˆ–æ˜¯æ–‡ä»¶æ‰€ä¾èµ–çš„åŽé¢çš„.oæ–‡ä»¶çš„æ–‡ä»¶ä¿®æ”¹æ—¶é—´è¦æ¯”è¿™ä¸ªæ–‡ä»¶æ–°ï¼Œé‚£ä¹ˆï¼Œä»–å°±ä¼šæ‰§è¡ŒåŽé¢æ‰€å®šä¹‰çš„å‘½ä»¤æ¥ç”Ÿæˆhè¿™ä¸ªæ–‡ä»¶ï¼Œè¿™ä¸ªä¹Ÿå°±æ˜¯é‡ç¼–è¯‘ å¦‚æžœæ–‡ä»¶æ‰€ä¾èµ–çš„.oæ–‡ä»¶ä¹Ÿå­˜åœ¨ï¼Œé‚£ä¹ˆmakeä¼šåœ¨å½“å‰æ–‡ä»¶ä¸­æ‰¾ç›®æ ‡ä¸º.oæ–‡ä»¶çš„ä¾èµ–æ€§ï¼Œå¦‚æžœæ‰¾åˆ°åˆ™å†æ ¹æ®é‚£ä¸€ä¸ªè§„åˆ™ç”Ÿæˆ.oæ–‡ä»¶ã€‚ .cæ–‡ä»¶å’Œ.hæ–‡ä»¶å­˜åœ¨ï¼ŒäºŽæ˜¯makeä¼šç”Ÿæˆ .o æ–‡ä»¶ makeä¼šä¸€å±‚ä¸€å±‚åŽ»æ‰¾æ–‡ä»¶çš„ä¾èµ–å…³ç³»ï¼Œç›´åˆ°æœ€ç»ˆç¼–è¯‘å‡ºç¬¬ä¸€ä¸ªç›®æ ‡æ–‡ä»¶ï¼Œè‹¥æ˜¯è¿‡ç¨‹ä¸­å‡ºçŽ°äº†é”™è¯¯ï¼Œmakeä¼šç›´æŽ¥é€€å‡ºå¹¶æŠ¥é”™ï¼Œç›´åˆ°æœ€åŽç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶nemu]]></content>
      <categories>
        <category>C</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ </tag>
        <tag>C</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¡ç®—æœºç»„æˆ-ç¨‹åºçš„è½¬æ¢åŠæœºå™¨çº§è¡¨ç¤º]]></title>
    <url>%2F2018%2F05%2F05%2F%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90-%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%BD%AC%E6%8D%A2%E5%8F%8A%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA%2F</url>
    <content type="text"><![CDATA[AT&amp;Tæ±‡ç¼–æŒ‡ä»¤å­¦ä¹ (GCC) æº/ç›®çš„æ“ä½œæ•°é¡ºåº:AT&amp;Tè¯­æ³•æ ¼å¼è¡¨ç¤ºä¸º:opcode src, dest: â€œæ“ä½œç  æº, ç›®æ ‡â€ æ“ä½œæ•°é•¿åº¦æ ‡è¯†:åœ¨AT&amp;Tè¯­æ³•ä¸­,é€šè¿‡åœ¨æŒ‡ä»¤åŽæ·»åŠ åŽç¼€æ¥æŒ‡æ˜Žè¯¥æŒ‡ä»¤è¿ç®—å¯¹è±¡çš„å°ºå¯¸.åŽç¼€ b æŒ‡æ˜Žè¿ç®—å¯¹è±¡æ˜¯ä¸€ä¸ªå­—èŠ‚(byte)åŽç¼€ w æŒ‡æ˜Žè¿ç®—å¯¹è±¡æ˜¯ä¸€ä¸ªå­—(word)åŽç¼€ l æŒ‡æ˜Žè¿ç®—å¯¹è±¡æ˜¯ä¸€ä¸ªåŒå­—(long) å¸¸æ•°/ç«‹å³æ•°æ ¼å¼ åœ¨AT&amp;Tè¯­æ³•ä¸­ å¯¹ç«‹å³æ•°,é¡»åœ¨å…¶å‰åŠ å‰ç¼€ $ æ¥æŒ‡æ˜Ž åœ¨å¸¸æ•°å‰ä¹Ÿå¿…é¡»åŠ ä¸€ä¸ªå‰ç¼€å­—ç¬¦ * å†…å­˜å¯»å€æ–¹å¼ SECTION:DISP(BASE, INDEX, SCALE)ï¼Œæ®µ:åç§»é‡(åŸºåœ°å€,å˜å€,æ¯”ä¾‹å› å­) ç”¨æ³•: è¿™é‡Œç”¨lealä¸¾ä¾‹ 1234567891011leal 6(%eax), %edx //æŠŠeaxçš„å€¼+6æ”¾å…¥edxä¸­leal (%eax, %ecx), %edx //æŠŠeax+ecxçš„å€¼è£…å…¥edxä¸­leal (%eax, %ecx, 4), %edx //æŠŠeax + 4*ecxçš„å€¼è£…å…¥edxä¸­leal 7(%eax, %eax, 8), %edx //æŠŠ9*eax +7çš„å€¼è£…å…¥edxä¸­leal 0xA(,%eax,4), %edx //æŠŠ4*eax + 10çš„å€¼è£…å…¥edxä¸­leal 9(%eax, %ecx, 2), %edx //æŠŠeax + 2*ecx+ 9çš„å€¼è£…å…¥edxä¸­ movlç”¨æ³•ä¸Žlealç›¸åŒï¼Œåªä¸è¿‡movlæ˜¯èµ‹å€¼ï¼Œlealæ˜¯èµ‹åœ°å€ åŸºæœ¬çš„è¡Œå†…æ±‡ç¼–æ ¼å¼ asm(&quot;statements&quot;)ä¾‹å¦‚ï¼šasm(&quot;nop&quot;); `asm(â€œmovl %eax,%ebxâ€);asm å’Œ asmæ˜¯å®Œå…¨ä¸€æ ·çš„. å¦‚æžœæœ‰å¤šè¡Œæ±‡ç¼–ï¼Œåˆ™æ¯ä¸€è¡Œéƒ½è¦åŠ ä¸Š\n\t` å¸¸ç”¨æŒ‡ä»¤ æ•°æ®ä¼ é€æŒ‡ä»¤ï¼šmove,push,pop åŠ è½½æœ‰æ•ˆåœ°å€æŒ‡ä»¤ï¼šleal ä¸€å…ƒæ“ä½œæŒ‡ä»¤ï¼šinc(åŠ 1),dec(å‡1)ï¼Œneg(å–è´Ÿ)ï¼Œnot(å–è¡¥) äºŒå…ƒæ“ä½œæŒ‡ä»¤ï¼šadd,sub,imul,idivl(æœ‰ç¬¦å·é™¤æ³•),xor,or,and ç§»ä½æŒ‡ä»¤ï¼šsal(å·¦ç§»),shl,sar(ç®—æ•°å³ç§»),shr(é€»è¾‘å³ç§») è·³è½¬æŒ‡ä»¤ï¼šjmp,je,jne,js,jns,jg,jl,ja,jb,jbeâ€¦ å¸¸ç”¨æŒ‡ä»¤ç”¨æ³• inc Dï¼ŒåŠ 1ã€‚ dec Dï¼Œå‡1ã€‚ neg Dï¼Œå–è´Ÿæ•°ã€‚ not Dï¼Œå–åã€‚ dd S, Dï¼ŒD= D +Sï¼ŒåŠ ã€‚ sub S, Dï¼ŒD= D â€“Sï¼Œå‡ã€‚ imul S, Dï¼ŒD= D * Sï¼Œ ä¹˜ã€‚ xor S, Dï¼ŒD = D ^ Sï¼Œ å¼‚æˆ–ã€‚ or S, Dï¼ŒD = D | Sï¼Œæˆ–ã€‚ and S, Dï¼ŒD = D &amp; Sï¼Œä¸Žã€‚ å…³äºŽåç§»é‡å’Œå¯¹é½æ–¹å¼ å¯¹é½æ–¹å¼ä»‹ç» 123456789101112131415161718struct MyStruct &#123; char dda; //åç§»é‡ä¸º0ï¼Œæ»¡è¶³å¯¹é½æ–¹å¼ï¼Œddaå ç”¨1ä¸ªå­—èŠ‚ï¼› /* ä¸‹ä¸€ä¸ªå¯ç”¨çš„åœ°å€çš„åç§»é‡ä¸º1ï¼Œä¸æ˜¯sizeof(double)=8 çš„å€æ•°ï¼Œéœ€è¦è¡¥è¶³7ä¸ªå­—èŠ‚æ‰èƒ½ä½¿åç§»é‡å˜ä¸º8ï¼ˆæ»¡è¶³å¯¹é½æ–¹å¼ï¼‰ï¼Œ å› æ­¤VCè‡ªåŠ¨å¡«å……7ä¸ªå­—èŠ‚ï¼Œdda1å­˜æ”¾åœ¨åç§»é‡ä¸º8çš„åœ°å€ä¸Šï¼Œå®ƒå ç”¨8ä¸ªå­—èŠ‚*/ double dda1;/*int typeï¼› //ä¸‹ä¸€ä¸ªå¯ç”¨çš„åœ°å€çš„åç§»é‡ä¸º16ï¼Œæ˜¯sizeof(int)=4çš„å€ //æ•°ï¼Œæ»¡è¶³intçš„å¯¹é½æ–¹å¼ï¼Œæ‰€ä»¥ä¸éœ€è¦VCè‡ªåŠ¨å¡«å……ï¼Œtypeå­˜ //æ”¾åœ¨åç§»é‡ä¸º16çš„åœ°å€ä¸Šï¼Œå®ƒå ç”¨4ä¸ªå­—èŠ‚ã€‚ &#125;ï¼› //æ‰€æœ‰æˆå‘˜å˜é‡éƒ½åˆ†é…äº†ç©ºé—´ï¼Œç©ºé—´æ€»çš„å¤§å°ä¸º1+7+8+4=20ï¼Œä¸æ˜¯ç»“æž„ //çš„èŠ‚è¾¹ç•Œæ•°ï¼ˆå³ç»“æž„ä¸­å ç”¨æœ€å¤§ç©ºé—´çš„ç±»åž‹æ‰€å ç”¨çš„å­—èŠ‚æ•°sizeof //(double)=8ï¼‰çš„å€æ•°ï¼Œæ‰€ä»¥éœ€è¦å¡«å……4ä¸ªå­—èŠ‚ï¼Œä»¥æ»¡è¶³ç»“æž„çš„å¤§å°ä¸º //sizeof(double)=8çš„å€æ•°ã€‚ å‡ é“é¢˜ç¬¬ä¸€é¢˜å¯¹äºŽä»¥ä¸‹ AT&amp;Tæ ¼å¼æ±‡ç¼–æŒ‡ä»¤ï¼Œæ ¹æ®æ“ä½œæ•°çš„é•¿åº¦ç¡®å®šå¯¹åº”æŒ‡ä»¤åŠ©è®°ç¬¦ä¸­çš„é•¿åº¦åŽç¼€ï¼Œå¹¶è¯´æ˜Žæ¯ä¸ªæ“ä½œæ•°çš„å¯»å€æ–¹å¼12345678mov 8(%ebp, %ebx, 4), %axmov %al, 12(%ebp)add (, %ebx, 4), %ebxor (%ebx), %dhpush $0xF8mov $0xFFF0, %eaxtest %cx,%cxlea 8(%ebx, %esi), %eax å‚è€ƒç­”æ¡ˆ 12345678wï¼ŒåŸºå€+æ¯”ä¾‹å˜å€+åç§»ï¼Œå¯„å­˜å™¨bï¼Œå¯„å­˜å™¨ï¼ŒåŸºå€+åç§»lï¼Œæ¯”ä¾‹å˜å€ï¼Œå¯„å­˜å™¨bï¼ŒåŸºå€ï¼Œå¯„å­˜å™¨lï¼Œç«‹å³æ•°ï¼Œæ ˆlï¼Œç«‹å³æ•°ï¼Œå¯„å­˜å™¨wï¼Œå¯„å­˜å™¨ï¼Œå¯„å­˜å™¨lï¼ŒåŸºå€+å˜å€+åç§»ï¼Œå¯„å­˜å™¨ ç¬¬äºŒé¢˜å‡è®¾xå’Œptrå£°æ˜Žå¦‚ä¸‹ 123src_type x;dst_type ptr;*ptr = (dst_type)x; è‹¥ x å­˜å‚¨åœ¨å¯„å­˜å™¨ EAX æˆ– AX æˆ– AL ä¸­ï¼Œptr å­˜å‚¨åœ¨å¯„å­˜å™¨ EDX ä¸­ï¼Œå†™å‡ºå®žçŽ°ä¸Šè¿°èµ‹å€¼è¯­å¥çš„æœºå™¨çº§ä»£ç ã€‚è¦æ±‚ç”¨ AT&amp;T æ ¼å¼æ±‡ç¼–æŒ‡ä»¤è¡¨ç¤ºæœºå™¨çº§ä»£ç  src_type dst_type æœºå™¨çº§è¡¨ç¤º 1234567char int movsbl %al, (%edx)int char movb %al, (%edx)int unsigned movl %eax, (%edx)short int movswl %ax, (%edx)unsigned char unsigned movzbl %al, (%edx)char unsigned movsbl %al, (%edx)int int movl %eax, (%edx) å…³äºŽMov movb,movw,movl åˆ†åˆ«è¡¨ç¤ºï¼šä¼ é€å­—èŠ‚ï¼Œä¼ é€å­—ï¼Œä¼ é€åŒå­— movsbw,movsbl,movswl,å°†åšäº†ç¬¦å·æ‰©å±•çš„å­—èŠ‚ä¼ é€åˆ°å­—ï¼Œå°†åšäº†ç¬¦å·æ‰©å±•çš„å­—èŠ‚ä¼ é€åˆ°åŒå­—ï¼Œå°†åšäº†ç¬¦å·æ‰©å±•çš„å­—ä¼ é€åˆ°åŒå­— movzbw,movzbl,movzwl,å°†åšäº†é›¶æ‰©å±•çš„å­—èŠ‚ä¼ é€åˆ°å­—,å°†åšäº†é›¶æ‰©å±•çš„å­—èŠ‚ä¼ é€åˆ°åŒå­—,å°†åšäº†é›¶æ‰©å±•çš„å­—ä¼ é€åˆ°åŒå­—]]></content>
      <categories>
        <category>è®¡ç®—æœºç»„æˆåŽŸç†</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ </tag>
        <tag>è®¡ç®—æœº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½ å¯èƒ½éœ€è¦çš„ä¸€äº›å¾®ä¿¡å°ç¨‹åºå¼€å‘çŸ¥è¯†ç‚¹]]></title>
    <url>%2F2018%2F05%2F03%2F%E6%88%91%E5%9C%A8%E5%86%99%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%97%B6%E7%9A%84%E4%B8%80%E4%BA%9B%E5%B0%8F%E6%8A%80%E5%B7%A7%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯ä¸€ç›´ä»¥æ¥è¿›è¡Œäº†æ¯”è¾ƒå¤šçš„å¾®ä¿¡å°ç¨‹åºå¼€å‘â€¦ æ€»ä¼šæŽ¥è§¦åˆ°ä¸€äº›å’Œå®˜æ–¹ç»„ä»¶æˆ–apiç›¸å…³æˆ–å…¶æ— æ³•è§£å†³çš„éœ€æ±‚ï¼ŒäºŽæ˜¯å†³å®šåœ¨è¿™é‡Œå°å°çš„æ•´ç†ä¸€ä¸‹è‡ªå·±çš„å®žçŽ°(æ¬¡åºä¸åˆ†å…ˆåŽ) è‡ªå®šä¹‰ç»„ä»¶çš„ä½¿ç”¨ åˆ›å»ºå³é”®æ–°å»ºComponent å¼•ç”¨åœ¨ä½ éœ€è¦å¼•ç”¨çš„æ–‡ä»¶çš„jsonä¸­å®šä¹‰ 12345678"æ³¨é‡Š": "å‰é¢ä¸ºç»„ä»¶åï¼ŒåŽé¢ä¸ºè·¯å¾„ï¼Œè¿™é‡Œä»…ä¾›å‚è€ƒ"&#123; "usingComponents": &#123; "Menu": "../Components/Menu/Menu", "Loading": "../Components/Loading/Loading" &#125;&#125; ä¼ å…¥å±žæ€§ åœ¨ç»„ä»¶çš„jsä¸­å®šä¹‰ä½ éœ€è¦çš„å±žæ€§å,ç±»åž‹åŠé»˜è®¤å€¼1234567properties: &#123; theme: &#123; type: String, value: 'gray' &#125; ...&#125;, æ³¨æ„propertiesä¸ºçˆ¶ç»„ä»¶è¦ä¼ å…¥çš„æ•°æ®ï¼Œç»„ä»¶è‡ªèº«çŠ¶æ€è¿˜æ˜¯åœ¨dataä¸­ ç„¶åŽåœ¨wxmlä¸­å¼•ç”¨å³å¯1&lt;Menu theme="&#123;&#123;theme&#125;&#125;"&gt;&lt;/Menu&gt; ä¸€é”®æ¢è‚¤å…ˆåˆ›å»ºä¸€ä¸ªcolor.wxssæ¥å­˜ä½ çš„çš®è‚¤æ ·å¼(æ–‡ä»¶åå’Œä½ç½®éšæ„) 12345678910/* é»‘è‰²ä¸»é¢˜ */.bg-black&#123; background-color: #363636;&#125;.col-black-title&#123; color: #ffffff;&#125;.col-black-name&#123; color: #c3c3c3;&#125; classåä¸­å¿…é¡»å¸¦ä¸€ä¸ªæ ‡å¿—æ¥åŒºåˆ†ä¸åŒä¸»é¢˜ï¼ŒæŽ¨èä½¿ç”¨é¢œè‰²çš„è‹±æ–‡å..ç„¶åŽåœ¨app.wxssä¸­å¼•ç”¨ 12// ~ ä¸ºä½ çš„æ–‡ä»¶è·¯å¾„@import '~/color.wxss'; ä¹‹åŽåœ¨app.jsçš„globalDataä¸­å®šä¹‰ä¸€ä¸ªå­—æ®µå‚¨å­˜ä½ å½“å‰ä¸»é¢˜ 1234globalData: &#123; themeArr: ['gray', 'black', 'green', 'orange', 'pink', 'blue'], theme: 'black' // gray, black, green, orange, pink, blue&#125; ç„¶åŽåœ¨jsé‡Œå¼•ç”¨app.jsï¼Œç„¶åŽåœ¨onLoadé‡ŒèŽ·å–themeåŽsetDataå³å¯ï¼Œè¿™é‡Œè´´ä¸Šä»£ç  12345678&lt;Menu theme="&#123;&#123;theme&#125;&#125;"&gt;&lt;/Menu&gt;&lt;block wx:for="&#123;&#123;themeArr&#125;&#125;" wx:key="&#123;&#123;index&#125;&#125;"&gt; &lt;view class="theme-view-item bg-&#123;&#123;item&#125;&#125; select-&#123;&#123;item == theme&#125;&#125;" bindtap='changeTheme' data-theme="&#123;&#123;item&#125;&#125;" &gt;&lt;/view&gt;&lt;/block&gt; 123456789.theme-view-item&#123; width: 80rpx; height: 40rpx; margin: 20rpx; border-radius: 10rpx;&#125;.select-true&#123; transform: scale(1.2,1.2);&#125; 1234567891011121314151617181920212223var app = getApp()Page(&#123; data: &#123; theme: '', themeArr: app.globalData.themeArr &#125;, onLoad: function (options) &#123; this.setData(&#123; theme: app.globalData.theme &#125;) &#125;, changeTheme(e)&#123; var theme = e.currentTarget.dataset.theme app.globalData.theme = theme this.setData(&#123; theme: theme &#125;) &#125;&#125;) æ¥ä¸ªæ•ˆæžœå›¾ è¿™é‡Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨storageæ¥ä¿å­˜theme åŠ è½½æ›´å¤šä½¿ç”¨scroll-view 12345&lt;scroll-view scroll-y bindscrolltolower='toLow' style="height: &#123;&#123;height&#125;&#125;px"&gt; scroll-yå…è®¸çºµå‘æ»šåŠ¨ï¼Œbindscrolltolowerå®šä¹‰äº†æ»šåŠ¨åˆ°åº•éƒ¨æ—¶åº”è¯¥æ‰§è¡Œçš„å‡½æ•°ï¼Œstyleä¸­ä½¿ç”¨äº†jsä¸­èŽ·å–çš„å±å¹•å¯ç”¨é«˜åº¦ ä½¿ç”¨scroll-yéœ€è¦æŒ‡å®šscrollçš„é«˜åº¦ 1234567891011121314onLoad: function (options) &#123; wx.getSystemInfo(&#123; success: (res) =&gt; &#123; this.setData(&#123; height: res.windowHeight &#125;) &#125; &#125;)&#125;,toLow()&#123; this.setData(&#123; isLoading: true &#125;)&#125;, ç„¶åŽåœ¨scrollä¸‹é¢æ”¾ä½ çš„loadingç»„ä»¶å°±å¯ä»¥äº†.. 12345678910&lt;scroll-view scroll-y bindscrolltolower='toLow' style="height: &#123;&#123;height&#125;&#125;px"&gt; ...... &lt;view hidden="&#123;&#123;!isLoading&#125;&#125;"&gt; &lt;Loading&gt;&lt;/Loading&gt; &lt;/view&gt;&lt;/scroll-view&gt; ä¸‹æ‹‰åˆ·æ–°è¿™ä¸ªåŠŸèƒ½ç”¨åˆ°çš„éƒ½æ˜¯å®˜æ–¹çš„apiï¼Œå…ˆåœ¨app.jsonä¸­å®šä¹‰å…è®¸ä¸‹æ‹‰åˆ·æ–° 1234"window": &#123; ...... "enablePullDownRefresh": true&#125; ç„¶åŽåœ¨ä½ çš„jsæ–‡ä»¶ä¸­å®šä¹‰ç›¸åº”çš„å‡½æ•° 1234onPullDownRefresh: function () &#123; ...... wx.stopPullDownRefresh()&#125;, è¿™ä¸ªç‚¹å¯ä»¥çœ‹å®˜æ–¹æ–‡æ¡£ è‡ªé€‚åº”rpxå•ä½æ˜¯å¾®ä¿¡å°ç¨‹åºä¸­cssçš„å°ºå¯¸å•ä½ï¼Œrpxå¯ä»¥æ ¹æ®å±å¹•å®½åº¦è¿›è¡Œè‡ªé€‚åº”ï¼Œå¦‚åœ¨ iPhone6 ä¸Šï¼Œå±å¹•å®½åº¦ä¸º375pxï¼Œå…±æœ‰750ä¸ªç‰©ç†åƒç´ ï¼Œåˆ™750rpx= 375px = 750ç‰©ç†åƒç´ ï¼Œ1rpx = 0.5px = 1ç‰©ç†åƒç´  å¦‚æžœä¸æ‡‚çš„è¯ä¸ç”¨è€ƒè™‘å¤ªå¤šï¼Œåœ¨ç”¨pxçš„æ—¶å€™å°†å…¶å¤§å°ç¿»å€ä½¿ç”¨rpxå³å¯ ã€å¾®ä¿¡å°ç¨‹åºã€‘â€”â€”rpxã€pxã€remç­‰å°ºå¯¸é—´å…³ç³»æµ…æž é˜»æ­¢äº‹ä»¶å†’æ³¡å‡è®¾æœ‰å¦‚ä¸‹ç»“æž„ 123&lt;view class='A' bindtap='funcA'&gt; &lt;view class='B' bindtap='funcB'&gt;&lt;/view&gt;&lt;/view&gt; æˆ‘ä»¬åœ¨A,Bä¸Šå®šä¹‰äº†ä¸¤ä¸ªç‹¬ç«‹çš„ç‚¹å‡»äº‹ä»¶ï¼Œæ‡‚å¾—äº‹ä»¶å†’æ³¡çš„ç«¥éž‹ä¼šå‘çŽ°ï¼Œå¦‚æžœç‚¹å‡»Bçš„è¯ï¼Œä¸ä»…ä¼šæ‰§è¡ŒfuncBè¿˜ä¼šæ‰§è¡ŒfuncAï¼Œé‚£ä¹ˆå¦‚ä½•é¿å…è¿™ä¸ªé—®é¢˜? å¾ˆç®€å•ï¼Œåªéœ€è¦å°†ä¸éœ€è¦å†’æ³¡çš„çš„ç»‘å®šå‡½æ•°æ”¹æˆcatchtap 123&lt;view class='A' bindtap='funcA'&gt; &lt;view class='B' catchtap='funcB'&gt;&lt;/view&gt;&lt;/view&gt; å¦‚ä½•åŽ»æŽ‰Buttonçš„é»˜è®¤è¾¹æ¡†å°†buttonè‡ªå¸¦çš„position: relativeåŽ»æŽ‰å³å¯ å°ç¨‹åºç™»å½•æŽ¥å…¥æµç¨‹ä¸€å¼ å›¾]]></content>
      <categories>
        <category>å¾®ä¿¡å°ç¨‹åº</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>å¾®ä¿¡å°ç¨‹åº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºŽåœ¨macä¸Šä½¿ç”¨vscodeç¼–å†™markdownå‡ºçŽ°æŽ§åˆ¶å­—ç¬¦é—®é¢˜]]></title>
    <url>%2F2018%2F04%2F25%2F%E5%85%B3%E4%BA%8E%E5%9C%A8mac%E4%B8%8A%E4%BD%BF%E7%94%A8vscode%E7%BC%96%E5%86%99markdown%E5%87%BA%E7%8E%B0%E6%8E%A7%E5%88%B6%E5%AD%97%E7%AC%A6%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯å¦‚é¢˜â€¦.é‡åˆ°è¿‡æ— æ•°æ¬¡ï¼Œæ‰€ä»¥ä»Šå¤©ç»ˆäºŽå†³å®šè§£å†³ä¸€ä¸‹ é—®é¢˜å…ˆæ”¾ä¸€ä¸ªé—®é¢˜å›¾ è¿™æ˜¯æˆ‘çš„ä¸€ç¯‡GitHubä¸Šçš„READMEæ–‡ä»¶ï¼Œèƒ½çœ‹åˆ°æœ‰å¥½å‡ ä¸ªèŽ«åçš„ç‰¹æ®Šå­—ç¬¦ åœ¨ç½‘ä¸Šæœäº†ä¸€ä¸‹ï¼Œåœ¨vscodeè®¾ç½®ä¸­å¼€å¯ 12//æŽ§åˆ¶ç¼–è¾‘å™¨æ˜¯å¦åº”å‘ˆçŽ°æŽ§åˆ¶å­—ç¬¦&quot;editor.renderControlCharacters&quot;: true ç„¶åŽå°±èƒ½çœ‹åˆ°è¿™ä¸ªé¬¼ç•œçš„ä¸œè¥¿ èƒ½çœ‹åˆ°é‚£ä¸ªå°å°çš„BSï¼Œæœäº†ä¸€ä¸‹å‘çŽ°å®ƒæ˜¯ASCIIç ä¸­çš„é€€æ ¼ç¬¦çš„Unicodeè¡¨ç¤ºæ³•(æ‰€æœ‰ASCIIæŽ§åˆ¶å­—ç¬¦éƒ½æœ‰ä¸€ä¸ªå›¾å½¢å¤–è§‚)ï¼Œå…¶å®žè¿™ä¸ªBugæ˜¯chromiumçš„ï¼Œä½†æ˜¯å› ä¸ºvscodeåº•å±‚æ˜¯electronï¼Œelectronåº•å±‚åˆç”¨çš„chromiumï¼Œå°±å¯¼è‡´vscodeä¹Ÿæœ‰äº†è¿™ä¸ªBug è‡³äºŽä»€ä¹ˆæƒ…å†µä¼šå‘ç”Ÿå‘¢ï¼Ÿ ä½ éœ€è¦æ»¡è¶³ä»¥ä¸‹å‡ æ¡æ¡ä»¶: ä½¿ç”¨Mac åœ¨Macä¸Šä½¿ç”¨vscode(å…¶ä»–ç¼–è¾‘å™¨ä¸çŸ¥é“æœ‰æ²¡æœ‰è¿™ä¸ªBug) åœ¨ä¸Šé¢ä¸¤ç§æ¡ä»¶æ»¡è¶³çš„æƒ…å†µä¸‹å†™markdownæ–‡ä»¶ åœ¨ä¸Šé¢ä¸‰ç§æ¡ä»¶æ»¡è¶³çš„æƒ…å†µä¸‹å¼€å¯previewï¼Œå°±åƒè¿™æ · å‡‘é½è¿™å‡ ä¸ªæ¡ä»¶çœŸæ˜¯éš¾ä¸ºæˆ‘äº† è§£å†³æ–¹æ¡ˆ åŽ»æŽ‰ä¸Šæ–‡å››ä¸ªæ¡ä»¶ä¸­çš„è‡³å°‘ä¸€æ¡ å¼€å¯&quot;editor.renderControlCharacters&quot;: trueï¼Œçœ‹åˆ°è¿™çŽ©æ„å°±åˆ æŽ‰ æœ¬æ–‡èµ„æ–™æ¥æºäºŽçŸ¥ä¹ŽMac ä¸Šçš„ VSCode ç¼–å†™ Markdown æ€»æ˜¯å‡ºçŽ°éšè—å­—ç¬¦ï¼Ÿ]]></content>
      <categories>
        <category>Bug</category>
      </categories>
      <tags>
        <tag>Bug</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è‡ªå†™ä¸€ä¸ªreact-likeé¡¹ç›®]]></title>
    <url>%2F2018%2F04%2F22%2F%E8%87%AA%E5%86%99%E4%B8%80%E4%B8%AAreact-like%E9%A1%B9%E7%9B%AE%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯ä¹‹å‰è‡ªå­¦äº†ä¸€é˜µå­Reactæºç (æ–‡ç« )ï¼Œæ„Ÿè§‰è‡ªå·±å¯¹Componentå’ŒsetState,æ‰€ä»¥è¿™é‡Œå†³å®šå†™ä¸€ä¸ªReact-Likeé¡¹ç›®åŠ æ·±ä¸€ä¸‹å¯¹Reactçš„ç†è§£ å¼€å§‹ é¡¹ç›®ä½¿ç”¨äº†transform-react-jsxæ¥è¿›è¡ŒJSXå’ŒJSçš„è½¬æ¢ ç»„ä»¶æ—¢ç„¶æ˜¯å†™Reactï¼Œé‚£å°±å…ˆå®šä¹‰ä¸€ä¸‹ReactåŸºæœ¬ç»“æž„ 12345678910// src/react/index.jsimport Component from './Component.js'import createElement from './CreateReactElement.js'const React = &#123; Component, createElement&#125;export default React; å…¶ä¸­Componentä¸ºåŸºæœ¬ç»„ä»¶ä½œä¸ºçˆ¶ç±»,createElementæ¥åˆ›å»ºç»„ä»¶ 1234567891011121314151617// src/react/Component.jsimport &#123; enqueueSetState &#125; from './StateQueue'class Component &#123; constructor(props)&#123; this.isComponent = true // æ˜¯å¦ä¸ºç»„ä»¶ this.isReplace = false // æ˜¯å¦æ˜¯æ›´æ–°çš„ç»„ä»¶ this.props = props this.state = &#123;&#125; &#125; setState(partialState)&#123; enqueueSetState(partialState, this) &#125;&#125;export default Component; è¿™é‡Œè¿›è¡Œäº†ä¸€äº›åŸºæœ¬çš„åˆå§‹åŒ–, è¿˜å®šä¹‰äº†setStateæ–¹æ³•ï¼Œå…¶ä¸­è°ƒç”¨äº†enqueueSetState(åŽè¯)è¿›è¡Œç»„ä»¶æ›´æ–° 12345678910111213141516171819202122232425262728// src/react/CreateReactElement.jsfunction createElement(tag, attrs, children)&#123; var props = &#123;&#125; var attrs = attrs || &#123;&#125; const childrenLength = arguments.length - 2; if (childrenLength === 1) &#123; props.children = children; &#125; else if (childrenLength &gt; 1) &#123; var childArray = Array(childrenLength); for (let i = 0; i &lt; childrenLength; i++) &#123; childArray[i] = arguments[i + 2]; &#125; props.children = childArray; &#125; return &#123; tag, attrs, props, key: attrs.key || null &#125;&#125;export default createElement; è¿™é‡ŒåŒæ ·è¿›è¡Œä¸€äº›åˆå§‹åŒ–æ“ä½œï¼Œä½†æ˜¯å¯¹ä¼ è¿›æ¥çš„childrenè¿›è¡Œäº†ç‰¹æ®Šçš„å¤„ç†ï¼Œåˆ©ç”¨argumentsèŽ·å¾—childrené•¿åº¦ï¼Œä¹‹åŽå†³å®šæ˜¯è½¬åŒ–æˆæ•°ç»„è¿˜æ˜¯ç›´æŽ¥å†™åˆ°porpsä¸ŠåŽ»ï¼Œæœ€åŽå°†æ‰€æœ‰å±žæ€§ä½œä¸ºå¯¹è±¡è¿”å›žï¼Œå½“ç”¨æˆ·åˆ›å»ºReactå¯¹è±¡æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨è¿™ä¸ªå‡½æ•° æ¸²æŸ“åŒæ ·æˆ‘ä»¬å…ˆå®šä¹‰ä¸€ä¸ªReactDomå¯¹è±¡ 1234567891011// src/react-dom/index.jsimport render from './Render'const ReactDOM = &#123; render: ( nextElement, container ) =&gt; &#123; return render( nextElement, container ); &#125;&#125;export default ReactDOM; åœ¨è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªå¤§åé¼Žé¼Žçš„renderå‡½æ•°ï¼Œä¼ å…¥ä¸¤ä¸ªå‚æ•°åˆ†åˆ«ä¸ºå½“å‰çš„å…ƒç´ å’Œè¦æ’å…¥çš„å®¹å™¨ï¼Œç„¶åŽè°ƒç”¨Renderæ–‡ä»¶ä¸­çš„renderæ–¹æ³• 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081// src/react-dom/Render.jsimport &#123; createComponent, setComponentProps&#125; from './Diff'import setAttribute from './Dom'/**å…¥å£renderæ–¹æ³• * @param &#123;ReactElement&#125; nextElement è¦æ’å…¥åˆ°DOMä¸­çš„ç»„ä»¶ * @param &#123;DOMElement&#125; container è¦æ’å…¥åˆ°çš„å®¹å™¨ */export function render(nextElement, container)&#123; if(nextElement == null || container == null) return; if(nextElement.isComponent)&#123; const component = nextElement; if (component._container) &#123; if (component.componentWillUpdate)&#123; component.componentWillUpdate(); &#125; else if (component.componentWillMount) &#123; component.componentWillMount(); &#125; &#125; component._container = container; nextElement = component.render() &#125; const type = typeof nextElement if(type === 'string' || type === 'number')&#123; let textNode = document.createTextNode(nextElement); return container.appendChild(textNode); &#125; if(typeof nextElement.tag === 'function')&#123; let component = createComponent(nextElement.tag, nextElement.attrs) setComponentProps(component,nextElement.attrs, container) return render(component.base, container); &#125; const dom = document.createElement(nextElement.tag) if(nextElement.attrs)&#123; Object.keys(nextElement.attrs).map(key =&gt; &#123; setAttribute(key, nextElement.attrs[key], dom) &#125;) &#125; if(nextElement.props)&#123; if(typeof nextElement.props.children == 'object')&#123; nextElement.props.children.forEach(item =&gt; &#123; render(item, dom) &#125;) &#125;else&#123; render(nextElement.props.children, dom) &#125; &#125; if(nextElement._component)&#123; if(nextElement._component.isReplace)&#123; var arr = Array.from(nextElement._component.parentNode.childNodes) arr.map((item,index) =&gt; &#123; if(isSameDom(item,dom))&#123; return container.replaceChild(dom, nextElement._component.parentNode.children[index]) &#125; &#125;) &#125; &#125; return container.appendChild(dom)&#125;function isSameDom(item, dom)&#123; return (item.nodeName == dom.nodeName &amp;&amp; item.nodeType == dom.nodeType &amp;&amp; item.nextSibling == dom.nextSibling)&#125;export default render; ä»£ç æ¯”è¾ƒé•¿ï¼Œæˆ‘ä»¬è¿™é‡Œåˆ†æ®µåˆ†æžä¸€ä¸‹ 123456const type = typeof nextElementif(type === 'string' || type === 'number')&#123; let textNode = document.createTextNode(nextElement); return container.appendChild(textNode);&#125; å¦‚æžœå…ƒç´ ç±»åž‹ä¸ºstringæˆ–numberåˆ™ç›´æŽ¥åˆ›å»ºTextNodeå¹¶ç›´æŽ¥appendåˆ°containerä¸­é‡Œ 12345if(typeof nextElement.tag === 'function')&#123; let component = createComponent(nextElement.tag, nextElement.attrs) setComponentProps(component,nextElement.attrs, container) return render(component.base, container);&#125; å¦‚æžœå…ƒç´ çš„tagç±»åž‹ä¸ºfunctionå³ä¸ºReactç»„ä»¶ï¼Œåˆ™è°ƒç”¨Diffä¸­çš„æ–¹æ³•æ¥åˆ›å»ºç»„ä»¶(åŽè¯) 1234567const dom = document.createElement(nextElement.tag)if(nextElement.attrs)&#123; Object.keys(nextElement.attrs).map(key =&gt; &#123; setAttribute(key, nextElement.attrs[key], dom) &#125;)&#125; å¦‚æžœéƒ½ä¸æ˜¯çš„è¯å³ä¸ºæ™®é€šå…ƒç´ ï¼Œåˆ™ç›´æŽ¥è°ƒç”¨document.createElementåˆ›å»ºDomï¼Œä¹‹åŽéåŽ†attrsè°ƒç”¨setAttributeæ¥è®¾ç½®å±žæ€§ï¼ŒObject.keyså°†å¯¹è±¡è½¬åŒ–æˆæ•°ç»„æ–¹ä¾¿éåŽ†ï¼ŒæŽ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€ä¸‹setAttributeæ–¹æ³• 12345678910111213141516171819202122232425function setAttribute(key, value, dom)&#123; if(key === 'className')&#123; key = 'class' &#125; if(typeof value === 'function')&#123; dom[key.toLowerCase()] = value || ''; &#125;else if(key === 'style')&#123; if(typeof value === 'string')&#123; dom.style.cssText = value || ''; &#125;else if(typeof value === 'object')&#123; for (let name in value) &#123; dom.style[name] = typeof value[name] === 'number' ? value[name] + 'px' : value[name]; &#125; &#125; &#125;else&#123; if(value)&#123; dom.setAttribute(key, value); &#125;else&#123; dom.removeAttribute(key, value); &#125; &#125;&#125;export default setAttribute; å…ˆå°†classNameè½¬åŒ–ä¸ºclass è‹¥ç»‘å®šçš„ç±»åž‹ä¸ºfunctionåˆ™è½¬åŒ–æˆå°å†™åŽå†™å…¥domå±žæ€§ è‹¥keyä¸ºstyleï¼Œåˆ™åˆ†ç±»è®¨è®ºï¼Œè‹¥å±žæ€§ä¸ºstringåˆ™å†™å…¥cssTextï¼Œè‹¥ä¸ºobjectåˆ™åˆ¤æ–­å…¶æ˜¯å¦ä¸ºnumberï¼Œè‹¥æ˜¯åˆ™è‡ªåŠ¨åœ¨åŽé¢æ·»åŠ pxï¼Œç„¶åŽå†™å…¥style è‹¥ä¸ºå…¶ä»–åˆ™ç›´æŽ¥è°ƒç”¨åŽŸç”ŸsetAttributeæ–¹æ³• è‹¥å±žæ€§å€¼ä¸ºç©ºåˆ™åœ¨domä¸Šåˆ é™¤è¯¥å±žæ€§ 123456789if(nextElement.props)&#123; if(typeof nextElement.props.children == 'object')&#123; nextElement.props.children.forEach(item =&gt; &#123; render(item, dom) &#125;) &#125;else&#123; render(nextElement.props.children, dom) &#125;&#125; é¡ºç€renderå¾€ä¸‹çœ‹ï¼Œè¿™é‡ŒéåŽ†å…ƒç´ çš„å­å…ƒç´ é€’å½’æ¸²æŸ“ 1234567891011if(nextElement._component)&#123; if(nextElement._component.isReplace)&#123; var arr = Array.from(nextElement._component.parentNode.childNodes) arr.map((item,index) =&gt; &#123; if(isSameDom(item,dom))&#123; return container.replaceChild(dom, nextElement._component.parentNode.children[index]) &#125; &#125;) &#125;&#125;return container.appendChild(dom) æœ€åŽåˆ¤æ–­ä¸¤æ¬¡renderçš„ç»„ä»¶æ˜¯å¦ä¸ºåŒä¸€ä¸ªï¼Œè‹¥ä¸ºåŒä¸€ä¸ªåˆ™è°ƒç”¨replaceChildæ–¹æ³•è¿›è¡Œæ›¿æ¢ï¼Œå¦åˆ™appendChildåˆ°å®¹å™¨ä¸­ å›žåˆ°ä¸Šé¢nextElement.tag === &#39;function&#39;ä¸­ï¼Œå…¶ä¸­æœ‰ä¸¤ä¸ªå‡½æ•°createComponentå’ŒsetComponentProps 12345678910111213141516// src/react-dom/Diff.jsexport function createComponent(component, props)&#123; let instance; if(component.prototype &amp;&amp; component.prototype.render)&#123; instance = new component(props) &#125;else&#123; instance = new component(props) instance.constructor = component instance.render = function() &#123; return this.constructor(props) &#125; &#125; return instance;&#125; ç¬¬ä¸€ä¸ªifåˆ¤æ–­æ˜¯ä¸æ˜¯classåˆ›å»ºçš„ç»„ä»¶ï¼Œè‹¥æ˜¯åˆ™ç›´æŽ¥newä¸€ä¸ªï¼Œè‹¥ä¸æ˜¯åˆ™ä¸ºå‡½æ•°è¿”å›žç»„ä»¶ï¼Œè°ƒæ•´ä¸€ä¸‹constructorä»¥åŠrenderæ–¹æ³•ï¼Œç„¶åŽå°†æ–°ç»„ä»¶è¿”å›ž 123456789101112131415// src/react-dom/Diff.jsexport function setComponentProps(component, props, container)&#123; if (!component.base)&#123; if (component.componentWillMount) component.componentWillMount(); &#125;else if(component.componentWillReceiveProps)&#123; component.componentWillReceiveProps(props); &#125; component.props = props; component.parentNode = container renderComponent(component, container)&#125; é¦–å…ˆåˆ¤æ–­ç»„ä»¶çš„baseæ˜¯å¦å­˜åœ¨ï¼Œè‹¥å­˜åœ¨åˆ™åˆ¤æ–­æ˜¯å¦ä¸ºåˆæ¬¡æŒ‚è½½ï¼Œå¦åˆ™åˆ¤æ–­æ˜¯å¦ä¸ºæŽ¥å—æ–°çš„propsï¼Œç„¶åŽå°†propså³renderä¸­çš„attrså’Œcontainerä½œä¸ºæˆå‘˜æ·»åŠ åˆ°componentä¸Šï¼ŒparentNodeç”¨æ¥å®šä½çˆ¶å…ƒç´ æ–¹ä¾¿æ›´æ–°ï¼Œç„¶åŽè°ƒç”¨renderComponentè¿›è¡Œç»„ä»¶æŒ‚è½½æˆ–è€…æ›´æ–° 123456789101112131415161718192021222324252627// src/react-dom/Diff.jsexport function renderComponent(component, container)&#123; let base; if ( component.base &amp;&amp; component.componentWillUpdate ) &#123; component.componentWillUpdate(); &#125; base = component.render() if (component.base) &#123; if (component.componentDidUpdate)&#123; component.componentDidUpdate(); &#125; &#125;else if(component.componentDidMount) &#123; component.componentDidMount(); &#125; component.base = base; base._component = component; if(!container)&#123; component.isReplace = true render(base, component.parentNode) &#125;&#125; baseä¸ºcreateComponentä¸­çš„componentæ¸²æŸ“åŽç»“æžœï¼Œç„¶åŽè¿›è¡Œä¸€ä¸‹ç®€å•çš„ç”Ÿå‘½å‘¨æœŸåˆ¤æ–­ï¼Œæœ€åŽåˆ¤æ–­containeræ˜¯å¦ä¸ºç©ºï¼Œè‹¥ä¸ºç©ºåˆ™ä¸ºæ›´æ–°ç»„ä»¶ï¼ŒæŠŠcomponent.parentNodeä½œä¸ºcontainerä¼ å›žrender Stateæ›´æ–°åœ¨æ–‡ç« å¼€å§‹æåˆ°è¿‡ï¼ŒComponentä¸­çš„setStateæ–¹æ³•è°ƒç”¨äº†enqueueSetState 1234567891011121314151617181920212223242526// src/react/StateQueue.jsconst batchingUpdates = [] // éœ€è¦æ›´æ–°çš„çŠ¶æ€const dirtyComponent = [] // éœ€è¦æ›´æ–°çš„ç»„ä»¶var isbatchingUpdates = false // æ˜¯å¦å¤„äºŽæ›´æ–°çŠ¶æ€function callbackQueue(fn)&#123; return Promise.resolve().then(fn);&#125;export function enqueueSetState(partialState, component)&#123; if(!isbatchingUpdates)&#123; callbackQueue(flushBatchedUpdates) &#125; isbatchingUpdates = true batchingUpdates.push(&#123; partialState, component &#125;) if(!dirtyComponent.some(item =&gt; item === component))&#123; dirtyComponent.push(component) &#125;&#125; isbatchingUpdatesåˆ¤æ–­äº‹åŠ¡æ˜¯å¦å¤„äºŽæ›´æ–°çŠ¶æ€(åˆå§‹å€¼ä¸ºfalse)ï¼Œè‹¥ä¸ä¸ºæ›´æ–°åˆ™è°ƒç”¨callbackQueueæ¥æ‰§è¡ŒflushBatchedUpdateså‡½æ•°æ¥æ›´æ–°ç»„ä»¶ï¼Œç„¶åŽè®¾ç½®æ›´æ–°çŠ¶æ€ä¸ºtrueï¼Œå°†å½“å‰çŠ¶æ€å’Œç»„ä»¶æ·»åŠ åˆ°batchingUpdatesä¸­ï¼Œæœ€åŽåˆ¤æ–­dirtyComponentä¸­æ˜¯å¦æœ‰å½“å‰ç»„ä»¶ï¼Œè‹¥æ— åˆ™æ·»åŠ è¿›åŽ» callbackQueueä½¿ç”¨äº†Promiseæ¥è¾¾åˆ°å»¶æ—¶æ¨¡æ‹ŸsetStateçš„åŠŸèƒ½ 1234567891011121314151617181920212223242526// src/react/StateQueue.jsfunction flushBatchedUpdates()&#123; let queueItem, componentItem; while(queueItem = batchingUpdates.shift())&#123; const &#123; partialState, component &#125; = queueItem; if(!component.prevState)&#123; component.prevState = Object.assign(&#123;&#125;, partialState) &#125; if(typeof partialState == 'function')&#123; Object.assign(component.state, partialState(component.prevState, component.props)) &#125;else&#123; Object.assign(component.state, partialState) &#125; component.prevState = component.state &#125; while(componentItem = dirtyComponent.shift())&#123; renderComponent(componentItem) &#125; isbatchingUpdates = false&#125; éåŽ†batchingUpdatesæ•°ç»„æŽ’å¤´(shiftè‡ªæŸ¥)ï¼ŒèŽ·å–å…¶ä¸­ç»„ä»¶å’ŒçŠ¶æ€ï¼Œåˆ¤æ–­ç»„ä»¶çš„å‰ä¸€ä¸ªçŠ¶æ€ï¼Œè‹¥æ— ä¹‹å‰çš„çŠ¶æ€ï¼Œåˆ™å°†ç©ºå¯¹è±¡å’Œå½“å‰çŠ¶æ€åˆå¹¶è®¾ä¸ºè¯¥ç»„ä»¶çš„åˆå§‹çŠ¶æ€ï¼Œè‹¥ðŸ’°ä¸€çŠ¶æ€ä¸ºfunctionï¼Œåˆ™è°ƒç”¨è¯¥å‡½æ•°å¹¶å°†è¿”å›žå€¼å’Œä¹‹å‰çŠ¶æ€åˆå¹¶ï¼Œè‹¥ä¸ä¸ºå‡½æ•°åˆ™ç›´æŽ¥åˆå¹¶ï¼Œç„¶åŽè®¾ç½®ç»„ä»¶çš„ä¸Šä¸€çŠ¶æ€ä¸ºå…¶ä¹‹å‰çš„çŠ¶æ€ï¼Œæœ€åŽéåŽ†dirtyComponentæ›´æ–°ç»„ä»¶ï¼Œå®ŒæˆåŽè®¾ç½®isbatchingUpdatesä¸ºfalse è‡³æ­¤ï¼ŒåŸºæœ¬åŠŸèƒ½å®Œæˆ ä»£ç è¯·ç§»æ­¥GitHubä»“åº“]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Reactæºç è‡ªé˜…è¯»(é•¿ç¯‡)]]></title>
    <url>%2F2018%2F04%2F18%2FReact%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB-1%E7%99%BD%E8%AF%9D%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯å‡†å¤‡æœ‰æ—¶é—´å†™ä¸€ä¸ªç±»reactçš„æ¡†æž¶ï¼Œæ‰€ä»¥å…ˆè¯»ä¸€ä¸‹reactçš„æºç  å¼€å§‹è¿™é‡Œå…ˆè‡ªå·±ç”¨parcelç®€å•æ­å»ºäº†ä¸€ä¸ªReactçŽ¯å¢ƒåˆéšä¾¿å†™äº†ç‚¹ç»„ä»¶ ç»„ä»¶1234567891011121314151617181920import React, &#123; Component &#125; from 'react';import MyNav from '../components/MyNav'class MainContainer extends Component &#123; componentDidMount()&#123; console.log(&lt;MyNav&gt;&lt;/MyNav&gt;) &#125; render() &#123; return ( &lt;div&gt; &lt;MyNav&gt;&lt;/MyNav&gt; &lt;/div&gt; ); &#125;&#125;export default MainContainer; è¿™é‡Œéšä¾¿å†™äº†ä¸€ä¸ªJs, ç„¶åŽæ‰“å°äº†ä¸€ä¸‹MyNavç»„ä»¶ å¾ˆæ˜Žæ˜¾è¿™æ˜¯ä¸€ä¸ªJså¯¹è±¡è€Œä¸æ˜¯Dom å¦‚æžœåœ¨é‡Œé¢åµŒå¥—ä¸€ä¸ªå­å…ƒç´ â€¦ console.log(&lt;MyNav&gt;&lt;div&gt;Hello&lt;/div&gt;&lt;/MyNav&gt;) æˆ‘ä»¬ä¼šå‘çŽ°åœ¨propsé‡Œå¤šäº†ä¸€ä¸ªchildrenæˆå‘˜ï¼ŒåŒæ ·ä¹Ÿæ˜¯ä¸€ä¸ªJSå¯¹è±¡ å¦‚æžœå†å¤šåµŒå¥—ä¸€ä¸‹çš„è¯(è¿™é‡Œå†™çš„å¥½çœ‹ç‚¹) 12345678console.log( &lt;MyNav&gt; &lt;div&gt; Hello &lt;span&gt;React&lt;/span&gt; &lt;/div&gt; &lt;/MyNav&gt;) å¯ä»¥çœ‹åˆ°è¿™é‡Œä¼šåœ¨propsé‡Œé¢æ— é™çš„å¥—ä¸‹åŽ»ï¼ŒåŒæ—¶å¦‚æžœä¸€ä¸ªå…ƒç´ å†…åµŒäº†å¤šä¸ªå­å…ƒç´ çš„è¯ï¼Œè¿™äº›å­å…ƒç´ åœ¨propsçš„childrené‡Œä¼šä»¥æ•°ç»„çš„æ–¹å¼å­˜åœ¨ åœ¨è¿™é‡Œä¸ç¦å”±èµ·ï¼šå¥—é©¬æ»´æ±‰å­ä½ å¨æ­¦é›„å£®~ é‚£æˆ‘ä»¬ä¸å¦‚å°±é¡ºç€è¿™ä¸ªé—®é¢˜æ·±å…¥ï¼Œå…ˆçœ‹ä¸€ä¸‹React.js 12345678const React = &#123; ...... //çœç•¥ Component, createElement: __DEV__ ? createElementWithValidation : createElement, ...... //çœç•¥&#125; æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹Component 123456789101112/* node_modules/react/cjs/react.development.js*/function Component(props, context, updater) &#123; this.props = props; this.context = context; this.refs = emptyObject; // We initialize the default updater but the real one gets injected by the // renderer. this.updater = updater || ReactNoopUpdateQueue;&#125; ç»„ä»¶extendsçš„Componentså°±æ˜¯ç»§æ‰¿çš„è¿™çŽ©æ„ è¿™é‡Œæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œä¸€ä¸ªæž„é€ å‡½æ•°ï¼Œé‡ç‚¹æ˜¯çœ‹çœ‹é‚£ä¸ªchildrenåˆ°åº•æ˜¯æ€Žä¹ˆä¸ªå›žäº‹ ç„¶åŽçœ‹ä¸€å“ˆcreateElement 123456789101112131415161718192021222324252627282930313233343536373839/* node_modules/react/cjs/react.development.js*/function createElement(type, config, children) &#123; var propName; // Reserved names are extracted var props = &#123;&#125;; var key = null; var ref = null; var self = null; var source = null; ..... // çœç•¥ // Children can be more than one argument, and those are transferred onto // the newly allocated props object. var childrenLength = arguments.length - 2; if (childrenLength === 1) &#123; props.children = children; &#125; else if (childrenLength &gt; 1) &#123; var childArray = Array(childrenLength); for (var i = 0; i &lt; childrenLength; i++) &#123; childArray[i] = arguments[i + 2]; &#125; &#123; if (Object.freeze) &#123; Object.freeze(childArray); &#125; &#125; props.children = childArray; &#125; ...... //çœç•¥ return ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);&#125; ä¸œè¥¿éƒ½åœ¨è¿™é‡Œï¼Œä»£ç ä¹Ÿå¾ˆå®¹æ˜“ç†è§£ï¼Œè¿™é‡Œåˆå§‹åŒ–äº†ä¸€å †ä¸œè¥¿ï¼ˆä½ å¯ä»¥å¾ˆæ¸…æ™°çš„çœ‹åˆ°childrençš„å¤„ç†æ–¹å¼)ï¼Œæœ€åŽç”¨ReactElementè¿™ä¸ªå·¥åŽ‚å‡½æ•°è¿”å›žä¸€ä¸ªReactå…ƒç´  Object.freezeè¿™é‡Œå°±ä¸è®²äº† æœ‰å…´è¶£çš„åŽ»ç™¾åº¦ä¸€å“ˆ é‚£ä¹ˆé—®é¢˜æ¥äº†..Componentæ˜¯ç»§æ‰¿æ¥çš„ï¼Œé‚£è¿™ä¸ªcreateElementæ˜¯ä»€ä¹ˆæ—¶å€™æ‰§è¡Œçš„å‘¢? å¸¸è§„æ€è·¯æ˜¯åœ¨renderé‡Œ, é‚£å°±åŽ»çœ‹ä¸€ä¸‹ 1234567891011121314151617181920212223242526272829303132333435363738394041424344var ReactMount = &#123; /**å…¥å£renderæ–¹æ³• * @param &#123;ReactElement&#125; nextElement è¦æ’å…¥åˆ°DOMä¸­çš„ç»„ä»¶ * @param &#123;DOMElement&#125; container è¦æ’å…¥åˆ°çš„å®¹å™¨ * @param &#123;?function&#125; callback å›žè°ƒ * @return &#123;ReactComponent&#125; Component instance rendered in `container`.è¿”å›žReactComponent */ render: function (nextElement, container, callback) &#123; return ReactMount._renderSubtreeIntoContainer( null, nextElement, container, callback, ); &#125;, ...... /** * å°†ReactElementæ’å…¥DOMä¸­ï¼Œå¹¶è¿”å›žReactElementå¯¹åº”çš„ReactComponentã€‚ * ReactElementæ˜¯Reactå…ƒç´ åœ¨å†…å­˜ä¸­çš„è¡¨ç¤ºå½¢å¼ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæ•°æ®ç±»ï¼ŒåŒ…å«typeï¼Œkeyï¼Œrefsï¼Œpropsç­‰æˆå‘˜å˜é‡ * ReactComponentæ˜¯Reactå…ƒç´ çš„æ“ä½œç±»ï¼ŒåŒ…å«mountComponent(), updateComponent()ç­‰å¾ˆå¤šæ“ä½œç»„ä»¶çš„æ–¹æ³• */ /* parentComponent: å½“å‰ç»„ä»¶çš„çˆ¶ç»„ä»¶ nextElement: è¦æ’å…¥çš„ç»„ä»¶ container: è¦æ’å…¥çš„å®¹å™¨ callback: å›žè°ƒå‡½æ•° */ _renderSubtreeIntoContainer: function ( parentComponent, nextElement, container, callback, ) &#123; callback = callback === undefined ? null : callback; var nextWrappedElement = React.createElement(TopLevelWrapper, &#123; child: nextElement, &#125;); &#125; ......&#125; åœ¨renderé‡Œå¯ä»¥çœ‹åˆ°ç”¨Reactçš„æˆå‘˜æ–¹æ³•createElementåˆ›å»ºäº†ä¸€ä¸ªå…ƒç´ è¿”å›žç»™äº†nextWrappedElement æˆ‘ä»¬è·Ÿè¸ªä¸€ä¸‹nextWrappedElement 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748// èŽ·å–è¦æ’å…¥åˆ°çš„å®¹å™¨çš„å‰ä¸€æ¬¡çš„ReactComponentï¼Œè¿™æ˜¯ä¸ºäº†åšDOM diffvar prevComponent = getTopLevelWrapperInContainer(container);if (prevComponent) &#123; var prevWrappedElement = prevComponent._currentElement; var prevElement = prevWrappedElement.props.child; // shouldUpdateReactComponentæ–¹æ³•åˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–°,å®ƒåªå¯¹åŒä¸€DOMå±‚çº§ï¼Œtypeç›¸åŒï¼Œkey(å¦‚æžœæœ‰)ç›¸åŒçš„ç»„ä»¶åšDOM diffï¼Œ if (shouldUpdateReactComponent(prevElement, nextElement)) &#123; var publicInst = prevComponent._renderedComponent.getPublicInstance(); var updatedCallback = callback &amp;&amp; function () &#123; validateCallback(callback); callback.call(publicInst); &#125;; ReactMount._updateRootComponent( prevComponent, nextWrappedElement, nextContext, container, updatedCallback, ); return publicInst; &#125; else &#123; //ç›´æŽ¥unmount ReactMount.unmountComponentAtNode(container); &#125; // å¯¹äºŽReactDOM.render()è°ƒç”¨ï¼ŒprevComponentä¸ºnull var reactRootElement = getReactRootElementInContainer(container); var containerHasReactMarkup = reactRootElement &amp;&amp; !!internalGetID(reactRootElement); var containerHasNonRootReactChild = hasNonRootReactChild(container); var shouldReuseMarkup = containerHasReactMarkup &amp;&amp; !prevComponent &amp;&amp; !containerHasNonRootReactChild; var component = ReactMount._renderNewRootComponent( nextWrappedElement, container, shouldReuseMarkup, nextContext, callback, )._renderedComponent.getPublicInstance(); return component;&#125; ç®€å•æ¢³ç†ä¸€ä¸‹è¿™ä¸ªå‡½æ•°: å…ˆæ‹¿åˆ°å‰ä¸€æ¬¡çš„ReactComponentåšdom diffï¼Œç„¶åŽshouldUpdateReactComponentåˆ¤æ–­ä¸€ä¸‹æ˜¯å¦éœ€è¦æ›´æ–°ï¼Œå¦‚æžœéœ€è¦çš„è¯å°±diffä¹‹åŽ_updateRootComponentï¼Œå¦åˆ™ç›´æŽ¥å¸è½½ï¼›ç„¶åŽè°ƒç”¨_renderNewRootComponentæ¸²æŸ“æ–°çš„ç»„ä»¶ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°éƒ½æœ‰ä¸Šæ–‡æåˆ°çš„nextWrappedElementä½œä¸ºå‚æ•° åˆ°è¿™é‡Œé—®é¢˜å·®ä¸å¤šå°±è§£å†³å•¦ï¼Œä¸è¿‡æˆ‘å†³å®šå¼„ä¸ªå›¾æ¥ç›´è§‚çš„è¡¨çŽ°ä¸€å“ˆ è‡³äºŽinstantiateReactComponentåˆ›å»ºçš„å››ç§ç»„ä»¶æ„Ÿè§‰æ²¡ä»€ä¹ˆæ·±å…¥çš„å¿…è¦ï¼Œè¿™é‡Œå°±ä¸è®¨è®ºäº† äº‹åŠ¡ä¸Šé¢ç»„ä»¶é‚£ä¸€èŠ‚è®¨è®ºçš„Componentä¸‹é¢è¿˜æœ‰å‡ è¡Œä»£ç  123456Component.prototype.setState = function(partialState, callback) &#123; this.updater.enqueueSetState(this, partialState); if (callback) &#123; this.updater.enqueueCallback(this, callback, 'setState'); &#125; &#125;; è¿™é‡Œä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«ä¸ºæ–°çš„stateå’Œå›žè°ƒå‡½æ•°ï¼Œè¿™é‡Œçš„updateræ˜¯åœ¨Componentä¸­å®šä¹‰çš„this.updater = updater || ReactNoopUpdateQueue è¿™é‡Œæˆ‘ä»¬çœ‹ä¸€ä¸‹enqueueSetStateæ˜¯å•¥ 12345678910111213141516enqueueSetState: function(publicInstance, partialState)&#123; var internalInstance = getInternalInstanceReadyForUpdate( publicInstance, 'setState' ); if (!internalInstance) &#123; return; &#125; // æ›´æ–°é˜Ÿåˆ—åˆå¹¶æ“ä½œ var queue = internalInstance._pendingStateQueue || (internalInstance._pendingStateQueue = []); queue.push(partialState); enqueueUpdate(internalInstance); &#125; getInternalInstanceReadyForUpdateèŽ·å–äº†å½“å‰ç»„ä»¶å¹¶èµ‹ç»™äº†internalInstanceï¼Œç„¶åŽåˆ¤æ–­internalInstanceçš„_pendingStateQueue(stateæ›´æ–°é˜Ÿåˆ—)æ˜¯å¦ä¸ºç©ºï¼Œè‹¥ä¸ºç©ºåˆ™åˆå§‹åŒ–ä¸ºæ•°ç»„ï¼Œç„¶åŽå°†partialStateå³æ–°çš„stateæŽ¨å…¥ï¼Œç„¶åŽè°ƒç”¨enqueueUpdate 123456789function enqueueUpdate(component) &#123; if (!batchingStrategy.isBatchingUpdates) &#123; batchingStrategy.batchedUpdates(enqueueUpdate, component); return; &#125; dirtyComponents.push(component); &#125; å½“batchingStrategy.isBatchingUpdatesä¸ºfalseï¼Œå³ä¸å¤„äºŽæ›´æ–°çŠ¶æ€çš„æ—¶å€™ï¼Œè°ƒç”¨batchedUpdateså¯¹ç»„ä»¶è¿›è¡Œæ›´æ–°ï¼Œå¦åˆ™å°†ç»„ä»¶æŽ¨å…¥dirtyComponentsä¸­ ä½†æ˜¯è®©æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹batchingStrategyæ˜¯ä¸ªå•¥.. 1234567891011121314var ReactDefaultBatchingStrategy = &#123; isBatchingUpdates: false, batchedUpdates: function(callback, a, b, c, d, e) &#123; var alreadyBatchingUpdates = ReactDefaultBatchingStrategy.isBatchingUpdates; ReactDefaultBatchingStrategy.isBatchingUpdates = true; if (alreadyBatchingUpdates) &#123; callback(a, b, c, d, e); &#125; else &#123; transaction.perform(callback, null, a, b, c, d, e); &#125; &#125;,&#125; è¿™é‡Œåˆå§‹çŠ¶æ€ä¸ºfalseï¼Œåœ¨batchedUpdatesä¸­æ‹¿åˆ°æ­¤æ—¶ReactDefaultBatchingStrategyçš„isBatchingUpdatesèµ‹ç»™alreadyBatchingUpdatesï¼Œç„¶åŽå°†å…¶è®¾ç½®ä¸ºtrue;å¦‚æžœalreadyBatchingUpdatesä¸ºtrueåˆ™ç›´æŽ¥æ‰§è¡Œå›žè°ƒå‡½æ•°ï¼Œå¦åˆ™è¿›è¡Œtransaction.perform Transactionä¸Šé¢éƒ½æ˜¯é“ºåž«ï¼Œè¿™é‡Œå°±è¿›å…¥çœŸæ­£çš„äº‹åŠ¡é‡Œäº†~ å…ˆæ”¾ä¸€å¼ å®˜æ–¹æºç çš„è§£æžå›¾  äº‹åŠ¡å°±æ˜¯æŠŠæ–¹æ³•ç”¨wrapperå°è£…èµ·æ¥ï¼Œå†é€šè¿‡äº‹åŠ¡çš„performæ–¹æ³•è¿›è¡Œè°ƒç”¨ï¼Œä»Žå›¾é‡Œå¯ä»¥çœ‹å‡ºåœ¨æ‰§è¡Œè¢«åŒ…è£¹çš„æ–¹æ³•å‰åŽåˆ†åˆ«æ‰§è¡Œinitializeå’Œcloseï¼Œä¸€ç»„initializeå’Œcloseæ–¹æ³•ç§°ä¸ºä¸€ä¸ªwrapperï¼Œäº‹åŠ¡æ”¯æŒå¤šä¸ªwrapperå åŠ  ä¸Šæ–‡çš„perform(callback)å³perform(enqueueUpdate)ï¼Œè¿™é‡Œå†æ”¾ä¸€å¼ ç½‘ä¸Šéšä¾¿å·æ¥çš„æµç¨‹å›¾å¸®åŠ©ç†è§£ æˆ‘ä»¬çœ‹ä¸€ä¸‹ä¸Šæ–‡çš„ä¸¤ä¸ªwrapper 12345678910111213var RESET_BATCHED_UPDATES = &#123; initialize: emptyFunction, close: function()&#123; ReactDefaultBatchingStrategy.isBatchingUpdates = false &#125;&#125;var FLUSH_BATCHED_UPDATES = &#123; initialize: emptyFunction, close: function()&#123; ReactUpdates.flushBatchedUpdates.bind(ReactUpdates) &#125;&#125; RESET_BATCHED_UPDATESå³æ˜¯ä¸€ä¸ªwrapperï¼Œä»Žå›¾å¯ä»¥çœ‹å‡ºå®ƒåº”è¯¥æ˜¯ç”¨æ¥ä¿®æ”¹isBatchingUpdatesçš„å€¼ï¼Œéœ€è¦æ›´æ–°çš„æ—¶å€™è®¾ç½®ä¸ºæ›´æ–°ï¼Œæ›´æ–°ç»“æŸåŽæ¢å¤çŠ¶æ€ï¼Œè¿™æ ·ä¸ä»…å¯ä»¥èŠ‚çœæ¸²æŸ“ï¼Œè¿˜èƒ½é˜²æ­¢enqueueUpdateçš„é€’å½’è°ƒç”¨å¯¼è‡´æ­»å¾ªçŽ¯ é‚£ä¹ˆåœ¨dirtyComponentsä¸­æ˜¯å¦‚ä½•è¿›è¡Œç»„ä»¶æ›´æ–°çš„å‘¢? è¿™é‡Œæ¶‰åŠåˆ°å¦ä¸€ä¸ªwrapperå³FLUSH_BATCHED_UPDATESï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹flushBatchedUpdates 12345678910var flushBatchedUpdates = function() &#123; while(dirtyComponents.length || asapEnqueued)&#123; if(dirtyComponents.length)&#123; var transaction = ReactUpdatesFlushTransaction.getPooled() transaction.perform(runBatchedUpdates,null,transaction) ReactUpdatesFlushTransaction.release(transaction) &#125; ...... &#125;&#125; flushBatchedUpdateséåŽ†äº†dirtyComponentsï¼Œç„¶åŽç”¨äº‹åŠ¡æ‰§è¡ŒrunBatchedUpdatesæ–¹æ³• æœäº†ä¸€ä¸‹ï¼Œè¿™ä¸ªå‡½æ•°ä¸»è¦æ‰§è¡Œä»¥ä¸‹ä¸¤æ­¥ ä¸€æ˜¯é€šè¿‡æ‰§è¡ŒupdateComponentæ–¹æ³•æ¥æ›´æ–°ç»„ä»¶ äºŒæ˜¯è‹¥setStateæ–¹æ³•ä¼ å…¥äº†å›žè°ƒå‡½æ•°åˆ™å°†å›žè°ƒå‡½æ•°å­˜å…¥callbackQueueé˜Ÿåˆ— å…ˆçœ‹ä¸€ä¸‹updateComponentæºç  èƒ½çœ‹åˆ°ä¸¤ä¸ªæ¯”è¾ƒé‡è¦çš„å‡½æ•°åcomponentWillReceivePropså’ŒshouldComponentUpdateï¼Œä½†æ˜¯æ ¹æ®nextStateè®©æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹_processPendingStateè¿™ä¸ªå‡½æ•° ç†è§£ä¸€ä¸‹: æ›´æ–°é˜Ÿåˆ—ä¸ºnullåˆ™ç›´æŽ¥è¿”å›žåŽŸæ¥state è‹¥é˜Ÿåˆ—ä¸ä¸ºnullåˆ™è¿”å›ž(å¤§äºŽ1åˆ™åˆå¹¶) åœ¨updateComponentä¸­ï¼Œå¦‚æžœshouldUpdateä¸ºtrue,åˆ™æ‰§è¡Œ_performComponentUpdate è¿™é‡Œèƒ½çœ‹åˆ°componentWillUpdateè¿™ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œæ²¡ä»€ä¹ˆæ·±å…¥çš„å¿…è¦ï¼Œæˆ‘ä»¬çœ‹çœ‹ä¸Šæ–‡ä¸­æœ€åŽçš„æ›´æ–°å‡½æ•°_updateRenderedComponent æ‹¿åˆ°æ–°æ—§ç»„ä»¶ä¿¡æ¯åŽä¼ ç»™shouldUpdateReactComponentï¼Œæ ¹æ®è¿”å›žå€¼true or falseå†³å®šæ˜¯æ›´æ–°æ—§ç»„ä»¶è¿˜æ˜¯å¸è½½æ—§ç»„ä»¶æŒ‚è½½æ–°ç»„ä»¶]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
        <tag>æºç </tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¾è®¡æ¨¡å¼ä¹‹MVC,MVP,MVVM]]></title>
    <url>%2F2018%2F04%2F16%2FMVC-MVVM-MVP%2F</url>
    <content type="text"><![CDATA[MVCMVCæ˜¯æ¨¡åž‹(Model)ï¼è§†å›¾(View)ï¼æŽ§åˆ¶å™¨(Controller)çš„ç¼©å†™ï¼Œæ˜¯è®¾è®¡æ¨¡å¼ä¸­æœ€å¸¸ç”¨çš„è½¯ä»¶æž¶æž„ Modelï¼šæ¨¡åž‹ï¼Œæ‰¿è½½æ•°æ®ï¼Œå¹¶å¯¹ç”¨æˆ·æäº¤è¯·æ±‚è¿›è¡Œè®¡ç®—çš„æ¨¡å—ã€‚å…¶åˆ†ä¸ºä¸¤ç±»ï¼Œä¸€ç±»ç§°ä¸ºæ•°æ®æ‰¿è½½Beanï¼Œä¸€ç±»ç§°ä¸ºä¸šåŠ¡å¤„ç†Beanã€‚æ‰€è°“æ•°æ®æ‰¿è½½Beanæ˜¯æŒ‡å®žä½“ç±»ï¼Œä¸“é—¨æ‰¿è½½ä¸šåŠ¡æ•°æ®çš„ï¼Œå¦‚Studentã€Userç­‰ã€‚è€Œä¸šåŠ¡å¤„ç†Beanåˆ™æ˜¯æŒ‡Serviceæˆ–Daoå¯¹è±¡ï¼Œä¸“é—¨ç”¨äºŽå¤„ç†ç”¨æˆ·æäº¤è¯·æ±‚çš„ Viewï¼šè§†å›¾ï¼Œä¸ºç”¨æˆ·æä¾›ä½¿ç”¨ç•Œé¢ï¼Œä¸Žç”¨æˆ·ç›´æŽ¥è¿›è¡Œäº¤äº’ã€‚ Controllerï¼šæŽ§åˆ¶å™¨ï¼Œç”¨äºŽå°†ç”¨æˆ·è¯·æ±‚è½¬å‘ç»™ç›¸åº”çš„Modelè¿›è¡Œå¤„ç†ï¼Œå¹¶å¤„ç†Modelçš„è®¡ç®—ç»“æžœå‘ç”¨æˆ·æä¾›ç›¸åº”å“åº” MVCä¸­åªæœ‰å•å‘é€šä¿¡ ç”¨æˆ·é€šè¿‡Viewé¡µé¢å‘æœåŠ¡ç«¯æå‡ºè¯·æ±‚ï¼Œå¯ä»¥æ˜¯è¡¨å•è¯·æ±‚ã€è¶…é“¾æŽ¥è¯·æ±‚ã€AJAXè¯·æ±‚ç­‰ æœåŠ¡ç«¯ControlleræŽ§åˆ¶å™¨æŽ¥æ”¶åˆ°è¯·æ±‚åŽå¯¹è¯·æ±‚è¿›è¡Œè§£æžï¼Œæ‰¾åˆ°ç›¸åº” çš„Modelå¯¹ç”¨æˆ·è¯·æ±‚è¿›è¡Œå¤„ç† Modelå¤„ç†åŽï¼Œå°†å¤„ç†ç»“æžœå†äº¤ç»™Controller Controlleråœ¨æŽ¥åˆ°å¤„ç†ç»“æžœåŽï¼Œæ ¹æ®å¤„ç†ç»“æžœæ‰¾åˆ°è¦ä½œä¸ºå‘å®¢æˆ·ç«¯å‘å›žçš„å“åº”Viewé¡µé¢ã€‚é¡µé¢ç»æ¸²æŸ“ï¼ˆæ•°æ®å¡«å……ï¼‰åŽï¼Œå†å‘é€ç»™å®¢æˆ·ç«¯ MVPMVPæ˜¯Model-View-Presenterï¼Œå³å°†MVCä¸­çš„æŽ§åˆ¶å™¨Controlleræ¢æˆäº†Presenterè´Ÿè´£é€»è¾‘çš„å¤„ç† Presenter: ä¸­ä»‹è€…ï¼Œè¿žæŽ¥Modelå’ŒViewå±‚ MVCå’ŒMVPçš„åŒºåˆ«æ˜¯ï¼šåœ¨MVPä¸­Viewå¹¶ä¸ç›´æŽ¥ä½¿ç”¨Modelï¼Œå®ƒä»¬ä¹‹é—´çš„é€šä¿¡æ˜¯é€šè¿‡Presenter (MVCä¸­çš„Controller)æ¥è¿›è¡Œçš„ï¼Œæ‰€æœ‰çš„äº¤äº’éƒ½å‘ç”Ÿåœ¨Presenterå†…éƒ¨ï¼Œè€Œåœ¨MVCä¸­Viewä¼šç›´æŽ¥ä»ŽModelä¸­è¯»å–æ•°æ®è€Œä¸æ˜¯é€šè¿‡ Controller å„éƒ¨åˆ†ä¹‹é—´éƒ½æ˜¯åŒå‘é€šä¿¡ View æŽ¥æ”¶ç”¨æˆ·äº¤äº’è¯·æ±‚ View å°†è¯·æ±‚è½¬äº¤ç»™ Presenter Presenter æ“ä½œModelè¿›è¡Œæ•°æ®æ›´æ–° Model é€šçŸ¥Presenteræ•°æ®å‘ç”Ÿå˜åŒ– Presenter æ›´æ–°Viewæ•°æ® MVVMMVVMæ˜¯Model-View-ViewModelï¼Œå’ŒMVPçš„åŒºåˆ«åœ¨äºŽPresenteræ¢æˆäº†ViewModelè´Ÿè´£é€»è¾‘å¤„ç† Model å±‚ï¼Œå¯¹åº”æ•°æ®å±‚çš„åŸŸæ¨¡åž‹ï¼Œå®ƒä¸»è¦åšåŸŸæ¨¡åž‹çš„åŒæ­¥ã€‚é€šè¿‡ Ajax/fetch ç­‰ API å®Œæˆå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¸šåŠ¡ Model çš„åŒæ­¥ã€‚åœ¨å±‚é—´å…³ç³»é‡Œï¼Œå®ƒä¸»è¦ç”¨äºŽæŠ½è±¡å‡º ViewModel ä¸­è§†å›¾çš„ Model View å±‚ï¼Œä½œä¸ºè§†å›¾æ¨¡æ¿å­˜åœ¨ï¼Œåœ¨ MVVM é‡Œï¼Œæ•´ä¸ª View æ˜¯ä¸€ä¸ªåŠ¨æ€æ¨¡æ¿ã€‚é™¤äº†å®šä¹‰ç»“æž„ã€å¸ƒå±€å¤–ï¼Œå®ƒå±•ç¤ºçš„æ˜¯ ViewModel å±‚çš„æ•°æ®å’ŒçŠ¶æ€ã€‚View å±‚ä¸è´Ÿè´£å¤„ç†çŠ¶æ€ï¼ŒView å±‚åšçš„æ˜¯ æ•°æ®ç»‘å®šçš„å£°æ˜Žã€ æŒ‡ä»¤çš„å£°æ˜Žã€ äº‹ä»¶ç»‘å®šçš„å£°æ˜Ž ViewModel å±‚æŠŠ View éœ€è¦çš„å±‚æ•°æ®æš´éœ²ï¼Œå¹¶å¯¹ View å±‚çš„ æ•°æ®ç»‘å®šå£°æ˜Žã€ æŒ‡ä»¤å£°æ˜Žã€ äº‹ä»¶ç»‘å®šå£°æ˜Ž è´Ÿè´£ï¼Œä¹Ÿå°±æ˜¯å¤„ç† View å±‚çš„å…·ä½“ä¸šåŠ¡é€»è¾‘ã€‚ViewModel åº•å±‚ä¼šåšå¥½ç»‘å®šå±žæ€§çš„ç›‘å¬ã€‚å½“ ViewModel ä¸­æ•°æ®å˜åŒ–ï¼ŒView å±‚ä¼šå¾—åˆ°æ›´æ–°ï¼›è€Œå½“ View ä¸­å£°æ˜Žäº†æ•°æ®çš„åŒå‘ç»‘å®šï¼ˆé€šå¸¸æ˜¯è¡¨å•å…ƒç´ ï¼‰ï¼Œæ¡†æž¶ä¹Ÿä¼šç›‘å¬ View å±‚ï¼ˆè¡¨å•ï¼‰å€¼çš„å˜åŒ–ã€‚ä¸€æ—¦å€¼å˜åŒ–ï¼ŒView å±‚ç»‘å®šçš„ ViewModel ä¸­çš„æ•°æ®ä¹Ÿä¼šå¾—åˆ°è‡ªåŠ¨æ›´æ–° MVVMçš„ä¼˜ç‚¹æ˜¯ä½Žè€¦åˆã€å¯é‡ç”¨æ€§ã€ç‹¬ç«‹å¼€å‘ åŒçº¿æ•°æ®ç»‘å®š View æŽ¥æ”¶ç”¨æˆ·äº¤äº’è¯·æ±‚ View å°†è¯·æ±‚è½¬äº¤ç»™ViewModel ViewModel æ“ä½œModelæ•°æ®æ›´æ–° Model æ›´æ–°å®Œæ•°æ®ï¼Œé€šçŸ¥ViewModelæ•°æ®å‘ç”Ÿå˜åŒ– ViewModel æ›´æ–°Viewæ•°æ®]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Git Camp - ç®€æ˜ŽGitå…¥é—¨|ç¬”è®°è®°å½•]]></title>
    <url>%2F2018%2F04%2F15%2FGit-Camp-%E7%AE%80%E6%98%8EGit%E5%85%A5%E9%97%A8-%E7%AC%94%E8%AE%B0%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[What is Git ?Super popular Version Conntrol System Reasons to Love Git HistoryManage history CollaborationNo waiting,Continue working Feature branchesBranches Tree Why should we learn Git?No Why Where do we begin1234567891011mkdir coding-netcd coding-nettouch index.htmlgit initgit add .git commit -m 'init' History Back 123git status //æŸ¥çœ‹ä¸€ä¸‹çŠ¶æ€ git checkout -- . å¦‚æžœæ­¤æ—¶ä½ ç”µè„‘åäº†è¿˜èƒ½æ‰¾å›žä¹ˆ? ä¸èƒ½ï¼Œå› ä¸ºçŽ°åœ¨è¿˜åªæ˜¯æœ¬åœ°çŠ¶æ€ï¼Œä¸€åˆ‡éƒ½åªçŽ°å­˜åœ¨ä½ ç”µè„‘é‡Œ Solution: Push æ’æ›²Svn å’Œ Git æ‹¥æœ‰æƒé™ç®¡ç†çš„åŠŸèƒ½ï¼Œæ¯ä¸ªäººåªèƒ½çœ‹åˆ°ç®¡ç†å‘˜å…è®¸è‡ªå·±çœ‹åˆ°çš„ä»£ç ï¼Œä½†æ˜¯å½“SvnæœåŠ¡å™¨æŒ‚æŽ‰åŽï¼Œæ¯ä¸ªäººåªæœ‰éƒ¨åˆ†çš„ä»£ç ï¼Œä½†æ˜¯Gitä¸­æ¯ä¸ªäººéƒ½æœ‰å…¨éƒ¨çš„ä»£ç  Masteræ‚é¡¹ MasteræŒ‡å‘å¯ä»¥è§„å®š Masterä¸ŽBranchå¹³çº§ CloneåŽHeadæŒ‡å‘Master Branchæ‚é¡¹12345git branch -b feature //åˆ›å»ºå¹¶åˆ‡æ¢åˆ°featureåˆ†æ”¯git checkout master //åˆ‡æ¢åˆ°Mastergit branch -D xxx //åˆ é™¤xxxåˆ†æ”¯ å¦‚æžœåˆ é™¤featureåˆ†æ”¯ï¼Œé‚£ä¹ˆè¿™ä¸ªèŠ‚ç‚¹è¿˜å­˜åœ¨ä¹ˆ? å­˜åœ¨ï¼Œfeatureåªæ˜¯ä¸€ä¸ªæŒ‡å‘è¯¥èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œåˆ é™¤åŽèŠ‚ç‚¹ä¾ç„¶å­˜åœ¨ï¼Œåªä¸è¿‡æ²¡æœ‰æŒ‡é’ˆæŒ‡å‘å®ƒï¼Œæœ€åŽä¼šè¢«Gitåžƒåœ¾å›žæ”¶æœºåˆ¶æ¸…ç† åˆ†æ”¯æäº¤ 12345git push origin // å°†å½“å‰åˆ†æ”¯æŽ¨é€åˆ°originä¸»æœºçš„å¯¹åº”åˆ†æ”¯git push origin aaa:bbb //è¿œç¨‹åˆ›å»ºbbbåˆ†æ”¯å¹¶å°†aaaæŽ¨å…¥git push -u origin master // å°†æœ¬åœ°çš„masteråˆ†æ”¯æŽ¨é€åˆ°originä¸»æœºï¼ŒåŒæ—¶æŒ‡å®šoriginä¸ºé»˜è®¤ä¸»æœºï¼ŒåŽé¢å°±å¯ä»¥ä¸åŠ ä»»ä½•å‚æ•°ä½¿ç”¨git pushäº† å› ä¸ºæ˜¯å…¥é—¨çš„Git Campï¼Œè™½ç„¶è‡ªå·±éƒ½ä¼šäº†ï¼Œä½†è¿˜æ˜¯æ”¶èŽ·é¢‡å¤š è¿˜æ··äº†ä¸€ä¸ªæ´‹è‘±çŒ´..]]></content>
      <categories>
        <category>GIT</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¤§äºŒæ–°äººçš„ä¸€æ¬¡æœç‹å‰ç«¯å®žä¹ ç”µé¢]]></title>
    <url>%2F2018%2F04%2F13%2F%E4%B8%80%E6%AC%A1%E7%AE%80%E5%8D%95%E7%9A%84%E6%90%9C%E7%8B%90%E7%94%B5%E8%AF%9D%E9%9D%A2%E8%AF%95%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯æš‘å‡æƒ³æ‰¾ä¸€ä»½å®žä¹ ï¼Œç¢°å·§çœ‹åˆ°äº†å­¦é•¿çš„æœç‹å†…æŽ¨ï¼Œå°±æŠŠè‡ªå·±çš„æ²¡æœ‰è¯šæ„çš„ç®€åŽ†æŠ•äº†è¿‡åŽ»ï¼Œè¿‡äº†ä¸€ä¸ªå¤šæ˜ŸæœŸæ”¶åˆ°äº†ç”µè¯é¢è¯•çš„é‚®ä»¶(ååˆ†æ€€ç–‘æ˜¯å­¦é•¿é¢å­æ¯”è¾ƒå¤§)ã€‚ é—®é¢˜ è¿™é‡ŒåªæŒ‘å‡ ä¸ªé‡ç‚¹çš„é—®é¢˜è®°å½•ä¸€ä¸‹(æˆ‘è®°å¾—çš„..) Reactå’ŒVueç›¸åŒç‚¹ éƒ½ä½¿ç”¨äº†Virtual DOM ç»„ä»¶åŒ– ä¸åŒç‚¹ Reactä½¿ç”¨JSXæ¸²æŸ“é¡µé¢ï¼ŒVueä½¿ç”¨ç®€å•çš„æ¨¡æ¿ Reactä¸æ˜¯MVVM,è€ŒVueæ˜¯,æ‹¥æœ‰åŒå‘æ•°æ®ç»‘å®š,å…è®¸æ’å€¼è¡¨è¾¾å¼ Reactä¸­åªèƒ½ç”¨setStateä¿®æ”¹çŠ¶æ€,Vueä¸­å¯ç›´æŽ¥ä¿®æ”¹data React Nativeä¸ŽWeex Promise Promise æœ¬è´¨æ˜¯ä¸€ä¸ªçŠ¶æ€æœºã€‚æ¯ä¸ª promise åªèƒ½æ˜¯ 3 ç§çŠ¶æ€ä¸­çš„ä¸€ç§ï¼špendingã€fulfilled æˆ– rejectedã€‚çŠ¶æ€è½¬å˜åªèƒ½æ˜¯ pending -&gt; fulfilled æˆ–è€… pending -&gt; rejectedã€‚çŠ¶æ€è½¬å˜ä¸å¯é€† then æ–¹æ³•å¯ä»¥è¢«åŒä¸€ä¸ª promise è°ƒç”¨å¤šæ¬¡ then æ–¹æ³•å¿…é¡»è¿”å›žä¸€ä¸ª promiseã€‚è§„èŒƒé‡Œæ²¡æœ‰æ˜Žç¡®è¯´æ˜Žè¿”å›žä¸€ä¸ªæ–°çš„ promise è¿˜æ˜¯å¤ç”¨è€çš„ promiseï¼ˆå³ return thisï¼‰ï¼Œå¤§å¤šæ•°å®žçŽ°éƒ½æ˜¯è¿”å›žä¸€ä¸ªæ–°çš„ promiseï¼Œè€Œä¸”å¤ç”¨è€çš„ promiseå¯èƒ½æ”¹å˜å†…éƒ¨çŠ¶æ€ï¼Œè¿™ä¸Žè§„èŒƒä¹Ÿæ˜¯ç›¸è¿èƒŒçš„ å€¼ç©¿é€ è¿™é‡Œè¿˜é—®äº†ä¸€ä¸‹å…·ä½“å®žçŽ°ï¼Œæˆ‘åªç­”ä¸Šäº†nextTick() åŽŸåž‹é“¾ä¸¾ä¸ªä¾‹å­: åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šå¯»æ‰¾æˆå‘˜çš„æ—¶å€™ï¼Œå¦‚æžœæ²¡æœ‰æ‰¾åˆ°å°±ç»§ç»­é¡ºç€protoå¾€ä¸Šæ‰¾ï¼Œå¦‚æžœæœ€åŽæ²¡æ‰¾åˆ°å°±æŠ¥é”™(ç›´åˆ°Object.prototype)balabalaâ€¦ ç»§æ‰¿åŽŸåž‹é“¾ 12// B ç»§æ‰¿ AB.prototype = new A() Class 123456class B extends A&#123; constructor(props) &#123; //è°ƒç”¨å®žçŽ°çˆ¶ç±»çš„æž„é€ å‡½æ•° super(props); &#125;&#125; Undifined å’Œ Nullè¿™æ˜¯Jsçš„ä¸¤ä¸ªåŸºæœ¬ç±»åž‹..balabala.. ä»€ä¹ˆæ—¶å€™è¿™ä¸¤è€…ä¼šå‡ºçŽ°? Undifinedæ˜¯æœªèµ‹å€¼..å½“ä½ å®šä¹‰äº†ä¸€ä¸ªå˜é‡ä½†æ˜¯æ²¡èµ‹å€¼ï¼Œæˆ–è€…åƒæ˜¯å˜é‡æå‡è¿™ç§balabala.. Nullåœ¨æˆ‘çœ‹æ¥æ˜¯ä¸€ä¸ªæŒ‡å‘Objectçš„æŒ‡é’ˆ..å› ä¸ºTypeof Null = Objectbalabalaâ€¦ é¢è¯•å®˜: é‚£ä»€ä¹ˆæ—¶å€™Nullä¼šå‡ºçŽ°? æˆ‘TMç«Ÿç„¶æ²¡ç­”ä¸Šæ¥..å½“æ—¶å¿ƒé‡Œå°±æ˜¯ä¸€é˜µå‡‰å‡‰ï¼ŒåŽæ¥æˆ‘ä¸€æƒ³Nullä¸å°±æ˜¯æ²¡èµ‹å€¼çš„å¼•ç”¨ç±»åž‹ä¹ˆ.. è¯»è¿‡ä»€ä¹ˆæºç ä¹ˆè¯»è¿‡Reactçš„setStateå’ŒNodeçš„setImmediateâ€¦ ä½†æ˜¯è€ƒè™‘åˆ°è‡ªå·±æ°´å¹³é—®é¢˜è¿™é‡Œå°±ä¸€ç¬”å¸¦è¿‡äº†..ç„¶åŽå˜´æ¬ æäº†å¥æ„Ÿè§‰è¯»æºç å¯¹è‡ªå·±çŽ°é˜¶æ®µå¸®åŠ©ä¸å¤§ï¼Œé¢è¯•å®˜è¿˜é—®äº†é—®ä¸ºä»€ä¹ˆï¼Œæˆ‘åˆå¥½ä¸å®¹æ˜“åœ†å›žæ¥23333 ä½ ä½¿ç”¨çš„Html5å’ŒCss3æ–°ç‰¹æ€§Html5 audioï¼Œvideoï¼Œcanvasï¼Œdatalist.. Canvasç”¨çš„æ¯”è¾ƒå¤šï¼Œç”¨å…¶æ¨¡ä»¿è¿‡è‰èŽ“éŸ³ä¹èŠ‚çš„å®£ä¼ è§†é¢‘åŠ¨ç”»dataliståœ¨æ‡’åŠ è½½çš„æ—¶å€™æœ‰ç»å¸¸ç”¨.. Css3 é€‰æ‹©å™¨ï¼ŒAnimationï¼ŒTransitionï¼ŒTransformâ€¦ ç„¶åŽè®©æˆ‘æè¿°äº†ä¸€ä¸‹çœ‹è§ä¸€ä¸ªåŠ¨ç”»å¦‚ä½•åŽ»å®žçŽ°å®ƒ..balabala.. æˆ‘è§‰å¾—æ²¡äººèƒ½å®Œå…¨ç­”ä¸Šæ¥æ‰€æœ‰çš„â€¦ä¸»è¦è¿˜æ˜¯è¯´ä¸€ä¸‹è‡ªå·±ç”¨çš„æ¯”è¾ƒå¤šçš„ æ€»ç»“é¢è¯•æ–¹é¢ é¢äº†å¤§çº¦40-50åˆ†é’Ÿå·¦å³ï¼ŒæŠ€æœ¯ç‚¹è‡ªæˆ‘æ„Ÿè§‰æ‰¯ä¸Šäº†80%å·¦å³ï¼Œæ²¡ç­”ä¸Šçš„ä¹Ÿå°½é‡æ‰¯ä¸€ç‚¹(é™¤äº†ä¸€äº›è‡ªå·±çœŸçš„å¬éƒ½æ²¡å¬è¿‡çš„)ã€‚æ„Ÿè§‰é—®çš„æŠ€æœ¯é¢ä¸æ˜¯å¾ˆå¹¿(å¯èƒ½å› ä¸ºæ˜¯å®žä¹ ç”Ÿ)ï¼ŒåŽŸç”Ÿæ–¹é¢é—®çš„æ¯”è¾ƒå¤š..ä½†æ˜¯æ²¡é—®ä¸€äº›æ›´æ·±å…¥ä¸€ç‚¹çš„ï¼Œè‡ªå·±æ¯”è¾ƒæ“…é•¿çš„Csså’ŒReactæ–¹é¢ä¹Ÿé—®çš„æ¯”è¾ƒå°‘(éš¾è¿‡)ï¼Œæµè§ˆå™¨å’ŒHttpæ–¹é¢æ²¡é—®ï¼Œæ•´ä½“æ¥è¯´é¢è¯•éš¾åº¦ä¸å¤§..å¯èƒ½è€ƒè™‘åˆ°æˆ‘åªæ˜¯ä¸ªå¤§äºŒæ¥å®žä¹ çš„ðŸ˜‚ è‡ªå·±æ–¹é¢äººç”Ÿç¬¬ä¸€æ¬¡ç”µè¯é¢è¯•..å…¨ç¨‹ç´§å¼ ï¼Œå¤§è„‘é—´æ­‡æ€§æš‚æ—¶æ€§ç©ºç™½ï¼Œè®¸å¤šè‡ªå·±ä¼šçš„æ²¡æœ‰å®Œç¾Žåœ°ç­”å‡ºæ¥å¾ˆé—æ†¾ï¼Œè‡ªå·±ä¼šçš„æƒ³è¡¨çŽ°å‡ºæ¥çš„æ²¡é—®ä¹Ÿæœ‰ç‚¹é—æ†¾ï¼Œå…¶ä¸­è¿˜æœ‰å‡ æ¬¡å°´å°¬çš„å¯‚é™(æœ€æ€•ç©ºæ°”çªç„¶å®‰é™)ï¼Œä¸å‡ºæ„å¤–è‡ªå·±åº”è¯¥æ˜¯å‡‰äº†QAQã€‚ ä½†æ˜¯æƒ³æƒ³è‡ªå·±å¤§äºŒè¿˜æœ‰æ—¶é—´è¡¥æ•‘ï¼Œèµ¶ç´§æŠŠè¿™ç¯‡åšå®¢æ•´ç†å‡ºæ¥åæ€ä¸€ä¸‹è‡ªå·±ï¼Œè¯¸å›å…±å‹‰å§~ ä¸€äº›è¡¥å…… è¿™ç¯‡æ–‡ç« å¥½åƒçœç•¥äº†ç»å¤§éƒ¨åˆ†é—®é¢˜(æˆ‘çœŸçš„è®°ä¸èµ·æ¥äº†) åŽæ¥Leaderåˆé—®äº†æˆ‘è®¸å¤šé¡¹ç›®ç›¸å…³çš„é—®é¢˜ï¼Œä½†æ˜¯è¯·çœ‹ä¸‹ä¸€æ¡ æœ¬æ–‡åªè®°å½•äº†æˆ‘è®°å¾—çš„ä¸­è®¤ä¸ºæœ‰ä»·å€¼(å…¶å®žæ˜¯æˆ‘è§‰å¾—å¯ä»¥å†™å‡ºæ¥çš„)çš„é—®é¢˜ é¢è¯•å®˜è¿˜æ˜¯ä¸é”™æ»´ æœ¬æ–‡æ¯”è¾ƒé€‚åˆæ‰¾å®žä¹ å·¥ä½œçš„å°èŒæ–° æœ¬æ–‡éšæˆ‘çš„è®°å¿†å®žæ—¶æ›´æ–°.. é¢è¯•è¯„ä»·å¾ˆæ³¨é‡åŽŸç”Ÿçš„ä¸€ä¸ªå…¬å¸.. å¯ä»¥çœ‹å‡ºæŠ€æœ¯å®žåŠ›è¿˜æ˜¯å¾ˆå¼ºçš„ï¼Œæ¯•ç«Ÿç®—æ˜¯ä¸ªå¤§åŽ‚ã€‚ä½†æ˜¯é¢è¯•å¤„ç†æ•ˆçŽ‡ä¸æ•¢æ­ç»´ï¼Œä»¥åŠé¢è¯•ç»“æžœä¸å…¬å¸ƒä¸çŸ¥é“æ˜¯ä»€ä¹ˆæ„æ€ã€‚]]></content>
      <categories>
        <category>é¢è¯•</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptè®¾è®¡æ¨¡å¼]]></title>
    <url>%2F2018%2F04%2F12%2FJavaScript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[å•ä¾‹æ¨¡å¼ ä¿è¯ä¸€ä¸ªç±»ä»…æœ‰ä¸€ä¸ªå®žä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å±€è®¿é—®ç‚¹ã€‚å®žçŽ°çš„æ–¹æ³•ä¸ºå…ˆåˆ¤æ–­å®žä¾‹å­˜åœ¨ä¸Žå¦ï¼Œå¦‚æžœå­˜åœ¨åˆ™ç›´æŽ¥è¿”å›žï¼Œå¦‚æžœä¸å­˜åœ¨å°±åˆ›å»ºäº†å†è¿”å›žï¼Œè¿™å°±ç¡®ä¿äº†ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®žä¾‹å¯¹è±¡ã€‚ åº”ç”¨åœºæ™¯ æŸäº›ç®¡ç†ç±»ï¼Œä¿è¯èµ„æºçš„ä¸€è‡´è®¿é—®æ€§ã€‚ åˆ›å»ºå¯¹è±¡æ—¶è€—æ—¶è¿‡å¤šæˆ–è€—è´¹èµ„æºè¿‡å¤šï¼Œä½†åˆç»å¸¸ç”¨åˆ°çš„å¯¹è±¡ï¼› å·¥å…·ç±»å¯¹è±¡ é¢‘ç¹è®¿é—®æ•°æ®åº“æˆ–æ–‡ä»¶çš„å¯¹è±¡ã€‚ 123456789101112131415161718192021222324class CreateUser &#123; constructor(name) &#123; this.name = name; this.getName(); &#125; getName() &#123; return this.name; &#125;&#125;// ä»£ç†å®žçŽ°å•ä¾‹æ¨¡å¼var ProxyMode = (function() &#123; var instance = null; return function(name) &#123; if(!instance) &#123; instance = new CreateUser(name); &#125; return instance; &#125;&#125;)();// æµ‹è¯•å•ä½“æ¨¡å¼çš„å®žä¾‹var a = new ProxyMode("aaa");var b = new ProxyMode("bbb");// å› ä¸ºå•ä½“æ¨¡å¼æ˜¯åªå®žä¾‹åŒ–ä¸€æ¬¡ï¼Œæ‰€ä»¥ä¸‹é¢çš„å®žä¾‹æ˜¯ç›¸ç­‰çš„console.log(a === b); //true ç­–ç•¥æ¨¡å¼ ç­–ç•¥æ¨¡å¼çš„å®šä¹‰ï¼šå®šä¹‰ä¸€ç³»åˆ—çš„ç®—æ³•ï¼ŒæŠŠä»–ä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥ï¼Œå¹¶ä¸”ä½¿ä»–ä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ã€‚ ç­–ç•¥æ¨¡å¼çš„ç›®çš„å°±æ˜¯å°†ç®—æ³•çš„ä½¿ç”¨ç®—æ³•çš„å®žçŽ°åˆ†ç¦»å¼€æ¥ã€‚ä¸€ä¸ªåŸºäºŽç­–ç•¥æ¨¡å¼çš„ç¨‹åºè‡³å°‘ç”±ä¸¤éƒ¨åˆ†ç»„æˆã€‚ç¬¬ä¸€ä¸ªéƒ¨åˆ†æ˜¯ä¸€ç»„ç­–ç•¥ç±»ï¼ˆå¯å˜ï¼‰ï¼Œç­–ç•¥ç±»å°è£…äº†å…·ä½“çš„ç®—æ³•ï¼Œå¹¶è´Ÿè´£å…·ä½“çš„è®¡ç®—è¿‡ç¨‹ã€‚ç¬¬äºŒä¸ªéƒ¨åˆ†æ˜¯çŽ¯å¢ƒç±»Contextï¼ˆä¸å˜ï¼‰ï¼ŒContextæŽ¥å—å®¢æˆ·çš„è¯·æ±‚ï¼ŒéšåŽå°†è¯·æ±‚å§”æ‰˜ç»™æŸä¸€ä¸ªç­–ç•¥ç±»ã€‚è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œè¯´æ˜ŽContextä¸­è¦ç»´æŒå¯¹æŸä¸ªç­–ç•¥å¯¹è±¡çš„å¼•ç”¨ã€‚ åº”ç”¨åœºæ™¯ å¤šä¸ªç±»åªåŒºåˆ«åœ¨è¡¨çŽ°è¡Œä¸ºä¸åŒï¼Œå¯ä»¥ä½¿ç”¨ç­–ç•¥æ¨¡å¼ï¼Œåœ¨è¿è¡Œæ—¶åŠ¨æ€é€‰æ‹©å…·ä½“è¦æ‰§è¡Œçš„è¡Œä¸º éœ€è¦åœ¨ä¸åŒæƒ…å†µä¸‹ä½¿ç”¨ä¸åŒçš„ç­–ç•¥(ç®—æ³•)ï¼Œæˆ–è€…ç­–ç•¥è¿˜å¯èƒ½åœ¨æœªæ¥ç”¨å…¶å®ƒæ–¹å¼æ¥å®žçŽ°ã€‚ å¯¹å®¢æˆ·éšè—å…·ä½“ç­–ç•¥(ç®—æ³•)çš„å®žçŽ°ç»†èŠ‚ï¼Œå½¼æ­¤å®Œå…¨ç‹¬ç«‹ã€‚ 1234567891011121314151617/*ç­–ç•¥ç±»*/var levelOBJ = &#123; "A": function(money) &#123; return money * 4; &#125;, "B" : function(money) &#123; return money * 3; &#125;, "C" : function(money) &#123; return money * 2; &#125; &#125;;/*çŽ¯å¢ƒç±»*/var calculateBouns =function(level,money) &#123; return levelOBJ[level](money);&#125;;console.log(calculateBouns('A',10000)); // 40000 ä»£ç†æ¨¡å¼ ä»£ç†æ¨¡å¼çš„å®šä¹‰ï¼šä¸ºä¸€ä¸ªå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç”¨å“æˆ–å ä½ç¬¦ï¼Œä»¥ä¾¿æŽ§åˆ¶å¯¹å®ƒçš„è®¿é—®ã€‚ å¸¸ç”¨çš„è™šæ‹Ÿä»£ç†å½¢å¼ï¼šæŸä¸€ä¸ªèŠ±é”€å¾ˆå¤§çš„æ“ä½œï¼Œå¯ä»¥é€šè¿‡è™šæ‹Ÿä»£ç†çš„æ–¹å¼å»¶è¿Ÿåˆ°è¿™ç§éœ€è¦å®ƒçš„æ—¶å€™æ‰åŽ»åˆ›å»ºï¼ˆä¾‹ï¼šä½¿ç”¨è™šæ‹Ÿä»£ç†å®žçŽ°å›¾ç‰‡æ‡’åŠ è½½ï¼‰å›¾ç‰‡æ‡’åŠ è½½çš„æ–¹å¼ï¼šå…ˆé€šè¿‡ä¸€å¼ loadingå›¾å ä½ï¼Œç„¶åŽé€šè¿‡å¼‚æ­¥çš„æ–¹å¼åŠ è½½å›¾ç‰‡ï¼Œç­‰å›¾ç‰‡åŠ è½½å¥½äº†å†æŠŠå®Œæˆçš„å›¾ç‰‡åŠ è½½åˆ°imgæ ‡ç­¾é‡Œé¢ã€‚ åº”ç”¨åœºæ™¯ å½“æˆ‘ä»¬æƒ³è¦éšè—æŸä¸ªç±»æ—¶ï¼Œå¯ä»¥ä¸ºå…¶æä¾›ä»£ç†ç±» å½“ä¸€ä¸ªç±»éœ€è¦å¯¹ä¸åŒçš„è°ƒç”¨è€…æä¾›ä¸åŒçš„è°ƒç”¨æƒé™æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä»£ç†ç±»æ¥å®žçŽ°ï¼ˆä»£ç†ç±»ä¸ä¸€å®šåªæœ‰ä¸€ä¸ªï¼Œæˆ‘ä»¬å¯ä»¥å»ºç«‹å¤šä¸ªä»£ç†ç±»æ¥å®žçŽ°ï¼Œä¹Ÿå¯ä»¥åœ¨ä¸€ä¸ªä»£ç†ç±»ä¸­è¿›è¡Œæƒé™åˆ¤æ–­æ¥è¿›è¡Œä¸åŒæƒé™çš„åŠŸèƒ½è°ƒç”¨ï¼‰ å½“æˆ‘ä»¬è¦æ‰©å±•æŸä¸ªç±»çš„æŸä¸ªåŠŸèƒ½æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä»£ç†æ¨¡å¼ï¼Œåœ¨ä»£ç†ç±»ä¸­è¿›è¡Œç®€å•æ‰©å±•ï¼ˆåªé’ˆå¯¹ç®€å•æ‰©å±•ï¼Œå¯åœ¨å¼•ç”¨å§”æ‰˜ç±»çš„è¯­å¥ä¹‹å‰ä¸Žä¹‹åŽè¿›è¡Œï¼‰ 12345678910111213141516171819202122var imgFunc = (function() &#123; var imgNode = document.createElement('img'); document.body.appendChild(imgNode); return &#123; setSrc: function(src) &#123; imgNode.src = src; &#125; &#125;&#125;)();var proxyImage = (function() &#123; var img = new Image(); img.onload = function() &#123; imgFunc.setSrc(this.src); &#125; return &#123; setSrc: function(src) &#123; imgFunc.setSrc('./loading,gif'); img.src = src; &#125; &#125;&#125;)();proxyImage.setSrc('./pic.png'); ä¸­ä»‹è€…æ¨¡å¼ ä¸­ä»‹è€…æ¨¡å¼çš„å®šä¹‰ï¼šé€šè¿‡ä¸€ä¸ªä¸­ä»‹è€…å¯¹è±¡ï¼Œå…¶ä»–æ‰€æœ‰çš„ç›¸å…³å¯¹è±¡éƒ½é€šè¿‡è¯¥ä¸­ä»‹è€…å¯¹è±¡æ¥é€šä¿¡ï¼Œè€Œä¸æ˜¯ç›¸äº’å¼•ç”¨ï¼Œå½“å…¶ä¸­çš„ä¸€ä¸ªå¯¹è±¡å‘ç”Ÿæ”¹å˜æ—¶ï¼Œåªéœ€è¦é€šçŸ¥ä¸­ä»‹è€…å¯¹è±¡å³å¯ã€‚é€šè¿‡ä¸­ä»‹è€…æ¨¡å¼å¯ä»¥è§£é™¤å¯¹è±¡ä¸Žå¯¹è±¡ä¹‹é—´çš„ç´§è€¦åˆå…³ç³»ã€‚ åº”ç”¨åœºæ™¯ å½“ä¸€ç»„å¯¹è±¡è¦è¿›è¡Œæ²Ÿé€šæˆ–è€…ä¸šåŠ¡ä¸Šçš„äº¤äº’ï¼Œä½†æ˜¯å…¶å…³ç³»å´åˆå¾ˆå¤æ‚æ··ä¹±æ—¶ï¼Œå¯ä»¥é‡‡ç”¨æ­¤æ¨¡å¼ å½“ä¸€ä¸ªå¯¹è±¡ä¸Žå…¶ä»–çš„å¯¹è±¡è¦è¿›è¡Œç´§å¯†çš„äº¤äº’ï¼Œä½†åˆæƒ³æœç”¨è¯¥å¯¹è±¡è€Œä¸ä¾èµ–å…¶ä»–çš„å¯¹è±¡æ—¶ æƒ³åˆ›é€ ä¸€ä¸ªè¿è¡ŒäºŽå¤šä¸ªç±»ä¹‹é—´çš„å¯¹è±¡ï¼Œåˆä¸æƒ³ç”Ÿæˆæ–°çš„å­ç±»æ—¶ 123456789101112131415161718192021222324252627282930313233343536var goods = &#123; //æ‰‹æœºåº“å­˜ 'red|32G': 3, 'red|64G': 1, 'blue|32G': 7, 'blue|32G': 6,&#125;;//ä¸­ä»‹è€…var mediator = (function() &#123; var colorSelect = document.getElementById('colorSelect'); var memorySelect = document.getElementById('memorySelect'); var numSelect = document.getElementById('numSelect'); return &#123; changed: function(obj) &#123; switch(obj)&#123; case colorSelect: //TODO break; case memorySelect: //TODO break; case numSelect: //TODO break; &#125; &#125; &#125;&#125;)();colorSelect.onchange = function() &#123; mediator.changed(this);&#125;;memorySelect.onchange = function() &#123; mediator.changed(this);&#125;;numSelect.onchange = function() &#123; mediator.changed(this);&#125;; è£…é¥°è€…æ¨¡å¼ è£…é¥°è€…æ¨¡å¼çš„å®šä¹‰ï¼šåœ¨ä¸æ”¹å˜å¯¹è±¡è‡ªèº«çš„åŸºç¡€ä¸Šï¼Œåœ¨ç¨‹åºè¿è¡ŒæœŸé—´ç»™å¯¹è±¡åŠ¨æ€åœ°æ·»åŠ æ–¹æ³•ã€‚ ä¾‹å¦‚ï¼šçŽ°æœ‰4ç§åž‹å·çš„è‡ªè¡Œè½¦åˆ†åˆ«è¢«å®šä¹‰æˆä¸€ä¸ªå•ç‹¬çš„ç±»ï¼Œå¦‚æžœç»™æ¯è¾†è‡ªè¡Œè½¦éƒ½åŠ ä¸Šå‰ç¯ã€å°¾ç¯ã€é“ƒé“›è¿™3ä¸ªé…ä»¶ï¼Œå¦‚æžœç”¨ç±»ç»§æ‰¿çš„æ–¹å¼ï¼Œéœ€è¦åˆ›å»º4*3=12ä¸ªå­ç±»ã€‚ä½†å¦‚æžœé€šè¿‡è£…é¥°è€…æ¨¡å¼ï¼Œåªéœ€è¦åˆ›å»º3ä¸ªç±»ã€‚ åº”ç”¨åœºæ™¯ åŽŸæœ‰æ–¹æ³•ç»´æŒä¸å˜ï¼Œåœ¨åŽŸæœ‰æ–¹æ³•ä¸Šå†æŒ‚è½½å…¶ä»–æ–¹æ³•æ¥æ»¡è¶³çŽ°æœ‰éœ€æ±‚ å‡½æ•°çš„è§£è€¦ï¼Œå°†å‡½æ•°æ‹†åˆ†æˆå¤šä¸ªå¯å¤ç”¨çš„å‡½æ•°ï¼Œå†å°†æ‹†åˆ†å‡ºæ¥çš„å‡½æ•°æŒ‚è½½åˆ°æŸä¸ªå‡½æ•°ä¸Šï¼Œå®žçŽ°ç›¸åŒçš„æ•ˆæžœä½†å¢žå¼ºäº†å¤ç”¨æ€§ 123456789101112131415161718192021222324252627Function.prototype.before = function(beforefn) &#123; var self = this; //ä¿å­˜åŽŸå‡½æ•°å¼•ç”¨ return function()&#123; //è¿”å›žåŒ…å«äº†åŽŸå‡½æ•°å’Œæ–°å‡½æ•°çš„ 'ä»£ç†å‡½æ•°' beforefn.apply(this, arguments); //æ‰§è¡Œæ–°å‡½æ•°ï¼Œä¿®æ­£this return self.apply(this,arguments); //æ‰§è¡ŒåŽŸå‡½æ•° &#125;&#125;Function.prototype.after = function(afterfn) &#123; var self = this; return function()&#123; var ret = self.apply(this,arguments); afterfn.apply(this, arguments); return ret; &#125;&#125;var func = function() &#123; console.log('2');&#125;//func1å’Œfunc3ä¸ºæŒ‚è½½å‡½æ•°var func1 = function() &#123; console.log('1');&#125;var func3 = function() &#123; console.log('3');&#125;func = func.before(func1).after(func3);func(); ä»¥ä¸Šæ¥æºäºŽJavaScriptè®¾è®¡æ¨¡å¼ æœªå®Œå¾…ç»­â€¦]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ </tag>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¾®ä¿¡å°ç¨‹åºå®žçŽ°æŠ˜å å±•å¼€èœå•]]></title>
    <url>%2F2018%2F04%2F07%2F%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AE%9E%E7%8E%B0%E6%8A%98%E5%8F%A0%E5%B1%95%E5%BC%80%E8%8F%9C%E5%8D%95%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯åœ¨è¿™ç¯‡æ–‡ç« ã€Š2018å¹´è®¾è®¡è¶‹åŠ¿æŒ‡å—ã€‹ä¸­å‘çŽ°ä¸€æ¬¾èœå•ä¸é”™ï¼Œå°±æƒ³ç€ç”¨å¾®ä¿¡å°ç¨‹åºå®žçŽ° å…ˆä¸Šä¸ªåŠ¨å›¾ å¼€å§‹æ­£é¢˜ä¸Šæ–¹NavåŸºæœ¬flexå¸ƒå±€å†åŠ ä¸ªpaddingä¸éœ€è¦å¤šè®²å§? æä¸€ä¸‹ï¼Œå¾®ä¿¡å°ç¨‹åºé‡Œinputçš„placeholderæ ·å¼æ˜¯å†™åœ¨placeholder-styleé‡Œæˆ–ä½¿ç”¨placeholder-class ä¸‹æ–¹èœå• æ¯ä¸ªå°å¡ç‰‡éµä»Žflexå¸ƒå±€ï¼Œè®¾ç½®width: 50%ï¼Œåˆ«å¿˜äº†flex-wrap: wrap æ¯ä¸ªå°å¡ç‰‡å†…éƒ¨åŒä¸ºflexå¸ƒå±€å¹¶è®¾ç½®åž‚ç›´å±…ä¸­ï¼Œæƒ³äº†æƒ³è¿˜æ˜¯ç§‘æ™®ä¸‹: 123456.main-view-item&#123; display: flex; justify-content: center; align-items: center; width: 50%;&#125; flexçœŸä»–å¨˜çš„å¥½ç”¨ è‡³äºŽé‡Œé¢çš„å›¾ç‰‡æ˜¯ä»Žiconfontä¸Šæ‹¿çš„ï¼Œè°ƒè¿™å‡ ä¸ªé…è‰²çš„æ—¶é—´æ˜¯æˆ‘å¸ƒå±€æ—¶é—´çš„å‡ åå€â€¦. åŠ¨ç”» å¾®ä¿¡å°ç¨‹åºçš„åŠ¨ç”»åªèƒ½ç”¨JSï¼Œå¸¸è§„æ‰‹æ®µä¸å¯ç”¨ï¼Œæ¥ä¸ªå¤´è„‘é£Žæš´hackèµ·æ¥ è§‚å¯Ÿæ¯ä¸ªå¡ç‰‡çš„æŠ˜å æ–¹å‘åŽï¼Œä¸ºæ¯ä¸ªå¡ç‰‡æ·»åŠ åˆå§‹rotateä½¿å…¶åå‘æŠ˜å ï¼Œæˆ‘åœ¨è¿™é‡Œå®šä¹‰äº†ä¸¤ä¸ªClass 123456.rotateX90&#123; transform: rotateX(-90deg);&#125;.rotateY90&#123; transform: rotateY(-90deg);&#125; å¥½äº†è¿™æ ·å°±çœ‹ä¸åˆ°å¡ç‰‡äº†ï¼Œç„¶åŽç»™èœå•æŒ‰é’®æ·»åŠ ç‚¹å‡»äº‹ä»¶æ”¹å˜å¡ç‰‡çš„rotate(åŠ¨æ€æ”¹å˜Class)å°±Ojbkå•¦,å°±åƒè¿™æ · 1&lt;view class='main-view-item rotateX90 item1 &#123;&#123;item1Style&#125;&#125;' animation='&#123;&#123;item1&#125;&#125;'&gt;&lt;/view&gt; å®žé™…æƒ…å†µåº”è¯¥ç”¨wx:forè¿›è¡Œå¾ªçŽ¯æ¸²æŸ“ 12345678910111213var duration = 150var item1 = wx.createAnimation(&#123; duration: duration, transformOrigin: '0 0 0'&#125;)item1.rotateX(90).step()this.setData(&#123; item1: item1, item1Style: 'item1Style'&#125;) è¿™é‡Œæ³¨æ„è°ƒæ•´transformOriginæ¥æŽ§åˆ¶æŠ˜å æ–¹å‘ï¼Œå¯¹äºŽåŽé¢çš„å¡ç‰‡åœ¨createAnimationä¸­æ·»åŠ delayå­—æ®µå³å¯(å·®ä¸ºdurationçš„ç­‰å·®æ•°åˆ—) æ˜¯ä¸æ˜¯å¾ˆç®€å•å—¯? è‡³äºŽèœå•çš„æ”¶å›žï¼Œä»£ç å’Œå±•å¼€å·®ä¸å¤šï¼Œå°±æ˜¯åè¿‡æ¥è€Œå·²ï¼Œä¸è¿‡æœ‰äº›å±•å¼€çš„é¡ºåºå’ŒtransformOriginéœ€è¦æ³¨æ„ï¼Œè¿™é‡Œè¿˜æ˜¯è´´ä¸€ä¸ªä»£ç å§: 1234567891011121314var duration = 150var item3 = wx.createAnimation(&#123; duration: duration, transformOrigin: '100% 100% 0', delay: duration * 2&#125;)item1.rotateX(90).step()this.setData(&#123; item3: item3, item3Style: ''&#125;) å¦å¤–æˆ‘åœ¨dataé‡Œè®¾ç½®äº†ä¸¤ä¸ªå˜é‡isShowå’ŒisShowingæ¥åˆ¤æ–­èœå•æ˜¯å¦å±•å¼€æˆ–è€…æ­£åœ¨å±•å¼€ï¼Œæ¥æŽ§åˆ¶ç‚¹å‡»äº‹ä»¶ï¼Œå·®ä¸å¤šåƒè¿™æ · 12345678handleClick()&#123; if(this.data.isShowing) return; else if(!this.data.isShow) this.showMenu() else this.hideMenu()&#125; åœ¨åŠ¨ç”»å®ŒæˆåŽå¯¹isShowå’ŒisShowingè¿›è¡Œä¿®æ”¹å³å¯ æ¬¢è¿Žæœ‰æ›´å¥½æƒ³æ³•çš„æœ‹å‹è¿›è¡Œè®¨è®º~]]></content>
      <categories>
        <category>å¾®ä¿¡å°ç¨‹åº</category>
        <category>UI</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>å¾®ä¿¡å°ç¨‹åº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸€ä¸ªå‰ç«¯å¼€å‘è€…çš„è‡ªæˆ‘æŠ˜ç£¨(UI)]]></title>
    <url>%2F2018%2F04%2F03%2F%E4%B8%80%E4%B8%AA%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84%E8%87%AA%E6%88%91%E6%8A%98%E7%A3%A8-UI%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯å¶ç„¶çœ‹åˆ°ä¸€ç¯‡UIä¼˜åŒ–æ–‡ç« ï¼Œå‘çŽ°é‡Œé¢å‡ ä¸ªUIäº¤äº’çœŸæ»´ä¸é”™ï¼Œå°±è‡ªå·±åŠ¨æ‰‹æ’¸äº†ä¸€ä¸‹~ ä¸ŠåŠ¨å›¾ ä»£ç æŒ‰é’®12345&lt;div class="load-div"&gt; &lt;div class="load-progress"&gt;&lt;/div&gt; &lt;div class="wave-btn wave wave-small"&gt;&lt;/div&gt; &lt;input type="button" class="load-btn load-btn-hover" value="Show!"&gt;&lt;/div&gt; è¿™é‡Œèµ·ä½œç”¨çš„æœ‰3ä¸ªdiv,load-progressæ¨¡æ‹Ÿè¿›åº¦æ¡,wave-btnæ¨¡æ‹Ÿæ‰©æ•£çš„æ³¢çº¹,load-btnå³ä¸ºæŒ‰é’® æ‰©æ•£çš„æ³¢çº¹123456789101112131415161718192021222324252627282930313233343536.wave &#123; position: absolute; width: 160px; height: 40px; background-color: #b749cd; border-radius: 5px; z-index: 8;&#125;.wave-small &#123; animation: wave-small .8s infinite linear;&#125;.wave-large &#123; animation: wave-large .6s infinite linear;&#125;@keyframes wave-small &#123; 30% &#123; opacity: 0.5; &#125; 100% &#123; transform: scale(1.1, 1.4); opacity: 0; &#125;&#125;@keyframes wave-large &#123; 30% &#123; opacity: 0.5; &#125; 100% &#123; transform: scale(1.3, 1.6); opacity: 0; &#125;&#125; ä½¿ç”¨ç»å¯¹å®šä½è®©æ³¢çº¹divåœ¨buttonä¸‹é¢é¿å…é®ç›–,æ·»åŠ åŠ¨ç”»ä½¿divæ”¾å¤§çš„åŒæ—¶å˜é€æ˜Ž,é€šè¿‡30%è°ƒæ•´åˆ°æ¯”è¾ƒåˆé€‚çš„è§†è§‰æ•ˆæžœ 1234567891011const button = document.getElementsByClassName('load-btn')[0]button.onmouseover = () =&gt; &#123; wave.classList.remove('wave-small') wave.classList.add('wave-large')&#125;button.onmouseout = () =&gt; &#123; wave.classList.remove('wave-large') wave.classList.add('wave-small')&#125; å› ä¸ºhoveræ—¶buttonä¼šå˜å¤§ï¼Œæ‰€ä»¥ç”¨jsè¿›è¡Œåˆ¤æ–­æ·»åŠ ä¸åŒå¤§å°çš„æ³¢çº¹åŠ¨ç”» å˜åŒ–çš„æŒ‰é’®123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657.load-btn &#123; position: relative; width: 160px; height: 40px; font-size: 16px; color: white; background-color: #d159ec; border-radius: 5px; border: none; outline: none; cursor: pointer; z-index: 9;&#125;.loading-btn-size &#123; animation: size-small, size-back; animation-delay: 0s, 1.4s; animation-duration: .1s, .5s; animation-fill-mode: forwards, forwards; animation-timing-function: ease-in, ease;&#125;.load-btn-hover:hover &#123; animation: color-deep .2s ease-in forwards;&#125;@keyframes color-deep &#123; 70% &#123; transform: scale(1.1, 1.1) &#125; to &#123; background-color: #b749cd; transform: scale(1.1, 1.1) &#125;&#125;@keyframes size-small &#123; to &#123; transform: scale(1, .6); &#125;&#125;@keyframes size-back &#123; 50% &#123; transform: scale(1.2, 1.2); &#125; 70% &#123; transform: scale(1.1, 1.1); &#125; 80% &#123; transform: scale(1.2, 1.2); &#125; to &#123; transform: scale(1.1, 1.1); background-color: #74e795; &#125;&#125; hoveræ—¶æ”¾å¤§ä¸”é¢œè‰²å˜æ·±,è¿™ä¸ªå°±ä¸ç»†è®²äº†,ç‚¹å‡»åŽç¼©å°scale(1, .6),å»¶æ—¶ä¸€æ®µæ—¶é—´åŽå˜å›žåŽŸå¤§å°(æ¯”åŽŸæ¥å¤§ä¸€ç‚¹)ä¸”æ›´æ¢é¢œè‰²å’Œæ–‡æœ¬,åœ¨size-backä¸­é€šè¿‡è°ƒæ•´ç™¾åˆ†æ¯”æ¥æ¨¡æ‹Ÿå¼¹æ€§ è¿›åº¦æ¡12345678910111213141516171819202122.load-progress &#123; position: absolute; top: 8px; height: 100%; background-color: rgba(0, 0, 0, 0.3); border-radius: 5px; z-index: 10;&#125;.load-progress-x &#123; animation: x-change 1.2s ease-in; animation-delay: .2s;&#125;@keyframes x-change &#123; from &#123; width: 0; &#125; to &#123; width: 160px; &#125;&#125; è®¾ç½®é«˜åº¦ä¸ºbuttonç¼©å°åŽçš„é«˜åº¦ï¼Œå®½åº¦ä»Ž0åˆ°æ¢å¤æ¨¡æ‹Ÿè¿›åº¦æ¡ï¼Œç”¨é€æ˜Žé»‘è‰²è¦†ç›–buttonæ¥æ¨¡æ‹Ÿè¿›åº¦æ¡æ ·å¼ å±•å¼€çš„åˆ—è¡¨123456789&lt;div class="list"&gt; &lt;div class="red"&gt;&lt;/div&gt; &lt;div class="orange"&gt;&lt;/div&gt; &lt;div class="yellow"&gt;&lt;/div&gt; &lt;div class="green"&gt;&lt;/div&gt; &lt;div class="qing"&gt;&lt;/div&gt; &lt;div class="blue"&gt;&lt;/div&gt; &lt;div class="purple"&gt;&lt;/div&gt;&lt;/div&gt; HTMLä¸è§£é‡Š 1234567891011121314151617181920.list div&#123; width: 250px; height: 50px; margin-top: 10px; visibility: hidden;&#125;.fade-show&#123; visibility: visible !important; animation: fade-show .5s linear;&#125;@keyframes fade-show&#123; from &#123; opacity: 0; &#125; tp &#123; opacity: 1; &#125;&#125; cssæ²¡ä»€ä¹ˆå¥½è®²çš„ï¼Œè¿™é‡Œä½¿ç”¨visibility: hiddenä½¿å…ƒç´ éšå½¢ä½†æ˜¯ä»å æ®ç©ºé—´ 12345678910111213const list = document.getElementsByClassName('list')[0]let i = 0let n = list.lengthlet timer = setInterval(() =&gt; &#123; if(i == n) clearInterval(timer) if(i &lt; n)&#123; list[i].classList.add('fade-show') i++; &#125;&#125;,50) å®šæ—¶å™¨éåŽ†NodeListæ·»åŠ åŠ¨ç”»classå³å¯ æ€»ç»“å…¶å®žå†™èµ·æ¥å¹¶ä¸éš¾ï¼Œä¸»è¦æ˜¯çœ‹ä½ çš„æƒ³æ³•ï¼Œæ¯ä¸ªäººå¯èƒ½éƒ½æœ‰ä¸åŒçš„å®žçŽ°æ–¹å¼ï¼Œå…³é”®æ˜¯çœ‹å“ªç§æ•ˆçŽ‡æœ€é«˜]]></content>
      <categories>
        <category>UI</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>UI</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ·±å…¥ReactçŸ¥è¯†ç‚¹]]></title>
    <url>%2F2018%2F03%2F28%2F%E6%B7%B1%E5%85%A5React%E7%9F%A5%E8%AF%86%E7%82%B9%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯è‡ªå·±å¯¹Reactæ–¹é¢è¿˜æ²¡æœ‰ä¸€ä¸ªç³»ç»Ÿçš„æ•´ç†ï¼Œå¹¶ä¸”è‡ªå·±ReactNativeæ–¹é¢æ¯”è¾ƒè–„å¼±ï¼Œæ¯•ç«Ÿå¹³æ—¶å¾ˆå°‘ç”¨ReactNativeè¿›è¡Œå¼€å‘ï¼ŒæŽ¥è§¦çš„ç›¸å…³é¡¹ç›®ä¹Ÿæ¯”è¾ƒå°‘ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œå¯¹Reactçš„ä¸€äº›çŸ¥è¯†ç‚¹è¿›è¡Œä¸€äº›æ€»ç»“ï¼Œé¡ºä¾¿æä¸€ä¸‹ReactNativeæ–¹é¢çš„çŸ¥è¯† å¼€å§‹ä»¥ä¸‹å†…å®¹åŸºæœ¬ä¸ºä¸ªäººç†è§£ï¼Œå¦‚æœ‰é”™è¯¯æ¬¢è¿ŽæŒ‡å‡º ReactNativeç›¸æ¯”äºŽåŽŸç”ŸAppçš„ä¼˜åŠ¿å’ŒåŠ£åŠ¿ä¼˜åŠ¿ èŠ‚çœç¼–è¯‘æ—¶é—´ï¼Œå¼€å‘æ•ˆçŽ‡å¿« å­¦ä¹ æˆæœ¬æžä½Ž(å¯¹äºŽæˆ‘) ç»„ä»¶åŒ– çƒ­æ›´æ–° åŠ£åŠ¿ ä¸å¤ªç¨³å®š å†…å­˜å ç”¨è¾ƒé«˜ Reactçš„ç”Ÿå‘½å‘¨æœŸè¯¦æƒ…å¯ä»¥çœ‹æˆ‘å†™çš„è¿™ç¯‡Reactç”Ÿå‘½å‘¨æœŸç®€æ˜Žå®å…¸ å…³äºŽsetState setState() schedules an update to a componentâ€™s state object. When state changes, the component responds by re-rendering ä¸€ä¸ªç®€åŒ–çš„setStateè°ƒç”¨å›¾ é¦–å…ˆï¼ŒsetStateæ˜¯å¼‚æ­¥æ‰§è¡Œçš„ setState() does not always immediately update the component. It may batch or defer the update until later. This makes reading this.state right after calling setState() a potential pitfall. Instead, use componentDidUpdate or a setState callback (setState(updater, callback)), either of which are guaranteed to fire after the update has been applied. If you need to set the state based on the previous state, read about the updater argument below.setState() does not always immediately update the component. It may batch or defer the update until later. This makes reading this.state right after calling setState() a potential pitfall. Instead, use componentDidUpdate or a setState callback (setState(updater, callback)), either of which are guaranteed to fire after the update has been applied. If you need to set the state based on the previous state, read about the updater argument below. è¿™é‡Œæ„æ€å¤§æ¦‚å°±æ˜¯setStateå¹¶ä¸æ€»æ˜¯ç«‹å³ç”Ÿæ•ˆ..å¯èƒ½ä¼šæœ‰å»¶è¿Ÿï¼Œä½†æ˜¯ä½ å¯ä»¥ç”¨componentDidUpdateæˆ–è€…å›žè°ƒå‡½æ•°æ¥è§£å†³è¿™ä¸ªé—®é¢˜ è‡³äºŽsetStateä¸ºä»€ä¹ˆæ˜¯å¼‚æ­¥çš„ï¼Œæ·±å…¥çš„è¯æ¶‰åŠåˆ°Reactçš„äº‹åŠ¡æœºåˆ¶ï¼Œæ¯”è¾ƒé«˜çº§ï¼Œæœ¬äººèƒ½åŠ›æœ‰é™è¿™é‡Œå°±ä¸è¯¯äººå­å¼Ÿäº†ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥åŽ»è‡ªå­¦ä¸€æ³¢ å¦‚æžœä½ å†™ä»£ç çš„æ—¶å€™å‘çŽ°ä½ setçš„dataå¹¶æ²¡æœ‰ç«‹å³ç”Ÿæ•ˆï¼Œé‚£ä¹ˆå®ƒä»¬å¾ˆå¯èƒ½è¢«batch updateäº† setStateå¹¶ä¸è´Ÿè´£æ›´æ–°æ•°æ®ï¼Œå®ƒåªæ˜¯æŠŠstateå’Œcallbackæ”¾å…¥_pendingStateQueueå’Œ_pendingCallbackä¸­ï¼Œå¹¶ä¸”æŠŠè¦æ›´æ–°çš„ç»„ä»¶æ”¾å…¥dirtyComponentsåºåˆ— å†æ¥ä¸ªè¯¦ç»†ä¸€ç‚¹çš„å›¾ æœ¬äººç›®å‰åªèƒ½ç†è§£åˆ°è¿™é‡Œäº†â€¦è¿™ä¸ªçŸ¥è¯†ç‚¹å°±å…ˆåˆ°è¿™äº† å…³äºŽstate(çŠ¶æ€)å’Œprops(å±žæ€§)stateReact æŠŠç»„ä»¶çœ‹æˆæ˜¯ä¸€ä¸ªçŠ¶æ€æœºï¼ˆState Machinesï¼‰ã€‚é€šè¿‡ä¸Žç”¨æˆ·çš„äº¤äº’ï¼Œå®žçŽ°ä¸åŒçŠ¶æ€ï¼Œç„¶åŽæ¸²æŸ“ UIï¼Œè®©ç”¨æˆ·ç•Œé¢å’Œæ•°æ®ä¿æŒä¸€è‡´ï¼Œåœ¨Reacté‡Œåªéœ€è¦æ›´æ–°stateï¼Œç„¶åŽæ ¹æ®æ–°çš„stateè¿›è¡Œæ¸²æŸ“ã€‚state çš„ä¸»è¦ä½œç”¨æ˜¯ç”¨äºŽç»„ä»¶ä¿å­˜ã€æŽ§åˆ¶ã€ä¿®æ”¹è‡ªå·±çš„å¯å˜çŠ¶æ€ï¼Œæ˜¯ä¸€ä¸ªå±€éƒ¨çš„ã€åªèƒ½è¢«ç»„ä»¶è‡ªèº«æŽ§åˆ¶çš„æ•°æ®æº åˆå§‹å€¼æ¥æºäºŽgetInitalStateï¼ˆconstructor) åªèƒ½åœ¨ç»„ä»¶å†…éƒ¨è¿›è¡ŒsetState ä»£è¡¨ç»„ä»¶å†…éƒ¨è‡ªèº«çš„çŠ¶æ€ï¼Œåªèƒ½åœ¨è‡ªèº«ç»„ä»¶ä¸­å­˜åœ¨ propsç»„ä»¶ä¸­çš„propsæ˜¯ä¸€ç§çˆ¶çº§å‘å­çº§ä¼ é€’æ•°æ®çš„æ–¹å¼ï¼Œä½œç”¨æ˜¯è®©ä½¿ç”¨è¯¥ç»„ä»¶çš„çˆ¶ç»„ä»¶å¯ä»¥ä¼ å…¥å‚æ•°æ¥é…ç½®è¯¥ç»„ä»¶ã€‚å®ƒæ˜¯å¤–éƒ¨ä¼ è¿›æ¥çš„é…ç½®å‚æ•°ï¼Œç»„ä»¶å†…éƒ¨æ— æ³•æŽ§åˆ¶ä¹Ÿæ— æ³•ä¿®æ”¹ï¼Œé™¤éžå¤–éƒ¨ä¼ å…¥çš„propså‘ç”Ÿæ”¹å˜ å°½é‡å‡å°‘reactç»„ä»¶çš„stateï¼Œæ¥é™ä½Žç»„ä»¶çš„å¤æ‚æ€§ä»¥åŠç»´æŠ¤çš„éš¾åº¦ RefReact æ”¯æŒä¸€ç§éžå¸¸ç‰¹æ®Šçš„å±žæ€§ Ref ï¼Œä½ å¯ä»¥ç”¨æ¥ç»‘å®šåˆ° render() è¾“å‡ºçš„ä»»ä½•ç»„ä»¶ä¸Š è¿™ä¸ªç‰¹æ®Šçš„å±žæ€§å…è®¸ä½ å¼•ç”¨ render() è¿”å›žçš„ç›¸åº”çš„æ”¯æ’‘å®žä¾‹ï¼ˆ backing instance ï¼‰ã€‚è¿™æ ·å°±å¯ä»¥ç¡®ä¿åœ¨ä»»ä½•æ—¶é—´æ€»æ˜¯æ‹¿åˆ°æ­£ç¡®çš„å®žä¾‹ ä¾‹å¦‚: 123456789101112131415161718192021222324var MyComponent = React.createClass(&#123; handleClick: function() &#123; // ä½¿ç”¨åŽŸç”Ÿçš„ DOM API èŽ·å–ç„¦ç‚¹ this.refs.myInput.focus(); &#125;, render: function() &#123; // å½“ç»„ä»¶æ’å…¥åˆ° DOM åŽï¼Œref å±žæ€§æ·»åŠ ä¸€ä¸ªç»„ä»¶çš„å¼•ç”¨äºŽåˆ° this.refs return ( &lt;div&gt; &lt;input type="text" ref="myInput" /&gt; &lt;input type="button" value="ç‚¹æˆ‘è¾“å…¥æ¡†èŽ·å–ç„¦ç‚¹" onClick=&#123;this.handleClick&#125; /&gt; &lt;/div&gt; ); &#125;&#125;); ReactDOM.render( &lt;MyComponent /&gt;, document.getElementById('example')); Contextåœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œä½ æƒ³åœ¨æ•´ä¸ªç»„ä»¶æ ‘ä¸­ä¼ é€’æ•°æ®ï¼Œä½†å´ä¸æƒ³æ‰‹åŠ¨åœ°åœ¨æ¯ä¸€å±‚ä¼ é€’å±žæ€§ã€‚ä½ å¯ä»¥ç›´æŽ¥åœ¨ React ä¸­ä½¿ç”¨context APIè§£å†³ä¸Šè¿°é—®é¢˜ ç»å¤§å¤šæ•°åº”ç”¨ä¸éœ€è¦ä½¿ç”¨contextï¼Œè¿™åªæ˜¯ä¸€ä¸ªå®žéªŒæ€§çš„APIï¼Œå¾ˆæœ‰å¯èƒ½åœ¨æœªæ¥çš„Reactç‰ˆæœ¬ä¸­ç§»é™¤ è¿™é‡Œæœ‰ä¸ªå®˜æ–¹çš„contextä¾‹å­ï¼Œä»£ç æ¯”è¾ƒé•¿æˆ‘å°±ä¸æ¬è¿äº† Reactäº‹ä»¶Reactæœ‰ä¸€å¥—è‡ªå·±çš„äº‹ä»¶ç³»ç»Ÿï¼Œä¸€èˆ¬æ¥è¯´å…ƒç´ ç»‘å®šäº‹ä»¶éƒ½è¦ç”¨åˆ°Reactæä¾›çš„äº‹ä»¶æŽ¥å£ Reactçš„äº‹ä»¶å…¶å®žæ˜¯åšäº†ä¸€å±‚äº‹ä»¶ä»£ç†(äº‹ä»¶å§”æ‰˜)ï¼Œä½¿ç”¨ä¸€ä¸ªç»Ÿä¸€çš„äº‹ä»¶ç›‘å¬å™¨ï¼Œå½“äº‹ä»¶å‘ç”Ÿçš„æ—¶å€™ï¼Œåœ¨æ˜ å°„é‡Œæ‰¾åˆ°çœŸæ­£çš„å¤„ç†å‡½æ•°å¹¶è°ƒç”¨ï¼Œç®€åŒ–äº†äº‹ä»¶å¤„ç†å’Œå›žæ”¶æœºåˆ¶ï¼Œæå‡äº†æ•ˆçŽ‡ã€‚ å¦‚æžœä½ æ‰“å°ä¸€ä¸‹è¿™ä¸ªäº‹ä»¶ï¼Œå°±ä¼šå‘çŽ°æ˜¯ä¸€ä¸ªProxyå¯¹è±¡ å¦‚æžœåœ¨Reactä¸­ç»‘å®šäº†åŽŸç”Ÿäº‹ä»¶ï¼Œç»„ä»¶å¸è½½çš„æ—¶å€™è®°å¾—è§£ç»‘ï¼Œé¿å…å†…å­˜æ³„æ¼ æ‰€ä»¥å°½é‡é¿å…åœ¨Reactä¸­ä½¿ç”¨æ··åˆäº‹ä»¶å’ŒDomäº‹ä»¶ é«˜é˜¶ç»„ä»¶(HOC)é«˜é˜¶ç»„ä»¶ï¼ˆHOCï¼‰æ˜¯Reactå¼€å‘ä¸­çš„ç‰¹æœ‰åè¯ï¼Œä¸€ä¸ªå‡½æ•°è¿”å›žä¸€ä¸ªReactç»„ä»¶ï¼ŒæŒ‡çš„å°±æ˜¯ä¸€ä¸ªReactç»„åŒ…è£¹ç€å¦ä¸€ä¸ªReactç»„ä»¶ã€‚å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªç”Ÿäº§Reactç»„ä»¶çš„å·¥åŽ‚ ä¸€å¥è¯æ¦‚æ‹¬ï¼šæŽ¥å—ä¸€ä¸ªç»„ä»¶ä½œä¸ºå‚æ•°ï¼Œè¿”å›žä¸€ä¸ªç»„ä»¶çš„å‡½æ•° æœ‰ä¸¤ç§ç±»åž‹çš„HOC: Props Proxyï¼ˆppï¼‰ HOCå¯¹è¢«åŒ…è£¹ç»„ä»¶WrappedComponentçš„propsè¿›è¡Œæ“ä½œ Inherbitance Inversionï¼ˆiiï¼‰HOCç»§æ‰¿è¢«åŒ…è£¹ç»„ä»¶WrappedComponent ä¾‹å­:12345678910111213// Target æ˜¯ä¸€ä¸ªç»„ä»¶ï¼Œå®ƒä½œä¸ºå‚æ•°ä¼ ç»™äº†Hocè¿™ä¸ªå‡½æ•°function Hoc(Target) &#123; class Wrap extends Component &#123; render() &#123; return ( &lt;div className='wrap'&gt; &lt;Target /&gt; &lt;/div&gt; ); &#125; &#125; return Wrap;&#125; æœ¬æ–‡éšæ—¶é—´æ›´æ–°]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>React</tag>
        <tag>React-Native</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Webpacké…ç½®è®²è§£]]></title>
    <url>%2F2018%2F03%2F28%2FWebpack%E9%85%8D%E7%BD%AE%E8%AE%B2%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯ä¹‹å‰è®²äº†è®²Parcelæ­å»ºReactçŽ¯å¢ƒâ€¦æƒ³äº†æƒ³ä¸è®²ä¸€å“ˆWebpackè¿˜çœŸæœ‰ç‚¹è¿‡æ„ä¸åŽ» å¼€å§‹å®‰è£…1234npm install webpack webpack-cli -g # æˆ–è€…yarn global add webpack webpack-cli é…ç½®åˆ›å»ºpackage.jsonæ–‡ä»¶1234npm install webpack -D # æˆ–è€…yarn add webpack -D æ·»åŠ npm scripts1234567&quot;scripts&quot;: &#123; &quot;build&quot;: &quot;webpack --mode production&quot;&#125;,&quot;devDependencies&quot;: &#123; &quot;webpack&quot;: &quot;^4.1.1&quot;, &quot;webpack-cli&quot;: &quot;^2.0.12&quot;,&#125; å…¥å£éšæ„åˆ›å»º./src/index.jsï¼Œæ­¤ä¸ºwebpacké»˜è®¤å…¥å£æ–‡ä»¶ï¼Œè‹¥æƒ³æ›´æ”¹å¯ä»¥å¯¹webpacké…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹ 1234567891011121314151617181920212223242526272829module.exports = &#123; entry: './src/index.js' &#125;// ä¸Šè¿°é…ç½®ç­‰åŒäºŽmodule.exports = &#123; entry: &#123; main: './src/index.js' &#125;&#125;// æˆ–è€…é…ç½®å¤šä¸ªå…¥å£module.exports = &#123; entry: &#123; foo: './src/page-foo.js', bar: './src/page-bar.js', // ... &#125;&#125;// ä½¿ç”¨æ•°ç»„æ¥å¯¹å¤šä¸ªæ–‡ä»¶è¿›è¡Œæ‰“åŒ…module.exports = &#123; entry: &#123; main: [ './src/foo.js', './src/bar.js' ] &#125;&#125; loader æˆ‘ä»¬å¯ä»¥æŠŠ loader ç†è§£ä¸ºæ˜¯ä¸€ä¸ªè½¬æ¢å™¨ï¼Œè´Ÿè´£æŠŠæŸç§æ–‡ä»¶æ ¼å¼çš„å†…å®¹è½¬æ¢æˆ webpack å¯ä»¥æ”¯æŒæ‰“åŒ…çš„æ¨¡å— åœ¨module.rulesä¸­è¿›è¡Œä¿®æ”¹123456789101112module: &#123; // ... rules: [ &#123; test: /\.jsx?/, // åŒ¹é…æ–‡ä»¶è·¯å¾„çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œé€šå¸¸æˆ‘ä»¬éƒ½æ˜¯åŒ¹é…æ–‡ä»¶ç±»åž‹åŽç¼€ include: [ path.resolve(__dirname, 'src') // æŒ‡å®šå“ªäº›è·¯å¾„ä¸‹çš„æ–‡ä»¶éœ€è¦ç»è¿‡ loader å¤„ç† ], use: 'babel-loader', // æŒ‡å®šä½¿ç”¨çš„ loader &#125;, ],&#125; å…³äºŽloaderçš„å®‰è£…å¯ä»¥æŸ¥çœ‹ç½‘å€ plugin æ¨¡å—ä»£ç è½¬æ¢çš„å·¥ä½œç”± loader æ¥å¤„ç†ï¼Œé™¤æ­¤ä¹‹å¤–çš„å…¶ä»–ä»»ä½•å·¥ä½œéƒ½å¯ä»¥äº¤ç”± plugin æ¥å®Œæˆï¼Œåªéœ€åœ¨é…ç½®ä¸­é€šè¿‡ plugins å­—æ®µæ·»åŠ æ–°çš„ plugin å³å¯ 1234567const UglifyPlugin = require('uglifyjs-webpack-plugin')module.exports = &#123; plugins: [ new UglifyPlugin() ],&#125; è¾“å‡º webpack çš„è¾“å‡ºå³æŒ‡ webpack æœ€ç»ˆæž„å»ºå‡ºæ¥çš„é™æ€æ–‡ä»¶ï¼Œä½¿ç”¨outputå­—æ®µè¿›è¡Œä¿®æ”¹ 12345678910111213141516171819202122232425262728module.exports = &#123; // ... output: &#123; path: path.resolve(__dirname, 'dist'), filename: 'bundle.js', &#125;,&#125;// æˆ–è€…å¤šä¸ªå…¥å£ç”Ÿæˆä¸åŒæ–‡ä»¶module.exports = &#123; entry: &#123; foo: './src/foo.js', bar: './src/bar.js', &#125;, output: &#123; filename: '[name].js', path: __dirname + '/dist', &#125;,&#125;// è·¯å¾„ä¸­ä½¿ç”¨ hashï¼Œæ¯æ¬¡æž„å»ºæ—¶ä¼šæœ‰ä¸€ä¸ªä¸åŒ hash å€¼ï¼Œé¿å…å‘å¸ƒæ–°ç‰ˆæœ¬æ—¶çº¿ä¸Šä½¿ç”¨æµè§ˆå™¨ç¼“å­˜module.exports = &#123; // ... output: &#123; filename: '[name].js', path: __dirname + '/dist/[hash]', &#125;,&#125; å°ç»“åˆ›å»ºä¸€ä¸ªç®€å•çš„é…ç½®æ–‡ä»¶webpack.config.js 12345678910111213141516171819202122232425262728293031323334353637383940const path = require('path')const UglifyPlugin = require('uglifyjs-webpack-plugin')module.exports = &#123; entry: './src/index.js', output: &#123; path: path.resolve(__dirname, 'dist'), filename: 'bundle.js', &#125;, module: &#123; rules: [ &#123; test: /\.jsx?/, include: [ path.resolve(__dirname, 'src') ], use: 'babel-loader', &#125;, ], &#125;, // ä»£ç æ¨¡å—è·¯å¾„è§£æžçš„é…ç½® resolve: &#123; modules: [ "node_modules", path.resolve(__dirname, 'src') ], extensions: [".wasm", ".mjs", ".js", ".json", ".jsx"], &#125;, plugins: [ new UglifyPlugin(), // ä½¿ç”¨ uglifyjs-webpack-plugin æ¥åŽ‹ç¼© JS ä»£ç  // å¦‚æžœä½ ç•™æ„äº†æˆ‘ä»¬ä¸€å¼€å§‹ç›´æŽ¥ä½¿ç”¨ webpack æž„å»ºçš„ç»“æžœï¼Œä½ ä¼šå‘çŽ°é»˜è®¤å·²ç»ä½¿ç”¨äº† JS ä»£ç åŽ‹ç¼©çš„æ’ä»¶ // è¿™å…¶å®žä¹Ÿæ˜¯æˆ‘ä»¬å‘½ä»¤ä¸­çš„ --mode production çš„æ•ˆæžœï¼ŒåŽç»­çš„å°èŠ‚ä¼šä»‹ç» webpack çš„ mode å‚æ•° ],&#125; ç®€å•çš„webpackæ­å»ºå°±åˆ°è¿™é‡Œ]]></content>
      <categories>
        <category>Webpack</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>Webpack</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å’ŒsetImmediateå°å§é‚£é”€é­‚çš„ä¸€å¤œæƒ…]]></title>
    <url>%2F2018%2F03%2F27%2F%E5%92%8CSetImmediate%E5%B0%8F%E5%A7%90%E9%82%A3%E9%94%80%E9%AD%82%E7%9A%84%E4%B8%80%E5%A4%9C%E6%83%85%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯Rexå¤§ä½¬çœ‹å®Œæˆ‘çš„é‚£ç¯‡ä¸€é“ç®€å•é¢è¯•é¢˜ç†è§£JSäº‹ä»¶æœºåˆ¶ï¼ˆ+1ç™½è¯è®²è§£)åŽæŽ¨èæˆ‘åŠ ä¸ŠsetImmediateè¿™ä¸ªä¸œä¸œ.. äºŽæ˜¯è¿™ç¯‡åšå®¢åº”è¿è€Œç”Ÿ~ ç®€ä»‹This method is used to break up long running operations and run a callback function immediately after the browser has completed other operations such as events and display updates. å¦‚æžœçœ‹ä¸æ‡‚è¿™æ®µè¯â€¦é‚£ä¹ˆè¿™ç¯‡æ–‡ç« å¯èƒ½ä¸é€‚åˆä½  æ¸è¿›å…ˆæ¥ä¸ªç®€å•çš„Node.jsçš„Event loop 123456789101112131415161718 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€&gt;â”‚ timers â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ I/O callbacks â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ idle, prepare â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ incoming: â”‚â”‚ â”‚ poll â”‚&lt;â”€â”€â”€â”€â”€â”¤ connections, â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ data, etc. â”‚â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚ check â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â””â”€â”€â”¤ close callbacks â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Event loopçš„åŸºç¡€çŸ¥è¯†è¿™é‡Œä¸å†è®²è§£.. æƒ³äº†è§£çš„å¯ä»¥çœ‹æˆ‘ä¸Šé¢æåˆ°çš„é‚£ç¯‡åšæ–‡ timers: è¿™ä¸ªé˜¶æ®µæ‰§è¡ŒsetTimeout()å’ŒsetInterval()è®¾å®šçš„å›žè°ƒã€‚ I/O callbacks: æ‰§è¡Œå‡ ä¹Žæ‰€æœ‰çš„å›žè°ƒï¼Œé™¤äº†closeå›žè°ƒï¼Œtimerçš„å›žè°ƒï¼Œå’ŒsetImmediate()çš„å›žè°ƒã€‚ idle, prepare: ä»…å†…éƒ¨ä½¿ç”¨ã€‚ poll: èŽ·å–æ–°çš„I/Oäº‹ä»¶ï¼›nodeä¼šåœ¨é€‚å½“æ¡ä»¶ä¸‹é˜»å¡žåœ¨è¿™é‡Œã€‚ check: æ‰§è¡ŒsetImmediate()è®¾å®šçš„å›žè°ƒã€‚ close callbacks: æ‰§è¡Œæ¯”å¦‚socket.on(â€˜closeâ€™, â€¦)çš„å›žè°ƒã€‚ ä¾‹å­1234567setTimeout(function timeout () &#123; console.log('timeout');&#125;,0);setImmediate(function immediate () &#123; console.log('immediate');&#125;); setTimeout(fn, 0)å‡ ä¹Žç­‰ä»·äºŽsetTimeout(fn, 1) ç»“æžœå¦‚ä½•? ç­”æ¡ˆæ˜¯ä¸ç¡®å®šï¼Œå› ä¸ºä¸èƒ½ç¡®å®šè¿›è¡Œåˆ°timersçš„æ—¶å€™1msæ˜¯å¦å·²ç»è¿‡åŽ»ï¼Œå¦‚æžœæ²¡è¿‡åŽ»é‚£å°±æ‰§è¡Œcheckä¸­çš„setImmediateäº† å¦å¤–å¦‚æžœåœ¨ä¸€äº›ç‰¹å®šçš„ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œï¼Œæ¯”å¦‚fs.readFileï¼Œè¯¥å‡½æ•°çš„å›žè°ƒæ‰§è¡Œæ˜¯åœ¨pollé˜¶æ®µï¼Œé‚£ä¹ˆæŽ¥ä¸‹æ¥å°±ä¸€å®šä¼šå…ˆæ‰§è¡Œcheckä¸­çš„setImmediate å¤šæ¬¡è°ƒç”¨ setImmediate åˆ™æŠŠå›žè°ƒéƒ½æ”¾å…¥é˜Ÿåˆ—ï¼Œåœ¨ check é˜¶æ®µéƒ½ä¼šæ‰§è¡Œ setImmediate å›žè°ƒé‡Œè°ƒç”¨setImmediate ï¼Œåˆ™æ”¾åˆ°ä¸‹æ¬¡ event loop æœªå®Œå¾…ç»­]]></content>
      <categories>
        <category>Javascript</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>Node.js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Canvasæ¨¡ä»¿è‰èŽ“éŸ³ä¹èŠ‚å®£ä¼ è§†é¢‘]]></title>
    <url>%2F2018%2F03%2F27%2FCanvas%E6%A8%A1%E4%BB%BF%E8%8D%89%E8%8E%93%E9%9F%B3%E4%B9%90%E8%8A%82%E5%AE%A3%E4%BC%A0%E8%A7%86%E9%A2%91%2F</url>
    <content type="text"><![CDATA[ç®€ä»‹åœ¨æŽ˜é‡‘ä¸Šçœ‹äº†ä¸€ç¯‡æ–‡ç« ï¼Œä½œè€…ä½¿ç”¨çš„æ˜¯å¯¼å‡ºçš„svgï¼Œç„¶é¹…æˆ‘ä¸ä¼šï¼Œæ‰€ä»¥æˆ‘å°±æƒ³ç€ç”¨canvasæ’¸å‡ºæ¥â€¦é¡ºä¾¿å½“å¤ä¹ äº† ä»£ç  è¿™é‡ŒåªæŒ‘ä¸€äº›æˆ‘è®¤ä¸ºæœ‰ä»·å€¼çš„åœ°æ–¹è®².. æƒ³äº†æƒ³â€¦canvaså¥½åƒç¡®å®žæ²¡å•¥å€¼å¾—è®²çš„ï¼Œä¸»è¦æ˜¯æ’¸ä»£ç çš„æ—¶å€™æ³¨æ„ç»˜ç”»çš„åæ ‡ï¼Œè¦è€ƒè™‘å¥å£®æ€§â€¦ä¸ç„¶ä½ ä¼šå‘çŽ°åŽæœŸå¾ˆéš¾ç»´æŠ¤ animation-fill-mode: bothè¿™æ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œè®©æœ€åŽæ”¾å¤§çš„ä¸‰ä¸ªåœ†åœ¨æ‰§è¡ŒåŠ¨ç”»å‰ä¸æ˜¾ç¤ºæ ·å¼ä»¥åŠåŠ¨ç”»ç»“æŸåŽä¿æŒæ ·å¼ ä»£ç Jså¤ªé•¿ è¿™é‡Œå°±åªè´´Htmläº†12345678910&lt;div class="main"&gt; &lt;canvas id="left-dot" height="500" width="700"&gt;&lt;/canvas&gt; &lt;canvas id="left-scroll" height="600" width="700"&gt;&lt;/canvas&gt; &lt;canvas id="right-scroll" height="600" width="700"&gt;&lt;/canvas&gt; &lt;canvas id="circle-out" height="500" width="700"&gt;&lt;/canvas&gt; &lt;canvas id="circle-inner" height="500" width="700"&gt;&lt;/canvas&gt; &lt;canvas id="circle1" height="500" width="700"&gt;&lt;/canvas&gt; &lt;canvas id="circle2" height="500" width="700"&gt;&lt;/canvas&gt; &lt;canvas id="circle3" height="500" width="700"&gt;&lt;/canvas&gt;&lt;/div&gt; æˆå“]]></content>
      <categories>
        <category>Canvas</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>Canvas</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Parcelä¸Šæ‰‹ä¸ŽReactå¼€å‘çŽ¯å¢ƒæ­å»º]]></title>
    <url>%2F2018%2F03%2F25%2FParcel%E4%B8%8A%E6%89%8B%E4%B8%8EReact%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯æˆ‘ä»Žä¸å…³æ³¨ä»£ç ä¹‹å¤–çš„ä¸œè¥¿ï¼Œå› ä¸ºæˆ‘ç›¸ä¿¡æœ‰äººä¼šå¸®æˆ‘åšè¿™äº›â€¦ ä¹‹å‰ä¸Šæ‰‹äº†Parcelæ„Ÿè§‰è¿˜OKï¼Œåœ¨è¿™é‡Œå°å°çš„æ•´ç†ä¸€å“ˆ å¼€å§‹æ“ä½œ å®‰è£…Parcel 1yarn global add parcel-bundler åˆ›å»ºpackage.jsonå†é¡ºä¾¿åŠ ä¸ªå‘½ä»¤ 12345yarn init -y// package.json"scripts": &#123; "start": "parcel index.html"&#125; å®‰è£…Babel 1yarn add babel-preset-env å®‰è£…node-sass 1yarn add node-sass æŽ¥ç€åˆ›å»º.babelrc 123&#123; "preset": ["env"]&#125; å®‰è£…Reactä¾èµ– 12345yarn add reactyarn add react-domyarn add --dev parcel-bundleryarn add --dev babel-preset-envyarn add --dev babel-preset-react åœ¨.babelrcä¸­ä¿®æ”¹ 123&#123; "presets": ["env", "react"]&#125; è®©Reactå†…éƒ¨Classæ”¯æŒç®­å¤´å‡½æ•° 1npm install --save-dev babel-plugin-transform-class-properties åœ¨.babelrcä¸­æ·»åŠ  1234"presets": ["env", "react"],"plugins": [ ["transform-class-properties", &#123; "spec": true &#125;] ] å†æ•´ç†ä¸€ä¸‹ç›®å½•â€¦çŽ°åœ¨åº”è¯¥æ˜¯è¿™æ ·çš„(å…³é”®çš„) 123456789node_modulessrc components containers App.js App.scss.babelrcindex.htmlpackage.json index.html12345678910111213&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;Parcel-React&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;div id="root"&gt;&lt;/div&gt; &lt;script src="./src/index.js"&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; index.js12345import React from 'react';import ReactDOM from 'react-dom';import App from './App';ReactDOM.render(&lt;App /&gt;, document.getElementById('root')); App.js123456789101112131415import React, &#123; Component &#125; from 'react';import './App.scss';class App extends Component &#123; render() &#123; return ( &lt;div className="App"&gt; &lt;h1&gt;Hello Parcel-React&lt;/h1&gt; &lt;/div&gt; ); &#125;&#125;export default App; App.scss123456789$color-red: red;$color-black: black;h1&#123; color: $color-red; cursor: pointer; &amp;:hover&#123; color: $color-black; &#125;&#125; package.json1234567891011121314151617181920&#123; "name": "parcel-test1", "version": "1.0.0", "main": "index.js", "license": "MIT", "scripts": &#123; "start": "parcel index.html" &#125;, "dependencies": &#123; "babel-preset-env": "^1.6.1", "node-sass": "^4.8.3", "react": "^16.2.0", "react-dom": "^16.2.0" &#125;, "devDependencies": &#123; "babel-core": "^6.26.0", "babel-preset-react": "^6.24.1", "parcel-bundler": "^1.6.2" &#125;&#125; æœ€åŽnpm runä¸€å“ˆ èˆ’æœäº†ï¼Œç»ˆäºŽå¯ä»¥ä¸ç”¨æ‰‹è„šæž¶äº†ï¼Œè‡ªå·±åŠ¨æ‰‹ä¸°è¡£è¶³é£Ÿ æœ‰ä»€ä¹ˆå…¶ä»–ä¾èµ–å†è‡ªå·±yarn addæˆ–npm installå°±å¥½å•¦]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>React</tag>
        <tag>Parcel</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[çº¯å‰ç«¯å®žçŽ°Gifåˆ¶ä½œ]]></title>
    <url>%2F2018%2F03%2F24%2F%E7%BA%AF%E5%89%8D%E7%AB%AF%E5%AE%9E%E7%8E%B0gif%E5%88%B6%E4%BD%9C%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯å—åœ¨çº¿SorryåŠ¨å›¾åˆ¶ä½œå¯å‘ï¼Œæƒ³è‡ªå·±ç”¨çº¯å‰ç«¯æ’¸ä¸€ä¸ªç±»ä¼¼çš„ä¸œè¥¿å‡ºæ¥ï¼Œè¿™é‡Œåœ°å€ å¼€å§‹æ“ä½œBeginå¼€å§‹æ²¡æœ‰ä»»ä½•å¤´ç»ªï¼Œæƒ³ç€åŽ»åˆ«äººæºç é‚£copyä¸€ä¸‹ï¼Œå‘çŽ°æ ¹æœ¬ç”¨ä¸ä¸Šâ€¦ Next æƒ³æ³•1: ç”¨ç»å¯¹å®šä½å°†æ–‡å­—å®šä½åˆ°gifä¸Š,ç„¶åŽæ ¹æ®gifç‰¹å®šæ—¶é—´ç‚¹æ˜¾ç¤ºç‰¹å®šæ–‡å­— æƒ³æ³•2: åœ¨ç‰¹å®šçš„æ—¶é—´ç‚¹ä¸Šç”¨canvasåœ¨gifä¸Šç»˜åˆ¶ç‰¹å®šçš„æ–‡å­— Next Resultæƒ³äº†æƒ³ï¼Œä¸Šé¢ä¸¤ç§æƒ³æ³•å¾ˆå¥½å®žçŽ°ï¼Œä½†æ˜¯éƒ½åªæ˜¯æŠŠåŠ¨å›¾å±•ç¤ºå‡ºæ¥ï¼Œä¸èƒ½æŠŠä¿®æ”¹åŽçš„æ–‡å­—ä¿å­˜åˆ°gifé‡Œ å†Nextå¯¹gifçš„æ¯ä¸€å¸§è¿›è¡Œå¤„ç†ç„¶åŽå†æ‹¼æˆgif å†Next Resultæƒ³äº†æƒ³ï¼Œæ²¡ä»€ä¹ˆå¤§é—®é¢˜ï¼Œé‚£å°±å¼€å¹²å§ çœŸæ­£å¼€å§‹æ“ä½œ~æ€Žä¹ˆæŠŠå¤„ç†åŽçš„å›¾ç‰‡æ‹¼æŽ¥æˆgifæ˜¯ä¸ªé—®é¢˜ï¼ŒåŽ»googleäº†ä¸€æ³¢å‘çŽ°gif.jsè¿™ä¸ªçŽ©æ„ï¼Œapiä¹Ÿå¾ˆç®€å•ï¼ŒæŠŠå›¾ç‰‡æˆ–è€…canvasä¼ è¿›åŽ»ç„¶åŽrenderä¸€ä¸‹å°±ojbkäº†,æ¥ä¸ªå®˜æ–¹demo 12345678910111213141516171819var gif = new GIF(&#123; workers: 2, quality: 10&#125;);// add a image elementgif.addFrame(imageElement);// or a canvas elementgif.addFrame(canvasElement, &#123;delay: 200&#125;);// or copy the pixels from a canvas contextgif.addFrame(ctx, &#123;copy: true&#125;);gif.on('finished', function(blob) &#123; window.open(URL.createObjectURL(blob));&#125;);gif.render(); è‡³äºŽå¦‚ä½•èŽ·å¾—gifçš„æ¯ä¸€å¸§ï¼Œæˆ‘ç”¨çš„macä¸‹çš„Gif preview ç”¨æˆ·ç‚¹å‡»ç”ŸæˆåŽç”¨ç±»ä¼¼æ‡’åŠ è½½çš„æ–¹å¼åŠ è½½å›¾ç‰‡ 12345for(let i = 0 ; i &lt; num ; i++)&#123; image = new Image() image.src = `xxxx$&#123;i&#125;/xx.jpg` arr[i] = image&#125; è¯·æ±‚æ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œæˆ‘å…ˆç”¨macä¸‹çš„Compress Allå¯¹å›¾ç‰‡è¿›è¡ŒåŽ‹ç¼©ï¼Œç„¶åŽå†ç”¨gzipè¿›ä¸€æ­¥åŽ‹ç¼©æ‰€æœ‰æ–‡ä»¶(è¿™éƒ½æ˜¯åŽè¯äº†) æŽ¥ä¸‹æ¥è°ƒç”¨canvasçš„drawImageï¼Œç»˜åˆ¶arrå›¾ç‰‡æ•°ç»„ä¸­çš„å›¾ç‰‡ï¼Œç„¶åŽç”¨canvasåœ¨ä¸Šé¢ç»˜åˆ¶æ–‡å­—ï¼Œæ³¨æ„ç»˜åˆ¶çš„è¿‡ç¨‹ä½¿ç”¨å‡½æ•°requestAnimationFrame(è¿™å‘çˆ¬äº†å¥½ä¹…)ï¼Œå…³äºŽæ­¤å‡½æ•°è¿™é‡Œå°±ä¸è®²è§£äº† 123456function render()&#123; ctx.drawImage(arr[i],0,0) ...... requestAnimationFrame(render)&#125;render() ç„¶åŽä¸€ä¸ªå¾ªçŽ¯æŠŠcanvaséƒ½addè¿›åŽ» 123for(let j = 0 ; j &lt; num ; j++)&#123; gif.addFrame(ctx,&#123;delay: 167&#125;)&#125; è¿™é‡Œæ³¨æ„è¿™ä¸¤å—ä»£ç æ‰§è¡Œçš„é¡ºåºï¼ŒæŒ‰ç…§æ­£å¸¸ç†è§£æ˜¯drawä¸€ä¸ªaddä¸€ä¸ªä½†æ˜¯æˆ‘å‘çŽ°ä¸è¡Œ(wocä¸ºä»€ä¹ˆ?)ï¼Œæ”¹äº†åŠå¤©ç ´ç½ç ´æ‘”éƒ½drawå®ŒåŽå†ä¸€è‚¡è„‘addè¿›åŽ»å‘çŽ°ç«Ÿç„¶å¯ä»¥(???)â€¦ æˆ‘æ‰“å°äº†ä¸€ä¸‹æ‰§è¡Œé¡ºåºå‘çŽ°addç«Ÿç„¶æ˜¯åœ¨drawä¹‹å‰å®Œæˆçš„ å› ä¸ºdrawæ˜¯é€’å½’è°ƒç”¨ï¼Œå¹¶ä¸”drawå’Œaddéƒ½æ˜¯åŒæ­¥ä»»åŠ¡ï¼ŒæŒ‰ç…§Jså•çº¿ç¨‹æ¥çœ‹drawäº†ä¸€æ¬¡åŽå°±è½®åˆ°addçš„forå¾ªçŽ¯æ‰§è¡Œï¼Œæ‰§è¡Œå®Œæ¯•åŽæ‰ä¼šæ‰§è¡Œé€’å½’è°ƒç”¨çš„draw é‚£ä¹ˆé—®é¢˜æ¥äº†â€¦ é€’å½’è°ƒç”¨çš„drawè¿˜æ²¡æ‰§è¡Œï¼Œä¸ºä»€ä¹ˆforå¾ªçŽ¯é‡Œå°±èƒ½æŠŠæ²¡ç»˜åˆ¶çš„å…ƒç´ çŠ¶æ€â€addâ€è¿›åŽ»â€¦ äºŽæ˜¯æˆ‘çœ‹äº†ä¸€æ³¢æºç  1234567891011121314151617181920212223242526272829303132333435GIF.prototype.addFrame = function(image, options) &#123; var frame, key; if (options == null) &#123; options = &#123;&#125; &#125; frame = &#123;&#125;; frame.transparent = this.options.transparent; for (key in frameDefaults) &#123; frame[key] = options[key] || frameDefaults[key] &#125; if (this.options.width == null) &#123; this.setOption("width", image.width) &#125; if (this.options.height == null) &#123; this.setOption("height", image.height) &#125; if (typeof ImageData !== "undefined" &amp;&amp; ImageData !== null &amp;&amp; image instanceof ImageData) &#123; frame.data = image.data &#125; else if (typeof CanvasRenderingContext2D !== "undefined" &amp;&amp; CanvasRenderingContext2D !== null &amp;&amp; image instanceof CanvasRenderingContext2D || typeof WebGLRenderingContext !== "undefined" &amp;&amp; WebGLRenderingContext !== null &amp;&amp; image instanceof WebGLRenderingContext) &#123; if (options.copy) &#123; frame.data = this.getContextData(image) &#125; else &#123; frame.context = image &#125; &#125; else if (image.childNodes != null) &#123; if (options.copy) &#123; frame.data = this.getImageData(image) &#125; else &#123; frame.image = image &#125; &#125; else &#123; throw new Error("Invalid image") &#125; return this.frames.push(frame)&#125; instanceof è¿ç®—ç¬¦ç”¨æ¥æµ‹è¯•ä¸€ä¸ªå¯¹è±¡åœ¨å…¶åŽŸåž‹é“¾ä¸­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªæž„é€ å‡½æ•°çš„ prototype å±žæ€§ å¾ˆæ˜Žæ˜¾, å› ä¸ºaddæ—¶å€™å‚æ•°æ²¡æœ‰ä¼ copyæ‰€ä»¥è¿›å…¥frame.context = imageï¼Œçœ‹åˆ°contextç¬¬ä¸€æ„Ÿè§‰æ˜¯å’Œæ‰§è¡Œä¸Šä¸‹æ–‡æœ‰å…³ç³»ï¼Œå†æ‰“å°ä¸€éæ‰§è¡Œé¡ºåºå‘çŽ°gif.on(&#39;finish&#39;)æ˜¯å…¨éƒ¨drawå®ŒåŽæ‰§è¡Œçš„ï¼Œç»“åˆworkerä¸éš¾æŽ¨å‡ºframeå’Œcanvasä¹‹é—´æ˜¯ç±»ä¼¼å¼•ç”¨çš„å…³ç³»å¹¶ä¸”åœ¨å­çº¿ç¨‹ä¸­ä¸æ–­æ‰§è¡Œâ€¦ æœ€åŽå°±å¾ˆç®€å•äº†â€¦renderä¸€ä¸‹å°±ojbk è€ƒè™‘åˆ°æˆ‘æœåŠ¡å™¨æ€§èƒ½å’Œç½‘é€Ÿâ€¦ æˆ‘åœ¨è¿™æ•´ä¸ªå¤§å‡½æ•°å¤–é¢å¥—äº†ä¸ªå»¶æ—¶å™¨â€¦ä¿è¯ç”¨æˆ·åŠ è½½å®Œå›¾ç‰‡åŽæ‰å¼€å§‹drawImageï¼Œä¸ç„¶ä¼šæŠ¥é”™ å¯åŠ¨æœåŠ¡å™¨ä½¿ç”¨node.jsçš„expressæ­å»º æ€»ç»“å…‰æ˜¯æœ€åŽè¿™ä¸ªæƒ³æ³•ä»‹ç»èµ·æ¥éƒ½èƒ½çœ‹å‡ºæ¥æˆ‘è¸©äº†å¾ˆå¤šå‘â€¦.ä¹‹å‰çš„æƒ³æ³•è¸©äº†å¤šå°‘å‘å°±ä¸æäº†23333ï¼Œå¹¶ä¸”å‘çŽ°ä¸å¯¹åŽæ•´ä¸ªä»£ç éƒ½è¦é‡å†™emmmï¼Œä¸è¿‡æ”¶èŽ·è¿˜æ˜¯å¾ˆå¤šï¼ŒåŒæ ·çš„é—®é¢˜ä¸ä¼šçŠ¯ç¬¬äºŒæ¬¡äº†]]></content>
      <categories>
        <category>Javascript</category>
      </categories>
      <tags>
        <tag>HTML</tag>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSSäººäººéƒ½èƒ½å†™è‡ªå®šä¹‰Checkboxï¼ˆ+1ç™½è¯è®²è§£ï¼‰]]></title>
    <url>%2F2018%2F03%2F23%2FCSS%E4%BA%BA%E4%BA%BA%E9%83%BD%E8%83%BD%E5%86%99%E8%87%AA%E5%AE%9A%E4%B9%89Checkbox%EF%BC%88-1%E7%99%BD%E8%AF%9D%E8%AE%B2%E8%A7%A3%EF%BC%89%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯é‚£ä¸€åˆ»â€¦æ— æ•°å‰ç«¯å¼€å‘è€…æƒ³èµ·äº†è‡ªå·±æ›¾ç»è¢«Checkboxæ”¯é…çš„ææƒ§â€¦è¿™ç§åœ¨ç»å¤§å¤šæ•°æµè§ˆå™¨ä¸­å‡ ä¹Žæˆ–å®Œå…¨ä¸èƒ½è¿›è¡Œæ ·å¼æ›¿ä»£çš„çŽ©æ„è®©å¼€å‘è€…ä»¬è¢«è¿«é€‰æ‹©é»˜è®¤æ ·å¼ï¼Œæˆ–è€…æ˜¯æ‰¾ä¸€äº›è®¿é—®æ€§æžå·®çš„hackæ–¹æ¡ˆâ€¦ å¼€å§‹æ“ä½œ å…ˆæŠŠåŸºæœ¬ç»“æž„æžå‡ºæ¥12&lt;input type="checkbox" id="awesome" /&gt;&lt;label for="awesome"&gt;Awesome!&lt;/label&gt; å¯èƒ½æœ‰éƒ¨åˆ†äººä¸çŸ¥é“labelæœ‰å•¥ç”¨: å½“labelä¸Žcheckboxå…³è”åŽï¼Œå°±å¯ä»¥èµ·åˆ°è§¦å‘å¼€å…³çš„ä½œç”¨ï¼Œå¹¶ä¸”æˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¹å…¶æ·»åŠ ä¸€äº›å†…å®¹(ä¸‹é¢ä¼šè®²è§£)æ¥æ¨¡æ‹Ÿcheckboxçš„æ ·å¼ï¼Œå†æŠŠçœŸæ­£çš„checkboxéšè—ï¼Œæœ€ç»ˆè¾¾åˆ°æˆ‘ä»¬çš„ç›®çš„ æ·»åŠ æ ·å¼123456789101112input[type="checkbox"] + label::before&#123; content: '\a0'; /* ä¸æ¢è¡Œç©ºæ ¼ */ display: inline-block; /* è®©å…ƒç´ å’Œlabelå¤„äºŽåŒä¸€è¡Œ */ vertical-align: .1em; /* è®¾ç½®å…ƒç´ å‘ä¸Šåç§».1em */ width: .8em; height: .8em; margin-right: .2em; /* å’Œlabelä¿æŒä¸€å®šè·ç¦» */ border-radius: .2em; /* åŠ ä¸ªåœ†è§’ */ background-color: lightcoral; text-indent: .15em; /* è®¾ç½®å…ƒç´ å†…content(ä¸‹æ–‡æ¨¡æ‹Ÿçš„âœ“)çš„ç¼©è¿› */ line-height: .65; /* è®¾ç½®è¡Œé«˜ */&#125; â€˜+â€™ é€‰æ‹©å™¨æŒ‡ç›¸é‚»åŒèƒžé€‰æ‹©å™¨ï¼Œä¾‹å­ä¸­æŒ‡é€‰æ‹©ç´§æŒ¨åœ¨checkboxåŽé¢çš„label~ å¯¹äºŽcontentè¿™ä¸ªå±žæ€§ï¼Œè¿™é‡Œæœ‰ç¯‡åšå®¢å¤§å®¶å¯ä»¥çœ‹ä¸€ä¸‹ç¼–ç  å…³äºŽemè¿™é‡Œå°±ä¸å†è®²è§£å•¦~ ä¸è¿‡è¿˜æ˜¯æŽ¨èå¤§å®¶å‡ºé—¨æ‹æ‹æ‹åŽ»å­¦ä¹ ä¸€ä¸‹emmmmm. å±•ç¤º è¿™ä¸ªæ·¡çŠç‘šè‰²çš„æ¡†æ¡†å°±æ˜¯æˆ‘ä»¬è®¾ç½®çš„label::before åŠ ä¸ªé€‰ä¸­çŠ¶æ€ 1234input[type="checkbox"]:checked + label::before&#123; content: '\2713'; background: lightblue;&#125; å±•ç¤º è¿™ä¸ªå¯¹å‹¾çš„ä½ç½®å—åˆ°äº†ä¸Šé¢æ ·å¼text-indent: .15emçš„å½±å“ è¿™é‡Œç”¨åˆ°äº†CSS3çš„checkedä¼ªå¯¹è±¡é€‰æ‹©å™¨ éšè—é»˜è®¤çš„checkbox 1234input[type="checkbox"]&#123; position: absolute; clip: rect(0,0,0,0); /* å‰ªè£ç»å¯¹å®šä½å…ƒç´  */&#125; å±•ç¤º æ³¨æ„, è¿™é‡Œä½¿ç”¨display:noneè™½ç„¶ä¹Ÿèƒ½éšè—,ä½†æ˜¯ä¼šå°†checkboxä»Žtabåˆ‡æ¢ç„¦ç‚¹çš„é˜Ÿåˆ—ä¸­åˆ é™¤(æ¯”å¦‚ä½ è¾“å…¥å®Œè´¦å·å¯†ç åŽä½¿ç”¨tabä¸ä¼šä½¿checkboxèŽ·å¾—ç„¦ç‚¹) ç»“æžœ Html 12&lt;input type="checkbox" id="awesome" /&gt;&lt;label for="awesome"&gt;Awesome!&lt;/label&gt; Css 1234567891011121314151617181920input[type="checkbox"] + label::before&#123; content: '\a0'; display: inline-block; vertical-align: .1em; width: .8em; height: .8em; margin-right: .2em; border-radius: .2em; background-color: lightcoral; text-indent: .15em; line-height: .65;&#125;input[type="checkbox"]:checked + label::before&#123; content: '\2713'; background: lightblue;&#125;input[type="checkbox"]&#123; position: absolute; clip: rect(0,0,0,0);&#125; äº†è§£äº†åŸºç¡€æ“ä½œåŽï¼Œç›¸ä¿¡å„ä½èƒ½è‡ªå·±ç‹¬ç«‹å†™ä¸€ä¸ªè‡ªå®šä¹‰checkboxå•¦ï¼Œå„ä½ä¹Ÿå¯ä»¥è‡ªç”±ä¿®æ”¹contentæˆ–è€…æ·»åŠ åŠ¨ç”»åšå‡ºé…·ç‚«çš„æ•ˆæžœ~]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[(åæ§½)å­¦ç”ŸæŠŠä»£ç ä½œä¸šæ”¾åˆ°åšå®¢é‡Œæœ‰é”™ä¹ˆ?]]></title>
    <url>%2F2018%2F03%2F19%2F%E5%90%90%E6%A7%BD-%E5%AD%A6%E7%94%9F%E6%8A%8A%E4%BB%A3%E7%A0%81%E4%BD%9C%E4%B8%9A%E6%94%BE%E5%88%B0%E5%8D%9A%E5%AE%A2%E9%87%8C%E6%9C%89%E9%94%99%E4%B9%88%2F</url>
    <content type="text"><![CDATA[èµ·å› äº‹æƒ…å‘ç”Ÿåœ¨æˆ‘çš„å‘¨å›´ï¼ŒæŸä½åŒå­¦(ä»¥ä¸‹ç§°ä¸ºXæ€»)æŠŠå®žéªŒè¯¾å¸ƒç½®çš„è¯¾è®¾æŸä¸€é˜¶æ®µçš„ä»£ç æ”¾åˆ°äº†åšå®¢é‡Œï¼Œå¹¶æ³¨è§£äº†è‡ªå·±çš„ç†è§£ç­‰ç­‰â€¦.å¬èµ·æ¥æ˜¯ä¸€ä»¶å€¼å¾—è¡¨æ‰¬çš„äº‹æƒ…ï¼Œç„¶è€Œç»“æžœå¹¶ä¸å¦‚æ­¤â€¦ é«˜æ½®å½“å®žéªŒè¯¾åŠ©æ•™æ£€æŸ¥æ”¶ä¸Šæ¥çš„ä½œä¸šæŠ¥å‘Šæ—¶ï¼Œå‘çŽ°æœ‰åå¤šä¸ªäººçš„ä»£ç æ˜¯ç›¸åŒçš„â€¦!ç»è¿‡è°ƒæŸ¥ï¼Œç¡®å®šäº†æ˜¯é‚£äº›åŒå­¦ä¸Šç½‘æœåˆ°äº†Xæ€»çš„åšå®¢ï¼Œå‘çŽ°å†™çš„çœŸå¥½è¿˜æœ‰è‡ªå·±çš„ç†è§£ï¼ŒäºŽæ˜¯å°±å¼€å¿ƒçš„æŠ„äº†ä¸‹æ¥ ç»“æžœXæ€»å’ŒæŠ„ä½œä¸šçš„åŒå­¦éƒ½å—åˆ°äº†æ‰£åˆ†æˆ–é›¶åˆ†çš„å¤„ç½®ï¼Œå¹¶ä¸”Xæ€»èŽ·å¾—å’ŒåŠ©æ•™ç§èŠçš„æœºä¼šä¸€æ¬¡(å†…å®¹ä¸å¾—è€ŒçŸ¥) è°ƒæŸ¥ç‰¹æ´¾å‘˜addoneå¯¹åŠ©æ•™å’ŒXæ€»è¿›è¡Œäº†é—´æŽ¥è°ƒæŸ¥ åŠ©æ•™: å› ä¸ºæˆ‘ä»¬ä¸ä¼šåŽ»çœ‹æ˜¯è°å†™çš„åšå®¢ï¼Œæ‰€ä»¥åªèƒ½å¯¹ä»£ç ç›¸åŒçš„åŒå­¦åŒæ ·å¤„ç½® Xæ€»: (æˆ‘: Xæ€»ä¸‹ä¸€é˜¶æ®µè¿˜å†™åšå®¢ä¹ˆ)æˆ‘Kè°è¿˜æ•¢å†™å•Š.. èˆ†è®ºç¾¤å†…æ´»è·ƒäººå‘˜(æ•¢è¯´è¯çš„å¤§ä½¬ä»¬)å€¾å‘äºŽXæ€» ä¸ªäººæƒ³æ³•å†™åšå®¢çš„Xæ€»æ²¡æœ‰ä»»ä½•é”™è¯¯ï¼Œé”™è¯¯éƒ½åœ¨äºŽæŠ„åšå®¢çš„åŒå­¦ï¼ŒåŠ©æ•™åº”è¯¥åŽ»æ‰¾æ˜Žæ˜¯è°è¢«æŠ„(æœ¬æ¥ä¹Ÿä¸æ˜¯éš¾äº‹)å¹¶ä¸”ä¸¥åŽ‰è­¦å‘Šé‚£äº›æŠ„ä»£ç çš„åŒå­¦ï¼Œè€Œä¸æ˜¯è¿™ç§é…·é…·çš„è¯´:â€åˆ†ä¸æ¸…æ˜¯è°æŠ„è°â€é‚£å¥â€æˆ‘Kè°è¿˜æ•¢å†™å•Šâ€çœŸæ˜¯ä»¤äººå¯’å¿ƒ.. å„ä½çœ‹å®˜ä½ ä»¬çš„æƒ³æ³•å‘¢?]]></content>
      <categories>
        <category>åæ§½</category>
      </categories>
      <tags>
        <tag>é˜…è¯»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTTPçŠ¶æ€ç ç®€æ˜Žå®å…¸]]></title>
    <url>%2F2018%2F03%2F18%2FHTTP%E7%8A%B6%E6%80%81%E7%A0%81%E7%AE%80%E6%98%8E%E5%AE%9D%E5%85%B8%2F</url>
    <content type="text"><![CDATA[ä»‹ç»çŠ¶æ€ç çš„èŒè´£æ˜¯å½“å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚æ—¶å€™ï¼Œæè¿°è¿”å›žçš„è¯·æ±‚å†…å®¹ çŠ¶æ€ç å¦‚200 OK ï¼Œä»¥ä¸‰ä½æ•°å­—å’ŒåŽŸå› çŸ­è¯­ç»„æˆ çŠ¶æ€ç  ç±»åˆ« åŽŸå› çŸ­è¯­ 1XX informational(ä¿¡æ¯æ€§çŠ¶æ€ç ) æŽ¥æ”¶çš„è¯·æ±‚æ­£åœ¨å¤„ç† 2XX Success(æˆåŠŸçŠ¶æ€ç ) è¯·æ±‚æ­£å¸¸å¤„ç†å®Œæ¯• 3XX Redirection(é‡å®šå‘çŠ¶æ€ç ) éœ€è¦è¿›è¡Œé™„åŠ æ“ä½œä»¥å®Œæˆè¯·æ±‚ 4XX Client Error(å®¢æˆ·ç«¯é”™è¯¯çŠ¶æ€ç ) æœåŠ¡å™¨æ— æ³•å¤„ç†è¯·æ±‚ 5XX Server Error(æœåŠ¡å™¨é”™è¯¯çŠ¶æ€ç ) æœåŠ¡å™¨å¤„ç†è¯·æ±‚å‡ºé”™ æœ¬æ–‡åªä»‹ç»å…·æœ‰ä»£è¡¨æ€§çš„14ä¸ªçŠ¶æ€ç  2XXæˆåŠŸ2XXçš„å“åº”ç»“æžœè¡¨æ˜Žè¯·æ±‚è¢«æ­£å¸¸å¤„ç†äº† 200 OKä»Žå®¢æˆ·ç«¯å‘æ¥çš„è¯·æ±‚åœ¨æœåŠ¡ç«¯è¢«æ­£å¸¸å¤„ç†äº† åœ¨å“åº”æŠ¥æ–‡å†…ï¼ŒéšçŠ¶æ€ç ä¸€èµ·è¿”å›žçš„ä¿¡æ¯ä¼šå› æ–¹æ³•çš„ä¸åŒè€Œå‘ç”Ÿæ”¹å˜(GET/HEAD) 204 No ContentæœåŠ¡å™¨æŽ¥æ”¶çš„è¯·æ±‚å·²æˆåŠŸå¤„ç†ï¼Œä½†åœ¨è¿”å›žçš„å“åº”æŠ¥æ–‡ä¸­ä¸å«å®žä½“çš„ä¸»ä½“éƒ¨åˆ†ï¼Œä¹Ÿä¸å…è®¸è¿”å›žä»»ä½•å®žä½“çš„ä¸»ä½“ ä¸€èˆ¬åœ¨åªéœ€è¦ä»Žå®¢æˆ·ç«¯å¾€æœåŠ¡ç«¯å‘é€ä¿¡æ¯ï¼Œè€Œå¯¹å®¢æˆ·ç«¯ä¸éœ€è¦å‘é€æ–°ä¿¡æ¯å†…å®¹çš„æƒ…å†µä¸‹ä½¿ç”¨ 206 Partial Contentå®¢æˆ·ç«¯è¿›è¡Œäº†èŒƒå›´è¯·æ±‚ï¼Œè€ŒæœåŠ¡å™¨æˆåŠŸæ‰§è¡Œäº†è¿™éƒ¨åˆ†çš„GETè¯·æ±‚ å“åº”æŠ¥æ–‡ä¸­åŒ…å«ç”±Content-RangeæŒ‡å®šèŒƒå›´çš„å®žä½“å†…å®¹ 3XX é‡å®šå‘3XXçš„å“åº”ç»“æžœè¡¨æ˜Žæµè§ˆå™¨éœ€è¦æ‰§è¡ŒæŸäº›ç‰¹æ®Šçš„å¤„ç†æ¥æ­£ç¡®å¤„ç†è¯·æ±‚ 301 Moved Permanentlyæ°¸ä¹…æ€§é‡å®šå‘ã€‚è¯·æ±‚çš„èµ„æºå·²ç»è¢«åˆ†é…äº†æ–°çš„URIï¼Œä»¥åŽåº”è¯¥ä½¿ç”¨èµ„æºçŽ°åœ¨æ‰€æŒ‡å‘çš„URI å¦‚æžœå·²ç»æŠŠèµ„æºå¯¹åº”URIä¿å­˜ä¸ºä¹¦ç­¾ï¼Œè¿™æ—¶åº”è¯¥æŒ‰Locationé¦–éƒ¨å­—æ®µæç¤ºçš„URIé‡æ–°ä¿å­˜ 302 Foundä¸´æ—¶æ€§é‡å®šå‘ã€‚è¯·æ±‚çš„èµ„æºå·²ç»è¢«åˆ†é…äº†æ–°çš„URIï¼Œå¸Œæœ›ç”¨æˆ·(æœ¬æ¬¡)ä½¿ç”¨æ–°çš„URIè®¿é—® åªæ˜¯ä¸´æ—¶æ€§è´¨çš„ç§»åŠ¨ã€‚å¦‚æžœå·²ç»æŠŠURIä¿å­˜ä¸ºä¹¦ç­¾ï¼Œä¸ä¼šåƒ301é‚£æ ·åŽ»æ›´æ–°ï¼Œè€Œæ˜¯ä»æ—§ä¿ç•™è¿”å›ž302çŠ¶æ€ç çš„é¡µé¢å¯¹åº”URI 303 See Otherè¯·æ±‚å¯¹åº”çš„èµ„æºå­˜åœ¨ç€å¦ä¸€ä¸ªURIï¼Œåº”ä½¿ç”¨GETæ–¹æ³•å®šå‘èŽ·å–è¯·æ±‚èµ„æºã€‚ 303ä¸Ž302æœ‰ç›¸åŒçš„åŠŸèƒ½ï¼Œä½†æ˜¯303æ˜Žç¡®è¡¨æ˜Žåº”è¯¥ä½¿ç”¨GETæ–¹æ³• 304 Not Modifiedå®¢æˆ·ç«¯å‘é€é™„å¸¦æ¡ä»¶çš„è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨å…è®¸è¯·æ±‚è®¿é—®èµ„æºã€‚ä½†è‹¥è¯·æ±‚æœªæ»¡è¶³æ¡ä»¶ï¼Œåˆ™ç›´æŽ¥è¿”å›ž304(æœåŠ¡ç«¯èµ„æºæœªæ”¹å˜ï¼Œå¯ç›´æŽ¥ä½¿ç”¨å®¢æˆ·ç«¯æœªè¿‡æœŸçš„ç¼“å­˜) 307 Temporary Redirectä¸´æ—¶é‡å®šå‘ã€‚ä¸Ž302 Foundæœ‰ç›¸åŒçš„å«ä¹‰ 307ä¼šéµç…§æµè§ˆå™¨æ ‡å‡†ï¼Œä¸ä¼šä»ŽPOSTå˜æˆGET 4XX å®¢æˆ·ç«¯é”™è¯¯4XXçš„å“åº”ç»“æžœè¡¨æ˜Žå®¢æˆ·ç«¯æ˜¯å‘ç”Ÿé”™è¯¯çš„åŽŸå› æ‰€åœ¨ 400 Bad Requestè¯·æ±‚æŠ¥æ–‡ä¸­å­˜åœ¨è¯­æ³•é”™è¯¯ï¼Œéœ€ä¿®æ”¹è¯·æ±‚å†…å®¹å†æ¬¡å‘é€ æµè§ˆå™¨ä¼šåƒå¯¹å¾…200 OKä¸€æ ·å¯¹å¾…è¯¥çŠ¶æ€ç  401 Unauthorizedå‘é€çš„è¯·æ±‚éœ€è¦æœ‰é€šè¿‡HTTPè®¤è¯çš„è®¤è¯ä¿¡æ¯ï¼Œè‹¥ä¹‹å‰å·²è¿›è¡Œè¿‡ä¸€æ¬¡è¯·æ±‚ï¼Œåˆ™è¡¨ç¤ºè®¤è¯å¤±è´¥ã€‚ è¿”å›žè¯¥å“åº”å¿…é¡»åŒ…å«ä¸€ä¸ªé€‚ç”¨äºŽè¢«è¯·æ±‚èµ„æºçš„WWW-Authenticateé¦–éƒ¨ä»¥è´¨è¯¢ç”¨æˆ·ä¿¡æ¯ã€‚æµè§ˆå™¨åˆæ¬¡æŽ¥æ”¶åˆ°401å“åº”ä¼šå¼¹å‡ºè®¤è¯ç”¨çš„å¯¹è¯çª—å£ 403 Forbiddenè¯·æ±‚èµ„æºçš„è®¿é—®è¢«æœåŠ¡å™¨æ‹’ç»ã€‚æœåŠ¡å™¨æ²¡æœ‰å¿…è¦ç»™å‡ºæ‹’ç»çš„è¯¦ç»†ç†ç”±ã€‚ æœªèŽ·å¾—æ–‡ä»¶ç³»ç»Ÿçš„è®¿é—®æŽˆæƒï¼Œè®¿é—®æƒé™å‡ºçŽ°æŸäº›é—®é¢˜ç­‰æƒ…å†µéƒ½æœ‰å¯èƒ½è§¦å‘403 404 Not FoundæœåŠ¡å™¨ä¸Šæ— æ³•æ‰¾åˆ°è¯·æ±‚çš„èµ„æº ä¹Ÿå¯åœ¨æœåŠ¡ç«¯æ‹’ç»è¯·æ±‚ä¸”ä¸æƒ³è¯´æ˜Žç†ç”±æ—¶ä½¿ç”¨ 5XX æœåŠ¡å™¨é”™è¯¯5XXçš„å“åº”ç»“æžœè¡¨æ˜ŽæœåŠ¡å™¨æœ¬èº«å‘ç”Ÿé”™è¯¯ 500 Internal Server ErroræœåŠ¡ç«¯åœ¨æ‰§è¡Œè¯·æ±‚æ—¶å‘ç”Ÿäº†é”™è¯¯ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯Webåº”ç”¨çš„Bugæˆ–ä¸´æ—¶æ•…éšœ 503 Service UnavailableæœåŠ¡å™¨å¤„äºŽè¶…è´Ÿè½½æˆ–æ­£åœ¨åœæœºç»´æŠ¤ï¼Œæ— æ³•å¤„ç†è¯·æ±‚ã€‚ è¡¥å…… è¿”å›žçš„çŠ¶æ€ç å¯èƒ½å’Œä¿¡æ¯ä¸å¯¹ç­‰ URIæ˜¯ä»€ä¹ˆ? å‚è€ƒäºŽã€ŠHTTPå›¾è§£ã€‹]]></content>
      <categories>
        <category>HTTP</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>HTTP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Reactç”Ÿå‘½å‘¨æœŸç®€æ˜Žå®å…¸]]></title>
    <url>%2F2018%2F03%2F16%2FReact%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%80%E6%98%8E%E5%AE%9D%E5%85%B8%2F</url>
    <content type="text"><![CDATA[ä»‹ç»Reactçš„ç”Ÿå‘½å‘¨æœŸæ˜¯æˆ‘ä»¬æŽŒæ¡Reactå·¥ä½œè¿‡ç¨‹æ‰€å¿…é¡»æŽŒæ¡çš„çŸ¥è¯†ï¼ŒåŒæ—¶ä¹Ÿæ˜¯éƒ¨åˆ†å…¬å¸çš„é¢è¯•è€ƒç‚¹ æ¦‚è¦Reactä¸¥æ ¼å®šä¹‰äº†ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼Œå…¶ä¸»è¦ç»åŽ†äº†å¦‚ä¸‹ä¸‰ä¸ªè¿‡ç¨‹ è£…è½½è¿‡ç¨‹(Mount): ç»„ä»¶ç¬¬ä¸€æ¬¡åœ¨DOMæ ‘ä¸­æ¸²æŸ“çš„è¿‡ç¨‹ æ›´æ–°è¿‡ç¨‹(Update): ç»„ä»¶é‡æ–°æ¸²æŸ“çš„è¿‡ç¨‹ å¸è½½è¿‡ç¨‹(Unmount): ç»„ä»¶ä»ŽDOMä¸­åˆ é™¤çš„è¿‡ç¨‹ è£…è½½è¿‡ç¨‹ç»„ä»¶ç¬¬ä¸€æ¬¡è¢«æ¸²æŸ“çš„æ—¶å€™ï¼Œä¾æ¬¡è°ƒç”¨çš„å‡½æ•°ä¸ºï¼š constructor getInitialState getDefaultProps componentWillMount render componentDidMount 1. constructorES6ä¸­æ¯ä¸ªç±»çš„æž„é€ å‡½æ•°ï¼Œè¦åˆ›å»ºä¸€ä¸ªç»„ä»¶çš„å®žä¾‹å°±è¦è°ƒç”¨ç›¸åº”çš„æž„é€ å‡½æ•°ã€‚ä½†æ˜¯å¹¶ä¸æ˜¯æ¯ä¸ªç»„ä»¶éƒ½è¦å®šä¹‰è‡ªå·±çš„æž„é€ å‡½æ•°ï¼Œæ¯”å¦‚æ— çŠ¶æ€çš„Reactç»„ä»¶ã€‚ä¸€ä¸ªç»„ä»¶è°ƒç”¨æž„é€ å‡½æ•°ï¼Œå¾€å¾€æ˜¯ä¸ºäº†ä¸¤ä¸ªç›®çš„ï¼š åˆå§‹åŒ–state ç»‘å®šæˆå‘˜å‡½æ•°çš„thisçŽ¯å¢ƒ getInitialStateå’ŒgetDefaultPropsgetInitialStateï¼šè¯¥å‡½æ•°è¿”å›žå€¼ç”¨æ¥åˆå§‹åŒ–stategetDefaultProps: è¯¥å‡½æ•°è¿”å›žå€¼ç”¨æ¥åˆå§‹åŒ–props è¿™ä¸¤è€…åªæœ‰ç”¨React.createClassæ–¹æ³•åˆ›é€ çš„ç»„ä»¶ç±»æ‰ä¼šå‘ç”Ÿä½œç”¨ï¼Œå¹¶ä¸”React.createClasså·²ç»è¢«Fbå®˜æ–¹åºŸå¼ƒï¼Œæ‰€ä»¥è¿™é‡Œä¸ç»†è®²äº† 2. componentWillMountè¿™ä¸ªå‡½æ•°æ²¡ä»€ä¹ˆå­˜åœ¨æ„Ÿï¼Œå› ä¸ºåœ¨è¿™ä¸ªæ—¶å€™æ²¡æœ‰ä»»ä½•æ¸²æŸ“å‡ºæ¥çš„ç»“æžœï¼Œè°ƒç”¨setStateä¿®æ”¹çŠ¶æ€ä¹Ÿä¸ä¼šè§¦å‘é‡æ–°æ¸²æŸ“ï¼Œå¹¶ä¸”åœ¨è¿™é‡Œåšçš„äº‹æƒ…å®Œå…¨å¯ä»¥æå‰åˆ°constructorä¸­åŽ»åš 3. renderå¯ä»¥è¯´Reactç»„ä»¶ä¸­æœ€é‡è¦çš„å‡½æ•°ï¼Œå› ä¸ºReactç»„ä»¶çš„çˆ¶ç±»React.Componentç±»å¯¹é™¤renderä¹‹å¤–çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°éƒ½æœ‰é»˜è®¤å®žçŽ° renderå¹¶ä¸åšæ¸²æŸ“å·¥ä½œï¼Œåªæ˜¯è¿”å›žä¸€ä¸ªJSXæè¿°çš„ç»“æž„ï¼Œæœ€ç»ˆç”±Reactåº“æ ¹æ®è¿”å›žå¯¹è±¡å†³å®šå¦‚ä½•æ¸²æŸ“ renderåº”è¯¥æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼Œå®Œå…¨æ ¹æ®stateå’Œpropsæ¥å†³å®šè¿”å›žç»“æžœï¼Œè€Œä¸äº§ç”Ÿå‰¯ä½œç”¨ï¼Œæ‰€ä»¥renderä¸­è°ƒç”¨setStateæ˜¯é”™çš„ï¼Œå› ä¸ºçº¯å‡½æ•°ä¸åº”è¯¥å¼•èµ·çŠ¶æ€çš„æ”¹å˜ 4. componentDidMount componentDidMountå¹¶ä¸æ˜¯åœ¨renderè°ƒç”¨åŽç«‹å³è°ƒç”¨ï¼Œå…¶è°ƒç”¨çš„æ—¶å€™renderè¿”å›žçš„JSXå·²ç»æ¸²æŸ“äº† componentWillMountå¯ä»¥åœ¨æœåŠ¡ç«¯å’Œæµè§ˆå™¨ç«¯è°ƒç”¨ï¼Œä½†æ˜¯componentDidMountåªèƒ½åœ¨æµè§ˆå™¨ç«¯è°ƒç”¨(å› ä¸ºâ€è£…è½½â€è¿‡ç¨‹æ˜¯ä¸å¯èƒ½åœ¨æœåŠ¡ç«¯å®Œæˆçš„) å¼‚æ­¥è¯·æ±‚æ•°æ®ä¸€èˆ¬éƒ½åœ¨è¯¥å‡½æ•°å†…è¿›è¡Œã€‚ æ›´æ–°è¿‡ç¨‹æ›´æ–°è¿‡ç¨‹ä¼šä¾æ¬¡è°ƒç”¨ä»¥ä¸‹ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼š componentWillReceiveProps shouldComponentUpdate componentWillUpdate render componentDidUpdate æ›´æ–°è¿‡ç¨‹å¹¶ä¸æ€»æ˜¯æ‰§è¡Œæ‰€æœ‰å‡½æ•° 1. componentWillReceivePropsåªè¦æ˜¯çˆ¶ç»„ä»¶çš„renderå‡½æ•°è¢«è°ƒç”¨ï¼Œåœ¨renderé‡Œæ¸²æŸ“çš„å­ç»„ä»¶å°±ä¼šç»åŽ†æ›´æ–°è¿‡ç¨‹ï¼Œä¸ç®¡çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶çš„propsæœ‰æ²¡æœ‰æ”¹å˜ï¼Œéƒ½ä¼šè§¦å‘componentWillReceivePropsã€‚ æ³¨æ„é€šè¿‡setStateè§¦å‘çš„æ›´æ–°è¿‡ç¨‹ä¸ä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œä¸ç„¶å²‚ä¸æ˜¯æ­»å¾ªçŽ¯äº†? 2. shouldComponentUpdateåº”è¯¥æ˜¯é™¤äº†renderä¹‹å¤–æœ€é‡è¦çš„å‡½æ•°äº†ã€‚å®ƒå†³å®šäº†ä¸€ä¸ªç»„ä»¶ä»€ä¹ˆæ—¶å€™éœ€ä¸éœ€è¦æ¸²æŸ“ã€‚renderå’ŒshouldComponentUpdateæ˜¯Reactä¸­å”¯äºŒéœ€è¦æœ‰è¿”å›žå€¼çš„å‡½æ•°ï¼ŒshouldComponentUpdateè¿”å›žä¸€ä¸ªå¸ƒå°”å€¼ï¼Œå‘Šè¯‰Reactæ˜¯å¦éœ€è¦ç»§ç»­æ›´æ–°ï¼Œè‹¥ä¸ºtrueåˆ™ç»§ç»­ï¼Œä¸ºfalseåˆ™åœæ­¢æ›´æ–°ï¼Œä¸ä¼šè§¦å‘ä¹‹åŽçš„é‡æ–°æ¸²æŸ“ã€‚ 3. componentWillUpdateå³å°†renderæ—¶æ‰§è¡Œï¼Œåˆå§‹åŒ–renderæ—¶ä¸æ‰§è¡Œã€‚åœ¨è¿™é‡ŒåŒæ ·ä¸èƒ½setStateï¼Œè¿™ä¸ªå‡½æ•°è°ƒç”¨ä¹‹åŽï¼Œå°±ä¼šæŠŠnextPropså’ŒnextStateåˆ†åˆ«è®¾ç½®åˆ°ropså’Œstateä¸­ï¼Œç´§æŽ¥ç€è°ƒç”¨render 4. renderåŒä¸Š 5. componentDidUpdateç»„ä»¶æ›´æ–°å®ŒæˆåŽæ‰§è¡Œï¼Œåˆå§‹åŒ–renderæ—¶ä¸æ‰§è¡Œ å¸è½½è¿‡ç¨‹å¸è½½è¿‡ç¨‹åªæœ‰ä¸€ä¸ªå‡½æ•°componentWillUnmountï¼Œå½“reactç»„ä»¶è¦ä»ŽDOMæ ‘ä¸Šåˆ é™¤å‰ï¼Œè¯¥å‡½æ•°ä¼šè¢«è°ƒç”¨ï¼Œæ‰€ä»¥è¿™ä¸ªå‡½æ•°é€‚åˆåšä¸€äº›æ¸…ç†å·¥ä½œã€‚ eg: åœ¨componentDidMountä¸­ç”¨éžreactæ–¹æ³•åˆ›å»ºçš„DOMå…ƒç´ ï¼Œå¦‚æžœä¸å¤„ç†å¯èƒ½ä¼šå‘ç”Ÿå†…å­˜æ³„æ¼ï¼Œå› æ­¤å¯ä»¥åœ¨è¯¥å‡½æ•°ä¸­å°†å…¶æ¸…ç†å¹²å‡€ æ€»ç»“Reactçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°å¹¶æ²¡æœ‰æƒ³è±¡ä¸­çš„é‚£ä¹ˆå¤æ‚ å‚è€ƒäºŽã€Šæ·±å…¥ç†è§£Reactã€‹]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç®€å•CSSå®žçŽ°é—ªçƒåŠ¨ç”»ï¼ˆ+1ç™½è¯è®²è§£ï¼‰]]></title>
    <url>%2F2018%2F03%2F15%2F%E7%AE%80%E5%8D%95CSS%E5%AE%9E%E7%8E%B0%E9%97%AA%E7%83%81%E5%8A%A8%E7%94%BB%EF%BC%88-1%E7%99%BD%E8%AF%9D%E8%AE%B2%E8%A7%A3%EF%BC%89%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯æœ¬æ–‡æ‰¿æŽ¥è‡ªä¸Šæ–‡ã€ŠCSSå®žçŽ°æ–‡å­—æ‰“å­—åŠ¨ç”»ï¼ˆ+1ç™½è¯è®²è§£ï¼‰ã€‹ ä»‹ç»æåˆ°é—ªçƒåŠ¨ç”»ï¼Œå¾ˆå¤šäººå¯èƒ½ä¼šæƒ³èµ· &lt;blink&gt; è¿™ä¸ªæ ‡ç­¾ï¼Œäº¦æˆ–è€…æ˜¯text-decoration: blinkè¿™ä¸ªä¸œè¥¿ï¼Œä½†æ˜¯è¿™ä¸¤è€…éƒ½æœ‰å¾ˆå¤§çš„å±€é™æ€§ï¼Œèº«ä¸ºâ€ä¸“ä¸šâ€å‰ç«¯å¼€å‘è€…çš„æˆ‘ä»¬æ€Žä¹ˆèƒ½æ»¡è¶³äºŽæ­¤å‘¢ï¼Ÿæ‰€ä»¥æˆ‘ä»¬ä¸å¾—ä¸åŽ»å¯»æ‰¾ä¸€äº›å…¶ä»–çš„æ–¹æ³•ã€‚ å¼€å§‹æ“ä½œåŽŸå›¾ å­—ä½“è°ƒå›žæ­£å¸¸å•¦~ æƒ³æ³•1:è®©å…ƒç´ å˜æˆé€æ˜Žå†å˜å›žåŽŸæ · 12345678.title&#123; animation: blink 1s 3;&#125;@keyframes blink&#123; to &#123; color: transparent; &#125;&#125; æˆ‘ä»¬ç”¨Chromeå¼€å‘è€…å·¥å…·ä¸­çš„Animationçœ‹ä¸€çœ‹è¿™ä¸ªåŠ¨ç”» å¯ä»¥å‘çŽ°..è¿™ä¸ªå…ƒç´ åœ¨å˜æˆé€æ˜Žä¹‹åŽä¼šçž¬é—´æ˜¾çŽ°åˆ°åŽŸæ¥çš„æ ·å­ï¼Œå¾ˆæ±Ÿç¡¬ï¼Œæˆ‘æƒ³æŠŠä»–å˜æˆå¹³æ»‘çš„æ˜¾çŽ°å‡ºæ¥ï¼ŒäºŽæ˜¯æƒ³åˆ°äº†ä¸€ä¸ªåŠžæ³•ï¼šé€šè¿‡ä¿®æ”¹å…³é”®å¸§ï¼Œè®©å…¶åœ¨å¾ªçŽ¯å‘¨æœŸä¸­è¿›è¡ŒçŠ¶æ€åˆ‡æ¢12345678.title&#123; animation: blink 1s 3;&#125;@keyframes blink&#123; 50% &#123; color: transparent; &#125;&#125; èˆ’æœäº†ä¸€ç‚¹ ä½†æ˜¯é•¿äº†çœ¼ç›çš„è¯»è€…ä¸€å®šèƒ½ä»Žå›¾ä¸­å‘çŽ°è¿™ä¸ªåŠ¨ç”»çš„è¿‡ç¨‹æ˜¯åŠ é€Ÿçš„ï¼Œå¯¼è‡´è¿™ä¸ªåŠ¨ç”»çœ‹èµ·æ¥ä¸æ˜¯å¾ˆè‡ªç„¶ è¯»äº†æˆ‘ä¸Šä¸€ç¯‡æ–‡ç« çš„ç«¥éž‹ä»¬ä¸€å®šä¼šæƒ³åˆ°stepsè¿™ä¸ªä¸œè¥¿~ è®©æˆ‘ä»¬æ¥è¯•ä¸€å“ˆ12345678.title&#123; animation: blink 1s 3 steps(1);&#125;@keyframes blink&#123; 50% &#123; color: transparent; &#125;&#125; å®Œç¾Ž åœ¨è¿™é‡Œç”¨toçš„ç«¥éž‹æ³¨æ„äº†ï¼Œsteps(1)è¡¨ç¤ºé¢œè‰²å€¼çš„åˆ‡æ¢åªå‘ç”Ÿåœ¨åŠ¨ç”»å‘¨æœŸçš„æœ«å°¾ï¼Œæ‰€ä»¥æ•ˆæžœä¼šå˜æˆè¿™æ · å‚»äº†å§ï¼Œä½ çš„åŠ¨ç”»æ˜¯ä¸€ä¸‹éƒ½ä¸ä¼šé—ªçš„ å›žé¡¾ä¸Šä¸€ç¯‡æ–‡ç« æœ«å°¾æåˆ°äº†æ·»åŠ ä¸€ä¸ªé—ªçƒçš„å…‰æ ‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ç”¨ä¸Šé¢å­¦åˆ°çš„çŸ¥è¯†æ¥å®žçŽ°ä¸€ä¸‹å§~12345678910111213141516171819.title&#123; ... width: 17ch; white-space: nowrap; overflow: hidden; border-right: 2px solid; //ä¸æŒ‡å®šé¢œè‰²ï¼Œä½¿å…‰æ ‡å’Œæ–‡å­—é¢œè‰²ä¸€è‡´ animation: typing 10s steps(17), blink 1s steps(1) infinite; //infiniteç”¨æ¥ä½¿åŠ¨ç”»æ— é™å¾ªçŽ¯&#125;@keyframes typing&#123; from &#123; width: 0; &#125;&#125;@keyframes blink&#123; 50% &#123; border-color: transparent; &#125;&#125; è‚¥è‚ å®Œç¾Ž å› ä¸ºå­—ä½“ç­‰åŽŸå› æ•ˆæžœå±•ç¤ºä¸æ˜¯è‚¥è‚ å¥½ï¼Œä½†æ˜¯åº”è¯¥æ˜¯æœ€ä¼˜è§£å•¦ï¼Œè¿˜å¯ä»¥é€šè¿‡JSè¿›è¡Œç»´æŠ¤ï¼Œè¿™é‡Œå°±ä¸è®²å•¦ æ–‡ç« ç¿»è¯‘æ”¹ç¼–äºŽCSSæ­ç§˜]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµè§ˆå™¨ä»Žè¾“å…¥URLåˆ°é¡µé¢åŠ è½½è¿‡ç¨‹ï¼ˆ+1ç™½è¯ç²¾ç®€è®²è§£ï¼‰]]></title>
    <url>%2F2018%2F03%2F14%2F%E6%B5%8F%E8%A7%88%E5%99%A8%E4%BB%8E%E8%BE%93%E5%85%A5URL%E5%88%B0%E9%A1%B5%E9%9D%A2%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B%EF%BC%88-1%E7%99%BD%E8%AF%9D%E7%B2%BE%E7%AE%80%E8%AE%B2%E8%A7%A3%EF%BC%89%2F</url>
    <content type="text"><![CDATA[ä»‹ç»:è¿™æ˜¯ä¸€ä¸ªå¾ˆå¸¸è§çš„é—®é¢˜ï¼Œæˆ‘ä»¬æ¯å¤©éƒ½åœ¨ç»åŽ†è¿™ä»¶äº‹ï¼Œä½†æ˜¯å´ä¸èƒ½è¯´å‡ºå…·ä½“çš„è¿‡ç¨‹ï¼ŒåŒæ—¶è¿™ä¹Ÿæ˜¯å‰ç«¯é¢è¯•çš„ä¸€ä¸ªè€ƒç‚¹ï¼Œæ‰€ä»¥æ¯ä¸ªå­¦ä¹ å‰ç«¯çš„äººéƒ½åº”è¯¥äº†è§£è¿™ä¸ªè¿‡ç¨‹ã€‚ æœ¬æ–‡ä»¥Chromeæµè§ˆå™¨ä¸ºä¾‹ï¼Œå…¶æ¸²æŸ“å¼•æ“Žä¸ºWebkit æŽ¥ä¸‹æ¥è®©æˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥èµ° è¾“å…¥URLåŽå¯æ¦‚æ‹¬ä¸ºä»¥ä¸‹å‡ ä¸ªè¿‡ç¨‹: æµè§ˆå™¨ä»ŽDNSæœåŠ¡å™¨èŽ·å–åŸŸåçš„IPåœ°å€(DNSè§£æž) æµè§ˆå™¨ä¸Žè¯¥IPæœåŠ¡å™¨å»ºç«‹TCPè¿žæŽ¥ æµè§ˆå™¨å‘é€HTTPè¯·æ±‚ æœåŠ¡å™¨æŽ¥æ”¶è¯·æ±‚å¹¶è¿”å›žHTTPæŠ¥æ–‡ æµè§ˆå™¨æŽ¥æ”¶è¿”å›žå†…å®¹ æ‹¿åˆ°è¿”å›žå†…å®¹åŽå…ˆæ”¾ä¸¤å¼ å¾ˆå®¹æ˜“æœåˆ°çš„æµç¨‹å›¾ å¯æ¦‚æ‹¬ä¸ºä»¥ä¸‹å‡ ä¸ªè¿‡ç¨‹: æ¸²æŸ“å¼•æ“ŽåŒæ—¶è§£æžHTMLæ–‡æ¡£å’Œæ ·å¼(CSSå’ŒStyleä¸­)ï¼Œä¸¤è€…åˆ†åˆ«ç”ŸæˆDOMæ ‘å’ŒCSSOMæ ‘ å°†DOMä¸­çš„â€å¯è§å†…å®¹â€(é™¤headæˆ–display: noneç­‰ç­‰)å’ŒCSSOMåˆå¹¶(attachment)æˆRenderTree(æ¸²æŸ“æ ‘) RenderTreeæž„å»ºå®Œæ¯•åŽè¿›è¡Œå¸ƒå±€(layout)ï¼Œå³ä¸ºæ¯ä¸ªèŠ‚ç‚¹åˆ†é…åæ ‡ éåŽ†RenderTreeï¼ŒPainting(ç»˜åˆ¶)æ¯ä¸ªèŠ‚ç‚¹ è§£æžå™¨é‡åˆ° script æ ‡è®°æ—¶ä¼šç«‹å³è§£æžå¹¶æ‰§è¡Œè„šæœ¬ï¼Œæ–‡æ¡£çš„è§£æžå°†åœæ­¢ï¼Œç›´åˆ°è„šæœ¬æ‰§è¡Œå®Œæ¯• è¡¥å……ä»€ä¹ˆæ˜¯CSSOM? CSSOMè§†å›¾æ¨¡å—(CSSOM View Module)å®šä¹‰äº†ä¸€äº› APIï¼ŒWeb å¼€å‘äººå‘˜ä½¿ç”¨è¿™äº› API å¯ä»¥è¿›è¡Œæ£€æŸ¥ï¼Œä¹Ÿå¯ä»¥ä»¥ç¼–ç¨‹æ–¹å¼æ›´æ”¹æ–‡æ¡£åŠå…¶å†…å®¹çš„è§†è§‰å±žæ€§ï¼ŒåŒ…æ‹¬å¸ƒå±€æ¡†å®šä½ã€è§†åŒºå®½åº¦å’Œå…ƒç´ æ»šåŠ¨ ä¸ºä»€ä¹ˆScriptä¼šé˜»ç¢æ–‡æ¡£çš„è§£æž? å› ä¸ºè¿™ä¸¤è€…å…¬ç”¨åŒä¸€ä¸ªçº¿ç¨‹ï¼Œä¸”Scriptä¼˜å…ˆçº§è¾ƒé«˜ å¦‚ä½•é¿å…ä¸Šä¸€ä¸ªé—®é¢˜? defer: å½“æµè§ˆå™¨é‡åˆ°å…·æœ‰deferå±žæ€§çš„è„šæœ¬æ—¶ï¼Œå®ƒä¼šé˜»æ­¢åŠ è½½å’Œæ‰§è¡Œè„šæœ¬ï¼Œç›´åˆ°HTMLæ–‡æ¡£ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½å·²è§£æžä¸ºæ­¢ async: ä½¿ç”¨ async å±žæ€§æ—¶ï¼Œæµè§ˆå™¨ä¼šå¼‚æ­¥åŠ è½½å’Œæ‰§è¡Œè„šæœ¬ï¼ŒåŒæ—¶ç»§ç»­è§£æžHTMLä¸­çš„å…¶ä»–å…ƒç´ ï¼ŒåŒ…æ‹¬å…¶ä»–è„šæœ¬å…ƒç´  HTMLéƒ½è§£æžå®ŒæˆåŽæ‰ä¼šç»˜åˆ¶RenderTreeä¹ˆ? å¹¶ä¸æ˜¯ã€‚æµè§ˆå™¨ä¼šå°½æ—©çš„æŠŠå†…å®¹æ˜¾ç¤ºå‡ºæ¥ï¼Œæ‰€ä»¥æ¯è§£æžä¸€éƒ¨åˆ†å°±ä¼šç»˜åˆ¶ä¸€éƒ¨åˆ†ã€‚ å¸Œæœ›ä½ çœ‹å®Œèƒ½æœ‰æ‰€æ”¶èŽ·]]></content>
      <categories>
        <category>æµè§ˆå™¨</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>é¢è¯•</tag>
        <tag>æµè§ˆå™¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸€é“ç®€å•é¢è¯•é¢˜ç†è§£JSäº‹ä»¶æœºåˆ¶ï¼ˆ+1ç™½è¯è®²è§£)]]></title>
    <url>%2F2018%2F03%2F14%2F%E4%B8%80%E9%81%93%E7%AE%80%E5%8D%95%E9%9D%A2%E8%AF%95%E9%A2%98%E7%90%86%E8%A7%A3JS%E4%BA%8B%E4%BB%B6%E6%9C%BA%E5%88%B6%EF%BC%88-1%E7%99%BD%E8%AF%9D%E8%AE%B2%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[å®šä¹‰ åŒæ­¥: ä¸€ä¸ªè¿›ç¨‹åœ¨æ‰§è¡ŒæŸä¸ªè¯·æ±‚çš„æ—¶å€™ï¼Œè‹¥è¯¥è¯·æ±‚éœ€è¦ä¸€æ®µæ—¶é—´æ‰èƒ½è¿”å›žä¿¡æ¯ï¼Œé‚£ä¹ˆè¿™ä¸ªè¿›ç¨‹å°†ä¼šä¸€ç›´ç­‰å¾…ä¸‹åŽ»ï¼Œç›´åˆ°æ”¶åˆ°è¿”å›žä¿¡æ¯æ‰ç»§ç»­æ‰§è¡Œä¸‹åŽ» å¼‚æ­¥: è¿›ç¨‹ä¸éœ€è¦ä¸€ç›´ç­‰ä¸‹åŽ»ï¼Œè€Œæ˜¯ç»§ç»­æ‰§è¡Œä¸‹é¢çš„æ“ä½œï¼Œä¸ç®¡å…¶ä»–è¿›ç¨‹çš„çŠ¶æ€ã€‚å½“æœ‰æ¶ˆæ¯è¿”å›žæ—¶ç³»ç»Ÿä¼šé€šçŸ¥è¿›ç¨‹è¿›è¡Œå¤„ç†ï¼Œè¿™æ ·å¯ä»¥æé«˜æ‰§è¡Œçš„æ•ˆçŽ‡ çº¿ç¨‹: çº¿ç¨‹æ˜¯ç¨‹åºä¸­ä¸€ä¸ªå•ä¸€çš„é¡ºåºæŽ§åˆ¶æµç¨‹ã€‚è¿›ç¨‹å†…ä¸€ä¸ªç›¸å¯¹ç‹¬ç«‹çš„ã€å¯è°ƒåº¦çš„æ‰§è¡Œå•å…ƒï¼Œæ˜¯ç³»ç»Ÿç‹¬ç«‹è°ƒåº¦å’Œåˆ†æ´¾CPUçš„åŸºæœ¬å•ä½ã€‚æŒ‡è¿è¡Œä¸­çš„ç¨‹åºçš„è°ƒåº¦å•ä½ å•çº¿ç¨‹: å•çº¿ç¨‹åœ¨ç¨‹åºæ‰§è¡Œæ—¶ï¼Œæ‰€èµ°çš„ç¨‹åºè·¯å¾„æŒ‰ç…§è¿žç»­é¡ºåºæŽ’ä¸‹æ¥ï¼Œå‰é¢çš„å¿…é¡»å¤„ç†å¥½ï¼ŒåŽé¢çš„æ‰ä¼šæ‰§è¡Œã€‚å•çº¿ç¨‹å°±æ˜¯è¿›ç¨‹é‡Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹ é—®é¢˜123456789console.log(100)setTimeout(function () &#123; console.log(200)&#125;, 0)console.log(300)è¾“å‡º:// 100// 300// 200 è§£æž JSä¸ºå•çº¿ç¨‹, ä½†æ˜¯ä»»åŠ¡æ‰§è¡Œåˆ†ä¸ºåŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡ ä»£ç ä¸­console.logä¸ºåŒæ­¥ä»»åŠ¡, setTimeoutä¸ºå¼‚æ­¥ä»»åŠ¡(è¿™äº›åŸºç¡€ä¸œè¥¿å°±ä¸è¿‡å¤šè§£é‡Šäº†) ä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºJSè¿™æ¡å•çº¿ç¨‹ä¸­æœ‰ä¸¤æ¡äº‹ä»¶é˜Ÿåˆ—, ä¸€æ¡ä¸ºåŒæ­¥é˜Ÿåˆ—(ä¸»äº‹ä»¶å¤§å¾ªçŽ¯ Event Loop)ï¼Œä¸€æ¡ä¸ºå¼‚æ­¥é˜Ÿåˆ—ï¼ŒåŒæ­¥ä»»åŠ¡åœ¨åŒæ­¥é˜Ÿåˆ—ä¸­ä¾æ¬¡æ‰§è¡Œï¼Œå¼‚æ­¥ä»»åŠ¡åœ¨å¼‚æ­¥é˜Ÿåˆ—ä¸­ä¾æ¬¡æ‰§è¡Œï¼Œå¹¶ä¸”è¿™ä¸¤ä¸ªé˜Ÿåˆ—æ˜¯åŒæ—¶æ‰§è¡Œçš„ã€‚ä½†æ˜¯ï¼ŒJavaScriptå¼•æ“Žåªä¼šæ‰§è¡ŒåŒæ­¥é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œé‚£ä¹ˆå¼‚æ­¥é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ä»€ä¹ˆæ—¶å€™æ‰§è¡Œå‘¢ï¼Ÿ JavaScriptå¼•æ“Žä¼šä¸æ–­éåŽ†åŒæ­¥é˜Ÿåˆ—ï¼Œå½“åŒæ­¥é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œä¼šå°†å¼‚æ­¥é˜Ÿåˆ—ä¸­æ‰§è¡Œå®Œæ¯•çš„å¼‚æ­¥äº‹ä»¶çš„å›žè°ƒå‡½æ•°æ”¾å…¥åŒæ­¥é˜Ÿåˆ—æ‰§è¡Œã€‚ å›žé¡¾çŽ°åœ¨è®©æˆ‘ä»¬å›žæ¥çœ‹çœ‹ä¸Šé¢çš„é¢è¯•é¢˜å°±å¾ˆå®¹æ˜“ç†è§£äº†ï¼ŒåŒæ­¥é˜Ÿåˆ—ä¸­console.log(100)å’Œconsole.log(300)æ‰§è¡ŒåŽï¼Œconsole.log(200)è¢«æŽ¨å…¥åŒæ­¥é˜Ÿåˆ—æ‰§è¡Œï¼Œæ‰€ä»¥ç»“æžœä¾æ¬¡ä¸º100-&gt; 300-&gt;200 PS: setTimeout(fun, 0)ä¸­çš„0ä¸æ˜¯ç«‹å³æ‰§è¡Œçš„æ„æ€, è€Œæ˜¯åŒæ­¥é˜Ÿåˆ—ä¸ºç©ºæ—¶ç«‹å³å°†funæŽ¨å…¥åŒæ­¥é˜Ÿåˆ— é¢å¤–1234567var flag = 1setTimeout(function()&#123; flag = 0&#125;, 0)while(flag)&#123; console.log('running')&#125; ç»“æžœæ˜¯ä»€ä¹ˆ? ç­”æ¡ˆä¸ºæ­»å¾ªçŽ¯ï¼Œå› ä¸ºwhile(flag)ä¸­çš„ä»£ç å°†ä¸€ç›´åœ¨åŒæ­¥é˜Ÿåˆ—ä¸­æ‰§è¡Œï¼Œè€Œflag = 0æ²¡æœ‰æœºä¼šè¢«æŽ¨å…¥åŒæ­¥é˜Ÿåˆ—]]></content>
      <categories>
        <category>Javascript</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>é¢è¯•</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSSå®žçŽ°æ–‡å­—æ‰“å­—åŠ¨ç”»ï¼ˆ+1ç™½è¯è®²è§£ï¼‰]]></title>
    <url>%2F2018%2F03%2F14%2FCSS%E5%AE%9E%E7%8E%B0%E6%96%87%E5%AD%97%E6%89%93%E5%AD%97%E5%8A%A8%E7%94%BB%EF%BC%88-1%E7%99%BD%E8%AF%9D%E8%AE%B2%E8%A7%A3%EF%BC%89%2F</url>
    <content type="text"><![CDATA[ä»‹ç»å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬ä¼šæœ‰ä¸€äº›å¥‡æ€ªçš„éªšæƒ³æ³•ï¼Œæ¯”å¦‚è®©ç½‘é¡µä¸­çš„ä¸€äº›ç‰¹å®šæ–‡æœ¬åƒæ•²ä»£ç ä¸€æ ·ä¸€ä¸ªä¸€ä¸ªæ˜¾ç¤ºå‡ºæ¥ï¼Œæœ‰ä¸€ç§å‘½ä»¤è¡Œçš„æ„Ÿè§‰ï¼Œå¢žåŠ è®¾è®¡æ„Ÿï¼Œå¾ˆå¤šäººè§‰å¾—è¿™ä¸ªæ•ˆæžœè¦ç”¨å¾ˆé•¿ä¸€æ®µJSæ¥å®žçŽ°â€¦. æ­£å¥½æ‰‹å¤´æœ‰ä¸ªä¾‹å­ï¼Œæˆ‘å†³å®šç”¨CSSå®žéªŒä¸€ä¸‹ å¼€å§‹æ“ä½œåŽŸå›¾ emmmmmmâ€¦è¯·å¿½ç•¥æˆ‘çš„å­—ä½“ æƒ³æ³•1: è®©è¿™æ®µæ–‡å­—ä»Žå®½åº¦0å˜æˆå®žé™…å®½åº¦ 123456789.title&#123; ... animation: typing 6s;&#125;@keyframes typing&#123; from &#123; width: 0; &#125;&#125; emmmm, å¿˜è®°ç¦æ­¢æŠ˜è¡Œå’Œå‰ªåˆ‡è¶…å‡ºéƒ¨åˆ†æ–‡æœ¬äº† ä¿®æ”¹1234567891011.title&#123; ... white-space: nowrap; overflow: hidden; animation: typing 6s;&#125;@keyframes typing&#123; from &#123; width: 0; &#125;&#125; çœ‹èµ·æ¥è¿˜ä¸é”™ï¼Œä½†æ˜¯è¿˜ä¸å¤Ÿï¼Œæˆ‘ä»¬å¸Œæœ›å­—ç¬¦èƒ½ä¸€ä¸ªä¸€ä¸ªå‡ºæ¥ï¼Œæƒ³äº†æƒ³ï¼ŒAnimationé‡Œé¢æœ‰ä¸ªå«stepsçš„ä¸œè¥¿ï¼Œå„ä½å¯ä»¥ç®€å•çš„ç†è§£(å…·ä½“çš„è¿™é‡Œå°±ä¸ä»‹ç»å•¦)ä¸º: é‡Œé¢æ”¾å¤šå¤§çš„æ•°å­—å°±æ˜¯åˆ†å¤šå°‘å¸§æ‰§è¡Œï¼Œæ¯”å¦‚steps(5)å°±æ˜¯å°†åŠ¨ç”»åˆ†æˆ5å¸§æ‰§è¡Œã€‚ å°±ç®—æˆ‘ä»¬èƒ½è®©åŠ¨ç”»ä¸€å¸§ä¸€å¸§æ‰§è¡Œï¼Œä½†æ˜¯æ€Žä¹ˆè®©å­—ç¬¦ä¸€ä¸ªä¸€ä¸ªå‡ºçŽ°å‘¢? ç­”æ¡ˆæ˜¯â€¦. æ— äººé—®æ´¥çš„chå•ä½ï¼Œè¿™æ˜¯CSS3çš„æ–°å•ä½ï¼Œè¡¨ç¤ºâ€0â€çš„å®½åº¦ï¼Œåˆ°è¿™æˆ‘æƒ³çœŸæ­£çš„è§£å†³æ–¹æ¡ˆå°±å‡ºçŽ°å•¦ï¼ åœ¨ç­‰å®½å­—ä½“ä¸­ï¼Œâ€0â€å­—å½¢çš„å®½åº¦å’Œå…¶ä»–æ‰€æœ‰å­—å½¢çš„å®½åº¦æ˜¯ä¸€æ ·çš„ ä¿®æ”¹123456789101112.title&#123; ... width: 17ch; //åˆ«å¿˜äº†æŠŠç©ºæ ¼ç®—ä¸Š! white-space: nowrap; overflow: hidden; animation: typing 6s steps(17); //stepsé‡Œä¸ºä½ çš„å­—ç¬¦æ•°&#125;@keyframes typing&#123; from &#123; width: 0; &#125;&#125; æˆ–è®¸æˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªé—ªçƒçš„å…‰æ ‡ï¼Ÿé‚£å°±ç•™ç€ä¸‹æ¬¡è®²å¥½äº†(å¦‚æžœæˆ‘æ²¡å¿˜çš„è¯) æ–‡ç« ç¿»è¯‘æ”¹ç¼–äºŽCSSæ­ç§˜]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[React Nativeå®žçŽ°NbaApp]]></title>
    <url>%2F2018%2F03%2F13%2FReact-Native%E5%AE%9E%E7%8E%B0NbaApp%2F</url>
    <content type="text"><![CDATA[ä»‹ç»æœ¬é¡¹ç›®ä¸ºreact-nativeæž„å»ºçš„Nba App è®¾è®¡çµæ„Ÿå‚è€ƒäºŽ:çµæ„Ÿæ¥æº( å…¶å®žå°±æ˜¯å‚è€ƒæ ·å¼ åŠŸèƒ½ç®€å•äº†å¾ˆå¤š,å› ä¸ºæ¯”è¾ƒæ‡’233333 åŠŸèƒ½ nbaæ¯”åˆ†æŸ¥è¯¢ çƒå‘˜æ•°æ®æŸ¥è¯¢ çƒé˜ŸæŽ’åæŸ¥è¯¢ é¡¹ç›®åœ°å€]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>React-Native</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¾®ä¿¡å°ç¨‹åºæ¨¡ä»¿ç½‘æ˜“äº‘éŸ³ä¹]]></title>
    <url>%2F2018%2F03%2F13%2F%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A8%A1%E4%BB%BF%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90%2F</url>
    <content type="text"><![CDATA[ä»‹ç»ä½¿ç”¨å¾®ä¿¡å°ç¨‹åºæ¨¡ä»¿ç½‘æ˜“äº‘éŸ³ä¹,æŽ¥å£æ¥æºäºŽ: æŽ¥å£åœ°å€ åŠŸèƒ½ ç½‘æ˜“äº‘è´¦å·ç™»å½• æ­Œå•æŸ¥çœ‹ æ¯æ—¥æŽ¨è æ­Œæ›²éšæœº,å•æ›²,åˆ—è¡¨å¾ªçŽ¯ æ­Œè¯æ»šåŠ¨ â€¦. é¡¹ç›®åœ°å€ å›¾ç‰‡åœ¨githubé‡Œæˆ‘å°±ä¸æ”¾åœ¨è¿™å•¦~]]></content>
      <categories>
        <category>å¾®ä¿¡å°ç¨‹åº</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>å¾®ä¿¡å°ç¨‹åº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Reactåœ¨çº¿ç¼–è¾‘ç®€åŽ†]]></title>
    <url>%2F2018%2F03%2F13%2FReact%E5%9C%A8%E7%BA%BF%E7%BC%96%E8%BE%91%E7%AE%80%E5%8E%86%2F</url>
    <content type="text"><![CDATA[ç®€ä»‹é—²æ¥æ— äº‹å†™äº†å‡ ä¸ªå°æ—¶â€¦ ä»£ç è¿˜æœ‰è®¸å¤šé—®é¢˜, ä»¥åŠä¿å­˜ä¸ºpdfåŠŸèƒ½æœªå®žçŽ° åŠŸèƒ½ ä»»ä½•åœ°æ–¹ç‚¹å‡»å³å¯ä¿®æ”¹, é¡¹ç›®å¯ä»¥å¢žåŠ åˆ é™¤ å›¾ç‰‡å°±é•¿è¿™ä¸ªæ ·å­ é¡¹ç›®åœ°å€]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2017è‡ªæˆ‘æ€»ç»“]]></title>
    <url>%2F2018%2F01%2F03%2F2017%E8%87%AA%E6%88%91%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[ä¸çŸ¥é“è¯¥è¯´ä»€ä¹ˆç›¸æ¯”äºŽå¤§ä¸€ï¼Œå¤±åŽ»äº†å¾ˆå¤šï¼Œä¹ŸèŽ·å¾—äº†å¾ˆå¤š æš‘å‡ è‡ªå­¦äº†Vueå…¨å®¶æ¡¶ ç»ƒæ‰‹äº†æ•°ä¸ªå¾®ä¿¡å°ç¨‹åº è‡ªå­¦åŽç«¯nodejs æˆ‘è§‰å¾—è¿™æ˜¯æˆ‘åšè¿‡çš„æœ€æ­£ç¡®çš„å†³å®š..å‘Šåˆ«äº†jQueryç­‰..è¿™äº›æŠ€æœ¯ä¹Ÿä¸ºæˆ‘ä¹‹åŽå­¦ä¹ reactç­‰æŠ€æœ¯é“ºå¹³äº†é“è·¯,ä¹Ÿç¡®å®šäº†æˆ‘å‘å…¨æ ˆå‘å±•çš„ç›®æ ‡ å¼€å­¦åŽ, æˆ‘ç¦»å¼€äº†é™ªä¼´æˆ‘å°†è¿‘æ•´ä¸ªå¤§ä¸€çš„é¡¹ç›®ç»„ã€‚ æˆ‘è®¤ä¸ºè¿™ä¸ªé¡¹ç›®ç»„é™¤äº†å¾®è–„çš„å·¥èµ„å¤–å·²ç»ä¸èƒ½ç»™æˆ‘å¸¦æ¥ä»€ä¹ˆäº† ä¸€äº›çç¢Žçš„äº‹æƒ…ä»¥åŠè€å¥—çš„æŠ€æœ¯æ ˆåªä¼šæ‹–ç´¯æˆ‘ æ°›å›´ä¹Ÿå¤±åŽ»äº†æˆç«‹ä¹‹åˆçš„çƒ­æƒ…ï¼Œå½“ç„¶è¿™æ˜¯æ— å¯é¿å…çš„ ä½†æˆ‘ä»ç„¶æ„Ÿæ¿€è¿™ä¸ªé¡¹ç›®ç»„,å®žè¯å®žè¯´,è¿™é‡Œå¸®æˆ‘åº¦è¿‡äº†å°ç™½é˜¶æ®µ,æˆ‘åœ¨è¿™çš„æ¯ä¸€æ¬¡é¡¹ç›®éƒ½å°½èŒå°½è´£,ä½†ä¸ºäº†è‡ªå·±ç»ˆç©¶ä¼šç¦»å¼€ å†³å®š æ”¾å¼ƒäº†è®¸å¤šäº‹æƒ…, èµ°å¥½è‡ªå·±çš„è·¯, åšæŒä¸‹åŽ», ä¸å¥½é«˜éª›è¿œ, æˆ‘è§‰å¾—æœ‰å¥è¯è¯´çš„å¾ˆå¯¹ï¼šâ€œä½ åªè¦æ¯”æ˜¨å¤©çš„è‡ªå·±æ›´å¥½å°±è¡Œ,ä¸€è¾ˆå­éƒ½åœ¨è·Ÿåˆ«äººæ”€æ¯”æ˜¯äººç”Ÿçš„æ‚²å‰§â€ã€‚ æ¯å¤©åšæŒè¡¥å……å‰ç«¯åªæ˜¯, ä¸åªæ˜¯ä¼šå†™ä»£ç , jsæ·±å…¥æµè§ˆå™¨åŽŸç†ç¼“å­˜httpç­‰ç­‰å‰ç«¯æ¦‚å¿µæŠ€æœ¯ä¸æ–­å­¦ä¹  æœºé‡å¶ç„¶é‡è§äº†ä¸€ä»½xxxxçš„æ‹›è˜ä¿¡æ¯, çœ‹åˆ°è¿œç¨‹å®žä¹ ä»€ä¹ˆä»€ä¹ˆçš„å°±å¿ƒåŠ¨äº†,äºŽæ˜¯å°±æŠ•äº†ç®€åŽ†ã€‚ ä½†æ˜¯å…¬å¸è¦æ±‚çš„reactå’Œdjangoæˆ‘å¹¶ä¸ä¼š ä½†æ˜¯å…¬å¸ç»™ä½ 7å¤©æ—¶é—´è‡ªå­¦ä½œä¸ºäºŒé¢ç»“æžœ æ€è€ƒäº†ä¸€ä¸‹, æœ‰äº›æœºä¼šé”™è¿‡äº†å°±ä¸ä¼šæ¥äº†, äºŽæ˜¯3å¤©å…¥é—¨, æå‰å®Œæˆä»»åŠ¡, ä¹Ÿå¾ˆé¡ºåˆ©çš„è¿›å…¥å…¬å¸,è€æ¿äººå¾ˆå¥½è¿˜ç»™é…äº†macpro ä½†æ˜¯ åªæœ‰çœ‹çœ‹å¤–é¢çš„ä¸–ç•Œæ‰çŸ¥é“è‡ªå·±æœ‰å¤šåžƒåœ¾ é¡¹ç›®éš¾åº¦æ¯”æƒ³è±¡ä¸­å¤§å¾ˆå¤š å›¢é˜Ÿåä½œæ–¹å¼ä¸ç†Ÿæ‚‰ ä»£ç å¤ªä¸è§„èŒƒ,åˆšå¼€å§‹å‡ è¡Œä»£ç éƒ½è¦reviewå¥½å‡ æ¬¡ ä½†æ˜¯ä½ çš„ä»˜å‡ºç»ˆä¼šå¾—åˆ°å›žæŠ¥, ä¸€åˆ‡éƒ½ä¼šæ…¢æ…¢å˜å¥½, æ°¸è¿œä¸è¦è½»è¨€æ”¾å¼ƒ å±•æœ› å¥½å¥½å·¥ä½œ æŠ“ä½æ¯ä¸ªé€‚åˆè‡ªå·±çš„æœºä¼š æ‹’ç»æ¯ä¸ªä¸åˆé€‚çš„é‚€è¯· åšæŒè‡ªå·±çš„é“è·¯ ç…§é¡¾å¥½å¥¹]]></content>
      <categories>
        <category>å…³äºŽæˆ‘</category>
      </categories>
      <tags>
        <tag>æˆ‘</tag>
        <tag>é˜…è¯»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C++2016ä¸Šæœºé¢˜åŠå’¸é±¼ä»£ç ]]></title>
    <url>%2F2017%2F04%2F22%2FC-2016%E4%B8%8A%E6%9C%BA%E9%A2%98%2F</url>
    <content type="text"><![CDATA[2016å¹´ç¨‹åºè®¾è®¡ï¼ˆ2ï¼‰å®žéªŒè€ƒè¯•é¢˜ç›®åŠå¼±é¸¡ä»£ç æœ¬äººC++æ°´å¹³è¾ƒå·®,è‹¥å«Œå¼ƒåˆ™åªçœ‹é¢˜ç›®å³å¯ ï¼ˆ30åˆ†ï¼‰å·²æœ‰äºŒè¿›åˆ¶æ–‡ä»¶â€œstudent.datâ€å’Œâ€œa.datâ€ï¼Œåˆ†åˆ«å­˜æ”¾ç€10ä¸ªå­¦ç”Ÿçš„åŸºæœ¬ä¿¡æ¯ã€‚è¯·å°†â€œstudent.datâ€æ–‡ä»¶ä¸­ç¬¬äº”ä¸ªå­¦ç”Ÿçš„æ‰€æœ‰åŸºæœ¬ä¿¡æ¯è¿žæŽ¥åˆ° â€œa.datâ€çš„å°¾éƒ¨ï¼Œå¹¶å°†ä¿®æ”¹åŽçš„æ–‡ä»¶â€œa.datâ€çš„å†…å®¹è¾“å‡ºæ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚å­¦ç”Ÿä¿¡æ¯ç”±ä»¥ä¸‹ç»“æž„ä½“æ¥æè¿°ï¼š 123456struct student&#123; char num[11]; //å­¦å· char name[10]; // å§“å int age; // å¹´é¾„ char gender; // æ€§åˆ«ï¼Œå…¶ä¸­Mè¡¨ç¤ºç”·ç”Ÿï¼ŒFè¡¨ç¤ºå¥³ç”Ÿ&#125;; ï¼ˆ35åˆ†ï¼‰å¦‚ä¸‹studentç±»çš„æˆå‘˜ï¼šï¼ˆ1ï¼‰è¯·å®Œå–„è¯¥ç±»ä¸­çš„å‡½æ•°ï¼›ï¼ˆ2ï¼‰ç¼–å†™ä¸»å‡½æ•°ï¼Œè¦æ±‚ï¼šï¼ˆaï¼‰åˆ›å»ºstudentç±»å¯¹è±¡s1ï¼ˆâ€zhangsanâ€,80ï¼‰ï¼Œåˆ›å»ºå¯¹è±¡s2å¹¶ç”¨s1åˆå§‹åŒ–s2ã€‚ï¼ˆbï¼‰è¾“å‡ºs1çš„nameï¼Œscoreï¼›è¾“å‡ºs2çš„nameï¼Œscoreï¼›ï¼ˆcï¼‰åˆ©ç”¨é‡è½½å‡½æ•°å®žçŽ°è®¡ç®—ï¼Œå¹¶åœ¨ä¸»å‡½æ•°è¾“å‡ºs1ï¼Œs2çš„åˆ†æ•°ä¹‹å’Œã€‚ 123456789101112class student&#123; private: char *name;//å­¦ç”Ÿå§“å intscore;//å­¦ç”Ÿåˆ†æ•° public: student(char *a,int b);//æž„é€ å‡½æ•° student(student &amp;obj);//æ‹·è´æž„é€ å‡½æ•° ~student();//æžæž„å‡½æ•° int operator +(student &amp;right);//é‡è½½å‡½æ•°ï¼Œè¿”å›žä¸¤ä¸ªstudentå¯¹è±¡çš„åˆ†æ•°ä¹‹å’Œ char *getName();//èŽ·å–å§“å intgetScore();//èŽ·å–åˆ†æ•°&#125;; ï¼ˆ35åˆ†ï¼‰å·²çŸ¥ä¸€ä¸ªæŠ½è±¡ç±»Shapeï¼Œå…¶å®šä¹‰ä¸ºï¼š 12345678class Shape&#123; protected: float area; //é¢ç§¯ public: float getarea() &#123; return area; &#125;//èŽ·å–é¢ç§¯ virtual void calcarea()=0; //è®¡ç®—é¢ç§¯ virtual void show()=0; //æ˜¾ç¤ºåŸºæœ¬ä¿¡æ¯&#125;; è¦æ±‚ï¼š(1) ç”±å®ƒæ´¾ç”Ÿå‡ºåœ†ç±»Circleï¼Œå®ƒåŒ…å«æ•°æ®æˆå‘˜åŠå¾„ï¼ˆradiusï¼‰ä»¥åŠç›¸å…³çš„æˆå‘˜å‡½æ•°getradius();è¿˜åŒ…å«ä¸€ä¸ªæž„é€ å‡½æ•°ï¼Œå¯¹æˆå‘˜radiusè¿›è¡Œåˆå§‹åŒ–ï¼Œå¹¶å®žçŽ°ç»§æ‰¿è‡ªShapeçš„çº¯è™šå‡½æ•°ã€‚(2) å†ç”±åœ†ç±»Circleæ´¾ç”Ÿå‡ºåœ†æŸ±ç±»Cylinderï¼Œå®ƒåŒ…å«æ•°æ®æˆå‘˜é«˜åº¦ï¼ˆheightï¼‰ä»¥åŠç›¸å…³çš„æˆå‘˜å‡½æ•°getheight();è¿˜åŒ…å«ä¸€ä¸ªæž„é€ å‡½æ•°å¯¹æˆå‘˜heightè¿›è¡Œåˆå§‹åŒ–å¹¶æ˜¾å¼è°ƒç”¨çˆ¶ç±»Circleç±»çš„æž„é€ å‡½æ•°ï¼Œè¦æ±‚è¦†ç›–ç»§æ‰¿è‡ªCircleç±»çš„å‡½æ•°calcarea()å’Œshow()ã€‚åœ†æŸ±ç±»Cylinderç»§æ‰¿è‡ªShapeç±»çš„æ•°æ®æˆå‘˜areaè¡¨ç¤ºåœ†æŸ±ä½“çš„è¡¨é¢ç§¯ã€‚(3) åœ¨mainå‡½æ•°ä¸­ç”¨â€œåœ†â€”â€”åŠå¾„2.5ï¼Œåœ†æŸ±â€”â€”åº•é¢åŠå¾„2.0ï¼Œé«˜åº¦6.0â€è¿›è¡Œæµ‹è¯•ï¼ˆÏ€å–3.14ï¼‰ï¼Œè°ƒç”¨å‡½æ•°calcarea()è®¡ç®—é¢ç§¯ï¼Œå¹¶è°ƒç”¨å‡½æ•°show()è¾“å‡ºå¯¹è±¡çš„åŸºæœ¬ä¿¡æ¯ï¼Œè¦æ±‚Circleç±»show() å‡½æ•°è¾“å‡ºåœ†çš„åŠå¾„å’Œé¢ç§¯ï¼ŒCylinderç±»çš„show()å‡½æ•°è¾“å‡ºåœ†æŸ±åº•é¢åœ†åŠå¾„ï¼Œé«˜åº¦ä»¥åŠè¡¨é¢ç§¯ã€‚ å’¸é±¼é¢˜è§£,ä»…ä¾›å‚è€ƒå’Œåæ§½ ç¬¬ä¸€é¢˜123456789101112131415161718192021222324252627282930313233#include&lt;fstream&gt;using namespace std;struct student&#123; char num[11]; //å­¦å· char name[10]; // å§“å int age; // å¹´é¾„ char gender; // æ€§åˆ«ï¼Œå…¶ä¸­Mè¡¨ç¤ºç”·ç”Ÿï¼ŒFè¡¨ç¤ºå¥³ç”Ÿ&#125;;int main()&#123; student std[10]; fstream stu; stu.open("student.dat",ios::in|ios::binary); if(stu.fail())&#123; cout&lt;&lt;"æ‰“å¼€a.datæ–‡ä»¶å¤±è´¥"&lt;&lt;endl; exit(0); &#125; for(int i=0;i&lt;5;i++) stu.read((char*)&amp;std[i],sizeof(std[i])); stu.close(); stu.open("b.dat",ios::out|ios::binary|ios::app); stu.write((char*)&amp;std[4],sizeof(std[4])); stu.close(); stu.open("b.dat",ios::in|ios::binary); stu.read((char*)&amp;std,sizeof(std)); for(int i=0;i&lt;7;i++)&#123; stu.read((char*)&amp;std[i],sizeof(std)[i]); cout&lt;&lt;std[i].name&lt;&lt;" "&lt;&lt;std[i].age&lt;&lt;" "&lt;&lt;std[i].gender&lt;&lt;" "&lt;&lt;std[i].num&lt;&lt;endl; &#125; stu.close(); return 0;&#125; ç¬¬äºŒé¢˜1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#include &lt;iostream&gt;#include &lt;cstring&gt;using namespace std;class student&#123; private: char *name;//å­¦ç”Ÿå§“å int score;//å­¦ç”Ÿåˆ†æ•° public: student(char *a,int b);//æž„é€ å‡½æ•° student(student &amp;obj);//æ‹·è´æž„é€ å‡½æ•° ~student();//æžæž„å‡½æ•° int operator +(student &amp;right);//é‡è½½å‡½æ•°ï¼Œè¿”å›žä¸¤ä¸ªstudentå¯¹è±¡çš„åˆ†æ•°ä¹‹å’Œ char *getName();//èŽ·å–å§“å int getScore();//èŽ·å–åˆ†æ•°&#125;;student::student(char *a,int b)&#123; name = new char[strlen(a)+1]; strcpy(name,a); score = b;&#125;student::student(student &amp;obj)&#123; name = new char[strlen(obj.name)+1]; strcpy(name,obj.name); score = obj.score;&#125;student::~student()&#123; delete []name;&#125;int student::operator+(student &amp;right)&#123; int sum; sum = this-&gt;score + right.score; return sum; &#125;char *student::getName()&#123; return name;&#125;int student::getScore()&#123; return score;&#125;int main()&#123; student s1("zhangsan",80),s2 = s1; int sum; sum = s1 + s2; cout&lt;&lt;s1.getName()&lt;&lt;" "&lt;&lt;s1.getScore()&lt;&lt;endl; cout&lt;&lt;s2.getName()&lt;&lt;" "&lt;&lt;s2.getScore()&lt;&lt;endl; cout&lt;&lt;"æ€»åˆ†ï¼š"&lt;&lt;sum; return 0;&#125; ç¬¬ä¸‰é¢˜1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859#include&lt;iostream&gt;using namespace std;#define pai 3.14class Shape&#123; protected: float area; public: float getArea()&#123; return area; &#125; virtual void calcarea()=0; virtual void show()=0; &#125;;class Circle:public Shape&#123; protected: double radius; public: Circle(double r):Shape()&#123; radius = r; &#125; double getRadius()&#123; return radius; &#125; void calcarea()&#123; area = radius*radius*pai; &#125; void show()&#123; cout&lt;&lt;"åŠå¾„: "&lt;&lt;radius&lt;&lt;endl; cout&lt;&lt;"é¢ç§¯ï¼š"&lt;&lt;area&lt;&lt;endl; &#125;&#125;;class Cylinder:public Circle&#123; private: double height; public: Cylinder(double height,double r):Circle(r)&#123; this-&gt;height = height; &#125; void calcarea()&#123; area = radius*radius*pai*2 + 2*pai*radius*height; &#125; void show()&#123; cout&lt;&lt;"åŠå¾„ï¼š"&lt;&lt;radius&lt;&lt;endl; cout&lt;&lt;"é«˜ï¼š"&lt;&lt;height&lt;&lt;endl; cout&lt;&lt;"è¡¨é¢ç§¯ï¼š"&lt;&lt;area&lt;&lt;endl; &#125; double getHeight()&#123; return height; &#125;&#125;;int main()&#123; Circle c1(2.5); Cylinder c2(6.0,2.0); c1.calcarea();c2.calcarea(); cout&lt;&lt;"åœ†çš„ä¿¡æ¯ï¼š";c1.show(); cout&lt;&lt;"--------------"&lt;&lt;endl; cout&lt;&lt;"åœ†æŸ±çš„ä¿¡æ¯ï¼š";c2.show(); return 0;&#125;]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++</tag>
        <tag>ä¸Šæœº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºŽä¸‰ç§cssåž‚ç›´å±…ä¸­]]></title>
    <url>%2F2017%2F04%2F22%2Fcss%E5%9E%82%E7%9B%B4%E5%B1%85%E4%B8%AD%2F</url>
    <content type="text"><![CDATA[ç›®çš„å†™å‰ç«¯çš„æ—¶å€™æ€»æ˜¯å¿˜è®°åž‚ç›´å±…ä¸­â€¦æ¯æ¬¡éƒ½è¦åŽ»æœä»£ç  æ—¢ç„¶æœ‰äº†åšå®¢ï¼Œå°±å¹²è„†æ•´ç†ä¸€ä¸‹å†™åœ¨è¿™é‡Œå§ åŸºäºŽç»å¯¹å®šä½123456789main&#123; position: absolute; top: 50%; left: 50%; margin-top: -3em; margin-left: -9em; width: 18em; height: 6em;&#125; å¦‚æžœå€ŸåŠ©calc()å‡½æ•°çš„è¯â€¦. 1234567main&#123; position: absolute; top: calc(50% - 3em); left: calc(50% - 9em); width: 18em; height: 6em;&#125; PS: ç„¶è€Œè¿™ç§æ–¹æ³•åªå±€é™äºŽå›ºå®šå®½é«˜çš„å…ƒç´ â€¦ æ‰€ä»¥æˆ‘ä»¬è¿˜å¯ä»¥é€‰æ‹©translate()å˜å½¢å‡½æ•° 123456main&#123; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);&#125; ..ç¼ºé™·è‡ªå¯».. åŸºäºŽè§†å£å•ä½123456main&#123; width: 18em; padding: 1em 1.5em; margin: 50vh auto 0; transform: translateY(-50%);&#125; ..vw,vhè¿™é‡Œä¸å†èµ˜è¿°.. PS: åªé€‚ç”¨äºŽåœ¨è§†å£ä¸­å±…ä¸­çš„åœºæ™¯ åŸºäºŽFlexbox12345678body&#123; display: flex; min-height: 100vh; margin: 0;&#125;main&#123; margin: auto;&#125; æˆ–è€…â€¦ 1234567main&#123; display: flex; align-items: center; justify-content: center; width: 18em; height: 10em;&#125; PS: è¦æ±‚ä½ çš„æµè§ˆå™¨æ”¯æŒFlexboxâ€¦. æˆ–è®¸ä½ å¯ä»¥å°è¯•ä¸€ä¸‹â€¦1align-self: center; å‚è€ƒ: ã€ŠCSSæ­ç§˜ã€‹]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æŸä½å°å°‘å¥³çš„ä½œæ–‡-2]]></title>
    <url>%2F2017%2F04%2F20%2FgwyhArticle2%2F</url>
    <content type="text"><![CDATA[æ—¶å…‰åŒ†åŒ†è½»è½»åœ°æ‰“å¼€ä¹¦æœ¬ï¼Œä½Žå£°è¯µèµ·äº†æœ±è‡ªæ¸…çš„ã€ŠåŒ†åŒ†ã€‹ï¼šâ€œç‡•å­åŽ»äº†ï¼Œæœ‰å†æ¥çš„æ—¶å€™ï¼›æ¨æŸ³æž¯äº†ï¼Œæœ‰å†é’çš„æ—¶å€™ï¼›æ¡ƒèŠ±è°¢äº†ï¼Œæœ‰å†å¼€çš„æ—¶å€™â€¦â€¦â€å¤šä¹ˆä¼˜ç¾Žï¼Œå¤šä¹ˆå¯ŒäºŽå“²ç†çš„è¯è¯­ï¼Œæˆ‘ä¸€éåˆä¸€éåœ°è¯»ç€ã€è¯»ç€â€¦â€¦å±ˆæŒ‡ä¸€ç®—ï¼Œå·²æœ‰å››åƒå¤šä¸ªæ—¥å¤œä»Žæˆ‘èº«è¾¹æµè¿‡ï¼Œè¿˜æœ‰ä¸‰ä¸ªæœˆå°±è¦å°å­¦æ¯•ä¸šäº†ã€‚å¦‚æžœå†è¿‡ä¸‰åƒå¤šä¸ªæ—¥å¤œæˆ‘å°±è¯¥å¤§å­¦æ¯•ä¸šèµ°å‘ç¤¾ä¼šäº†ï¼Œæˆä¸ºä¸€ä¸ªæ¥å»ºè®¾ç¥–å›½çš„å»ºè®¾è€…äº†ã€‚å¦‚ä½•æ‰èƒ½åšä¸€ä¸ªåˆæ ¼çš„å°å­¦ç”Ÿå‘¢ï¼Ÿå¦‚ä½•åšæ‰èƒ½æˆä¸ºä¸€ä¸ªåˆæ ¼çš„å»ºè®¾è€…å‘¢ï¼Ÿæˆ‘ä»¬è¿™ä»£é’å°‘å¹´æœ‰ç†æƒ³ï¼Œåˆæœ‰æŠ±è´Ÿï¼Œä½†ä¸èƒ½åäº«å…¶æˆã€‚æœ‰äº›é’å¹´é å¹»æƒ³æ¥åº¦æ—¥ï¼šæƒ³ç€ä»¥åŽè¯¥åšä»€ä¹ˆï¼Œæ€Žæ ·ä¸ºå›½å®¶åšè´¡çŒ®ï¼Œå°±æ˜¯ä¸å¼€å§‹è¡ŒåŠ¨ï¼Œç”šè‡³ç›¸ä¿¡å¤©ä¸Šä¼šæŽ‰ä¸‹é¦…é¥¼æ¥ã€‚è®©æ—¶é—´åœ¨å¹»æƒ³å½“ä¸­ç™½ç™½æµå¤±äº†ã€‚æœ‰çš„äººï¼Œæ€»æŠŠäº‹æƒ…æŽ¨åˆ°æ˜Žå¤©å†åšï¼Œè¦çŸ¥é“â€œæ˜Žæ—¥å¤æ˜Žæ—¥ï¼Œæ˜Žæ—¥ä½•å…¶å¤šã€‚æˆ‘ç”Ÿå¾…æ˜Žæ—¥ï¼Œä¸‡äº‹æˆè¹‰è·Žâ€å•Šï¼æ—¶å…‰å†‰å†‰ï¼Œæˆ‘å·²ä»Žå—·å—·å¾…å“ºçš„å©´å„¿æˆé•¿åˆ°ä¹–å·§æ‡‚äº‹çš„å…­å¹´çº§å­¦ç”Ÿï¼Œæ—¶é—´å°±è¿™æ ·æºœèµ°â€•â€•æ—©æ™¨ï¼Œå½“æˆ‘å¼€å§‹æ´—æ¼±æ—¶ï¼Œæ—¶é—´ä»Žæ°´ç›†é‡Œæºœèµ°ï¼›ä¸­åˆï¼Œå½“æˆ‘æ”¾å­¦å›žå®¶æ—¶ï¼Œæ—¶é—´ä»Žè„šä¸‹æºœèµ°ï¼›æ™šä¸Šï¼Œå½“æˆ‘è§‚æœ›æ˜Ÿç©ºæ—¶ï¼Œæ—¶é—´ä»Žçœ¼å‰æºœèµ°â€¦â€¦â€œå…‰é˜´ä¼¼ç®­ï¼Œæ—¥æœˆå¦‚æ¢­ã€‚â€æ¯æ—¶æ¯åˆ»ï¼Œæ—¶é—´éƒ½ä»Žæˆ‘èº«è¾¹æºœèµ°ï¼Œè€Œä¸”åŽ»è€Œä¸è¿”ã€‚â€œä¸€å¯¸å…‰é˜´ä¸€å¯¸é‡‘ï¼Œå¯¸é‡‘éš¾ä¹°å¯¸å…‰é˜´ã€‚â€è¿™ä½¿æˆ‘åŠ å€çæƒœå®ƒï¼ŒæŠŠæ¡åˆ†åˆ†ç§’ç§’ã€‚ç›´è‡³çŽ°åœ¨ï¼Œå®ƒè¿˜åœ¨å‚¬ä¿ƒæˆ‘é•¿å¤§ï¼Œä½†æ˜¯æˆ‘å¹¶ä¸æ„Ÿè°¢å®ƒï¼Œå› ä¸ºå®ƒåœ¨å‚¬ä¿ƒæˆ‘é•¿å¤§çš„åŒæ—¶ï¼Œä¹Ÿè®©ç”Ÿå‘½ç‚¹æ»´æµé€ã€‚æˆ‘æ€»æ˜¯è¿½èµ¶å®ƒï¼Œæ¸´æœ›ä¸Žå®ƒåŒèµ·åŒä½œï¼ŒåŒæ­¢åŒæ¯ï¼Œä½†æ˜¯ï¼Œé‚£å´æ˜¯å¯æœ›è€Œä¸å¯åŠçš„ã€‚ä»Šå¹´çš„æ˜¥å¤©ä¸€å®šåœ¨æƒ³â€”â€”åŽ»å¹´çš„æ˜¥å¤©å¯„æ‰˜äº†ä»€ä¹ˆæ ·çš„ç†æƒ³ï¼Œæ˜Žå¹´çš„æ˜¥å¤©åˆä¼šæ˜¯ä¸€ä¸ªæ€Žæ ·çš„æ™¯è±¡ï¼Ÿè¿™ä¸€åˆ‡æˆ‘éƒ½æ— æ³•ä½œç­”ï¼Œä½†æ„¿åƒæ¬§é˜³ä¿®æ‰€è¯´çš„é‚£æ ·ï¼šä»Šå¹´èŠ±èƒœåŽ»å¹´çº¢ï¼Œæ˜Žå¹´èŠ±æ›´å¥½ï¼Œæ›´ä¸Žæˆ‘åŒï¼]]></content>
      <categories>
        <category>æˆ‘çˆ±çš„äºº</category>
      </categories>
      <tags>
        <tag>å¥¹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æŸä½å°å°‘å¥³çš„ä½œæ–‡-1]]></title>
    <url>%2F2017%2F04%2F20%2FgwyhArticle1%2F</url>
    <content type="text"><![CDATA[ççˆ±ç”Ÿå‘½ è®©äººç”Ÿæ›´ç²¾å½©ä¸€ä¸ªç”Ÿå‘½ä»Žæ˜¥å¤©èµ°è¿‡ï¼Œè‡³å°‘å®ƒç¾Žä¸½è¿‡ï¼› ä¸€ä¸ªç”Ÿå‘½ä»Žå¤å¤©èµ°è¿‡ï¼Œè‡³å°‘å®ƒè¾‰ç…Œè¿‡ï¼› ä¸€ä¸ªç”Ÿå‘½ä»Žç§‹å¤©èµ°è¿‡ï¼Œè‡³å°‘å®ƒç»šçƒ‚è¿‡ï¼› ä¸€ä¸ªç”Ÿå‘½ä»Žå†¬å¤©èµ°è¿‡ï¼Œè‡³å°‘å®ƒåšå¼ºè¿‡ã€‚åŸèµ·è¿™é¦–è¯—ï¼Œæˆ‘è‡ªé—®ï¼šâ€œç”Ÿå‘½æ˜¯ä»€ä¹ˆï¼Ÿâ€å®ƒä¸æ˜¯ä¸€åœºé›¨ï¼Œé›¨ä¸‹åœ¨åœ°ä¸Šè’¸å‘æˆæ°´æ±½è¿˜ä¼šå†è½ä¸‹ï¼›å®ƒä¸æ˜¯ä¸€æ£µå°è‰ï¼Œå°è‰æž¯äº†æ˜¥å¤©è¿˜ä¼šå†è£ï¼›ç”Ÿå‘½æ˜¯æ— æ„é—´çˆ¬ä¸Šé¢é—´çš„æ²³æµï¼Œå½“æˆ‘ä»¬æ‡‚å¾—çæƒœæ—¶ï¼Œæ²³é“å·²å¾ˆæ·±ï¼Œæ·±æ·±çš„æ²³é“é‡Œæœ‰æ·±æ·±çš„é—æ†¾ã€‚ç”Ÿå‘½çŠ¹å¦‚å•è¡Œé“ï¼Œæ²¡æœ‰å›žå¤´çš„æœºä¼šï¼›ç”Ÿå‘½æ˜¯å®‡å®™æ—¶é—´ï¼Œæ°¸è¿œæ— æ³•æ‰¾åˆ°ä¸¤ä¸ªç›¸åŒæ—¶åˆ»ã€‚â€œäººï¼Œæœ€å®è´µçš„ä¸œè¥¿æ˜¯ç”Ÿå‘½ã€‚ç”Ÿå‘½å±žäºŽäººåªæœ‰ä¸€æ¬¡ã€‚â€æ±¶å·åœ°éœ‡ï¼Œè­¦å¯Ÿå¦ˆå¦ˆå“ºè‚²å—ç¾å¹¼å„¿ï¼›çŽ‰æ ‘å¤©ç¾ï¼ŒæŠ¤å£«å¦ˆå¦ˆå†çŽ°æ…ˆçˆ±ã€‚ççˆ±ç”Ÿå‘½ï¼Œäººç”Ÿå°†æ›´ç²¾å½©ã€‚æ„Ÿæ‚Ÿç”Ÿå‘½ä»Žè¿žç»µä¸Šæµ®èµ·ï¼Œä»Žä¸€ç‚¹ä¸€æ»´ä¸­æ¸—å‡ºï¼Œåœ¨ç»†å¾®å¤„è—èº«ã€‚ç”Ÿå‘½çš„é•¿æ²³å€’æ˜ ç€çº¢èŠ±ç»¿å¶ã€é£˜é›¶ç§¯é›ªï¼Œå˜è¿ç€æ¹–ç•”è¾¹ä¸ä¸è‰²æ³½ï¼Œå¹¶æ¸æ¸åœ°å‰è¡Œã€‚å¤§æ±Ÿä¸œåŽ»ï¼Œç’€ç’¨çš„ç”Ÿå‘½é•Œåˆ»ç€åŽ†å²çš„ç—•è¿¹ï¼Œæ¿€è¡ç€é¢—é¢—ç’€ç’¨çš„æ˜Žç ã€‚ç”Ÿæ´»ä¸­ä¸å¯èƒ½å¤„å¤„æœ‰é²œèŠ±ï¼Œæ—¶æ—¶æœ‰æŽŒå£°ã€‚åœ¨ä½ ç•™æ„ç”Ÿå‘½ã€çæƒœç”Ÿå‘½çš„æ—…ç¨‹ä¸­ï¼Œä½ ä¼šå‘çŽ°ï¼Œå½“ç”Ÿå‘½è¢«ç”Ÿæ´»æŽ¨å‘æžè‡´çš„åœ°æ–¹ï¼Œå¾€å¾€ä¼šå±•çŽ°å‡ºä¸€äº›ä»Žå®¹ä¹‹ç¾Žï¼Œä¸´ä¹±ä¸–è€Œä¸æƒŠï¼Œå¤„æ–¹èˆŸè€Œä¸èºï¼Œå–œè¿Žé˜´æ™´åœ†ç¼ºï¼Œç¬‘å‚²é£Žéœœé›¨é›ªï¼›ä½ æ›´ä¼šæ˜Žç™½ï¼Œåªæœ‰æŠ±ç€ä¸€é¢—å¸¸äººçš„å¹³å¸¸ä¹‹å¿ƒï¼ŒåŽ»çœ‹å¾…ç”Ÿå‘½ï¼ŒåŽ»çæƒœç”Ÿå‘½ï¼Œç”Ÿå‘½æ‰ä¼šæ›´æœ‰æ„ä¹‰ã€‚ç”Ÿå‘½æ˜¯ä¸€ç§ç¥žç§˜çš„åŠ›é‡ï¼Œè¯´å®ƒè„†å¼±ï¼Œå®ƒå°±åƒè–„å†°ä¸€æ ·ä¸å ªä¸€å‡»ï¼›è¯´å®ƒåšå¼ºï¼Œå®ƒåˆåƒå¤§å±±ä¸€èˆ¬åšéŸ§ä¸æ‹”ã€‚åƒæµ·ä¼¦Â·å‡¯å‹’ï¼Œå¥¹æ˜¯ä¸€ä½åŒè€³å¤±èªã€åŒç›®å¤±æ˜Žçš„æ®‹ç–¾äººï¼Œä½†å¥¹å‡­ç€è‡ªå·±çš„æ¯…åŠ›å’Œä¿¡å¿µï¼Œå‡­ç€å¯¹ç”Ÿå‘½çš„çƒ­çˆ±ï¼Œå…ˆåŽæŽŒæ¡äº†å››é—¨å¤–è¯­ï¼Œæˆä¸ºå“ˆä½›å¤§å­¦çš„ä¸€åå­¦ç”Ÿï¼Œä½ èƒ½ä¸è¯´è¿™æ˜¯ç”Ÿå‘½æ‰€åˆ›é€ çš„å¥‡è¿¹å—ï¼ŸåŽ»è¿½å¯»ä½ çš„æ¢¦æƒ³ï¼ŒåŽ»ä½ æƒ³åŽ»çš„åœ°æ–¹ï¼Œåšä¸€ä¸ªä½ æƒ³åšçš„äººã€‚å› ä¸ºï¼Œç”Ÿå‘½åªæœ‰ä¸€æ¬¡ï¼Œäº¦åªå¾—ä¸€æ¬¡æœºä¼šåŽ»åšä½ æ‰€æƒ³åšçš„äº‹ã€‚æˆ‘ä»¬åº”è®©è‡ªå·±çš„ç”Ÿå‘½åœ¨ç†æ™ºçš„æå‡»ä¸­åº¦è¿‡ï¼Œå°±åƒè½å¶ã€è°¢èŠ±ä¸€æ ·ï¼Œæ½‡æ´’åœ°æ¥ï¼Œæ½‡æ´’åœ°åŽ»ï¼Œåšåˆ°å¯¹ç”Ÿå‘½æ— æ€¨æ— æ‚”ï¼Œè®©ç”Ÿå‘½ä¹‹å…‰æ°¸è¿œè¾‰ç…Œã€‚ççˆ±ç”Ÿå‘½å§ï¼Œå“ªæ€•ç”Ÿå‘½åªæœ‰ä¸€éœŽé‚£ï¼Œé‚£ä¹Ÿè®©å®ƒæˆä¸ºä¸€ç§æ°¸æ’ï¼]]></content>
      <categories>
        <category>æˆ‘çˆ±çš„äºº</category>
      </categories>
      <tags>
        <tag>å¥¹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[addone]]></title>
    <url>%2F2017%2F04%2F20%2Faddone%2F</url>
    <content type="text"><![CDATA[æ¬¢è¿Žå„ä½æ¥åˆ°æˆ‘çš„ç®€å•åšå®¢ å…¶å®žè¿™é‡Œä»€ä¹ˆéƒ½æ²¡æœ‰2333333333333333]]></content>
      <categories>
        <category>å…³äºŽæˆ‘</category>
      </categories>
      <tags>
        <tag>æˆ‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æŸä½å°å°‘å¥³çš„æ•£æ–‡è¯—-1]]></title>
    <url>%2F2017%2F04%2F20%2FgwyhArticle3%2F</url>
    <content type="text"><![CDATA[æˆ‘ æƒ³æˆ‘æƒ³æŠŠè€³æœµï¼Œè´´åœ¨æºªè¾¹çš„å°æ ‘ä¸Šã€‚å¬å°æºªæ¸…è„†åœ°æ¼”å¥ï¼Œå¬å°é¸Ÿæ¬¢å¿«åœ°å•¼å«ã€‚å¬å•Šï¼Œå¬â€”â€”æ¥åˆ°æ¢¦ä¸€èˆ¬çš„ä»™å¢ƒã€‚æˆ‘æƒ³æŠŠé¼»å­ï¼Œæ”¾åœ¨é²œèŠ±ä¸Šã€‚é—»é²œèŠ±çš„èŠ³é¦™ï¼Œå—…ç”Ÿå‘½çš„æ¸…çˆ½ã€‚é—»å•Šï¼Œé—»â€”â€”ä½¿æˆ‘æ›´åŠ èˆ’çˆ½ã€‚æˆ‘æƒ³æŠŠåŒæ‰‹ï¼Œè£…åœ¨é£žæœºä¸Šã€‚æ‰ä½æŸ”è½¯çš„ç™½äº‘ï¼Œé€®ä½å¤ªé˜³çš„å…‰ã€‚çŽ©å•Šï¼ŒçŽ©â€”â€”è“å¤©æ˜¯æˆ‘çš„ä¹å›­ã€‚æˆ‘æƒ³æŠŠè‡ªå·±ï¼Œå˜æˆä¸€æ¡é±¼ã€‚åœ¨æµ·åº•ï¼Œä¸Žå°é±¼å¬‰æˆï¼Œä¸Žæµ·è—»çŽ©è€ã€‚æ— å¿§æ— è™‘ï¼Œå°½æƒ…ç•…æ¸¸ã€‚æ¸¸å•Šï¼Œæ¸¸â€”â€”æµ·åº•å°±æ˜¯æˆ‘çš„å®¶ã€‚æˆ‘æƒ³æŠŠè‡ªå·±ï¼ŒåŒ–ä¸ºä¸€åªé›„é¹°ã€‚ä¿¯çœ‹é•¿åŸŽçš„é›„ä¼Ÿï¼Œå†çž§è‰åŽŸçš„è¾½é˜”ã€‚é£žå•Šï¼Œé£žâ€”â€”è§è¯ç¥–å›½çš„æ¬£è£ç¹èŒ‚ã€‚æˆ‘æƒ³å¼ å¼€åŒè‡‚ï¼ŒæŠŠç¥–å›½çš„å±±å·æ½å…¥æ€€ä¸­ã€‚å°½äº«å±±ä¹‹é™ï¼Œæ°´ä¹‹ç¾Žã€‚æˆ‘æƒ³æœ‰ä¸€ç™¾å¼ ï¼Œä¸€åƒå¼ å˜´ï¼Œæ¥æ­Œå”±æˆ‘çš„ç¥–å›½â€”â€”ç¥–å›½ï¼Œæˆ‘ä¸ºä½ éª„å‚²ï¼]]></content>
      <categories>
        <category>æˆ‘çˆ±çš„äºº</category>
      </categories>
      <tags>
        <tag>å¥¹</tag>
      </tags>
  </entry>
</search>
